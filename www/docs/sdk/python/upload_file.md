---
id: upload
title: Upload Files
hide_table_of_contents: true
---

import CodePanel from '@site/src/theme/CodePanel';
import { Spacer } from "@site/src/components/ui/Spacer";

This guide demonstrates how to upload files (PDFs, DOCX, and more) to a 
Vectara corpus using the Python SDK. Uploaded files are automatically parsed, 
chunked, and indexed—making their contents instantly available for search 
and Retrieval Augmented Generation (RAG).

Use file upload for:
- Bulk onboarding of policy docs, technical manuals, invoices, contracts, or research papers.
- Ingesting new content as soon as it is generated by your business.


## Best practices and tips

- **Metadata**: Use descriptive metadata for filtering/search 
  (`"department": "hr"`, `"year": 2025`).
- **Uniqueness**: Ensure `document_id` is unique per corpus.
- **Supported Formats**: PDF, DOCX, and more ([Full List](https://docs.vectara.com/docs/api-reference/indexing-apis/indexing#supported-file-formats)).
- **Table Extraction**: Use for invoices, contracts, or data-rich docs.
- **Verify Upload**: List docs with `client.documents.list(corpus_key)` or retrieve 
  with `client.documents.get`.


---

## Prerequisites

<CodePanel
  title="Install Vectara SDK"
  defaultLanguage="bash"
  snippets={[
    { language: 'bash', code: `pip install vectara` }
  ]}
  annotations={{
    bash: [{ line: 1, text: 'Installs the Vectara Python SDK.' }]
  }}
  customWidth="50%"
/>

1. **Install the SDK** with `pip install vectara`.
2. **Get an API key or OAuth token** from the [Vectara Console](https://console.vectara.com).
3. **Create a corpus** with `client.corpora.create` (see [Corpus Management](/docs/sdk/python/corpus)).
4. **Prepare files** on disk or as open file objects (HR_Policies.pdf).
5. **Initialize your client** with credentials.

---

## Upload a File to a Corpus

<CodePanel
  title="Upload an HR Policy PDF"
  defaultLanguage="python"
  snippets={[
    { language: 'python', code:
`from vectara import VectaraClient
from vectara.core import File

try:
    client = VectaraClient(api_key="your_api_key", customer_id="your_customer_id")
    response = client.upload.file(
        corpus_key="hr_policies",
        file=File("Employee_Benefits_2025.pdf"),
        document_id="benefits_policy_2025",
        metadata={"department": "hr", "policy_type": "benefits"}
    )
    print(f"Uploaded document: {response.document_id}")
    print(f"Status: {response.status}")
except Exception as e:
    print(f"Upload failed: {e}")`
    }
  ]}
  annotations={{
    python: [
      { line: 6, text: 'Target corpus key for your HR documents.' },
      { line: 7, text: 'File object for the PDF or DOCX file.' },
      { line: 8, text: 'Optional unique document ID.' },
      { line: 9, text: 'Attach metadata for filtering and search.' },
      { line: 11, text: 'Catches errors like invalid file or permissions.' }
    ]
  }}
  customWidth="50%"
/>

Upload a document (an HR policy or compliance guide) to a corpus.  
Vectara parses, chunks, and indexes it for semantic search—no manual splitting required.

---

### Upload with Table Extraction

<CodePanel
  title="Upload Customer Invoice with Table Extraction"
  defaultLanguage="python"
  snippets={[
    { language: 'python', code:
`from vectara import VectaraClient
from vectara.core import File
from vectara.types import TableExtractionConfig

try:
    client = VectaraClient(api_key="your_api_key", customer_id="your_customer_id")
    response = client.upload.file(
        corpus_key="finance_docs",
        file=File("AcmeCorp_Invoice_2025.pdf"),
        document_id="invoice_acme_2025_06",
        metadata={"doc_type": "invoice", "year": 2025, "customer": "AcmeCorp"},
        table_extraction_config=TableExtractionConfig(name="textract")
    )
    print(f"Invoice document indexed: {response.document_id}")
except Exception as e:
    print(f"Upload failed: {e}")`
    }
  ]}
  annotations={{
    python: [
      { line: 8, text: 'Enable extraction of tables for financial data.' },
      { line: 10, text: 'Catches errors like unsupported formats.' }
    ]
  }}
  customWidth="50%"
/>

For invoices or reports with tables, enable table extraction for better data retrieval.
<Spacer/>

---

### Upload from an Open File Object

<CodePanel
  title="Upload from File Object"
  defaultLanguage="python"
  snippets={[
    { language: 'python', code:
`from vectara import VectaraClient

try:
    with open("2025_research_paper.pdf", "rb") as fileobj:
        client = VectaraClient(api_key="your_api_key", customer_id="your_customer_id")
        response = client.upload.file(
            corpus_key="scientific_papers",
            file=fileobj,
            document_id="climate_impact_study_2025"
        )
    print(f"Uploaded paper: {response.document_id}")
except Exception as e:
    print(f"Upload failed: {e}")`
    }
  ]}
  annotations={{
    python: [
      { line: 4, text: 'Use "rb" mode to read files for upload.' },
      { line: 6, text: 'Pass file object instead of path.' },
      { line: 9, text: 'Catches errors like file access issues.' }
    ]
  }}
  customWidth="50%"
/>

If you are streaming files (such as from S3), upload directly from a file object.
<Spacer/>

---

### Error Handling Example

<CodePanel
  title="Upload Error Handling"
  defaultLanguage="python"
  snippets={[
    { language: 'python', code:
`from vectara import VectaraClient
from vectara.core import File

try:
    client = VectaraClient(api_key="your_api_key", customer_id="your_customer_id")
    response = client.upload.file(
        corpus_key="finance_docs",
        file=File("AcmeCorp_Invoice_2025.pdf"),
        document_id="invoice_acme_2025_06"
    )
except Exception as e:
    print(f"Upload failed: {e}")`
    }
  ]}
  annotations={{
    python: [
      { line: 7, text: 'Catches file format, permission, or duplicate errors.' }
    ]
  }}
  customWidth="50%"
/>

Handle errors when uploading, such as duplicate document IDs or invalid file formats.


## Parameters

- `corpus_key`: Target corpus (string).
- `file`/`file_path`: File object or path (use `vectara.core.File`).
- `document_id`: (optional) Unique ID for the uploaded doc.
- `metadata`: (optional) Dict for filtering and search.
- `table_extraction_config`: (optional) Enable table parsing with `TableExtractionConfig`.
- `timeout`: (optional) Request timeout.

Returns a dictionary including:
- `document_id`
- `status`
- `bytes_used`
- (if tables) `table_extraction_used`

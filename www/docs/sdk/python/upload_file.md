---
id: upload
title: Upload Files
hide_table_of_contents: true
---

import CodePanel from '@site/src/theme/CodePanel';
import { Spacer } from "@site/src/components/ui/Spacer";

# Vectara Python SDK: Uploading Files

This guide demonstrates how to upload files (PDFs, DOCX, and more) to a Vectara corpus using the Python SDK. Uploaded files are automatically parsed, chunked, and indexed—making their contents instantly available for search and Retrieval Augmented Generation (RAG).

Use file upload for:
- Bulk onboarding of policy docs, technical manuals, invoices, contracts, or research papers.
- Ingesting new content as soon as it is generated by your business.

---

## Prerequisites

<CodePanel
  title="Install Vectara SDK"
  defaultLanguage="bash"
  snippets={[
    { language: 'bash', code: `pip install vectara` }
  ]}
  annotations={{
    bash: [{ line: 1, text: 'Installs the Vectara Python SDK.' }]
  }}
  customWidth="50%"
/>

1. **Install the SDK** with `pip install vectara`.
2. **Get an API key or OAuth token** from the [Vectara Console](https://console.vectara.com).
3. **Create a corpus** with `client.corpora.create` (see [Corpus Management](vectara_python_sdk_corpora.md)).
4. **Prepare files** on disk or as open file objects (e.g., HR_Policies.pdf).
5. **Initialize your client** with credentials.

---

## Basic Usage

### Upload a File to a Corpus

<CodePanel
  title="Upload an HR Policy PDF"
  defaultLanguage="python"
  snippets={[
    { language: 'python', code:
`from vectara import VectaraClient

client = VectaraClient(api_key="your_api_key", customer_id="your_customer_id")

response = client.upload.file(
    corpus_key="hr_policies",
    file_path="Employee_Benefits_2025.pdf",
    document_id="benefits_policy_2025",
    metadata={"department": "hr", "policy_type": "benefits"}
)
print(f"Uploaded document: {response['document_id']}")
print(f"Status: {response['status']}")`
    }
  ]}
  annotations={{
    python: [
      { line: 6, text: 'Target corpus key for your HR documents.' },
      { line: 7, text: 'Path to the PDF or DOCX file.' },
      { line: 8, text: 'Optional unique document ID.' },
      { line: 9, text: 'Attach metadata for filtering and search.' }
    ]
  }}
    customWidth="50%"
/>

Upload a document (e.g., an HR policy or compliance guide) to a corpus.  
Vectara parses, chunks, and indexes it for semantic search—no manual splitting required.

---

### Upload with Table Extraction

For invoices or reports with tables, enable table extraction for better data retrieval.

<CodePanel
  title="Upload Customer Invoice with Table Extraction"
  defaultLanguage="python"
  snippets={[
    { language: 'python', code:
`response = client.upload.file(
    corpus_key="finance_docs",
    file_path="AcmeCorp_Invoice_2025.pdf",
    document_id="invoice_acme_2025_06",
    metadata={"doc_type": "invoice", "year": 2025, "customer": "AcmeCorp"},
    table_extraction={"name": "textract"}
)
print(f"Invoice document indexed: {response['document_id']}")`
    }
  ]}
  annotations={{
    python: [
      { line: 6, text: 'Enable extraction of tables for financial data.' }
    ]
  }}
  customWidth="50%"
/>
<Spacer/>

---

### Upload from an Open File Object

If you are streaming files (e.g., from S3), upload directly from a file object.

<CodePanel
  title="Upload from File Object"
  defaultLanguage="python"
  snippets={[
    { language: 'python', code:
`with open("2025_research_paper.pdf", "rb") as fileobj:
    response = client.upload.file(
        corpus_key="scientific_papers",
        file=fileobj,
        document_id="climate_impact_study_2025"
    )
print(f"Uploaded paper: {response['document_id']}")`
    }
  ]}
  annotations={{
    python: [
      { line: 1, text: 'Use "rb" mode to read files for upload.' },
      { line: 3, text: 'Pass file object instead of path.' }
    ]
  }}
  customWidth="50%"
/>
<Spacer/>

---

### Error Handling Example

Handle errors when uploading, such as duplicate document IDs or invalid file formats.

<CodePanel
  title="Upload Error Handling"
  defaultLanguage="python"
  snippets={[
    { language: 'python', code:
`try:
    response = client.upload.file(
        corpus_key="finance_docs",
        file_path="AcmeCorp_Invoice_2025.pdf",
        document_id="invoice_acme_2025_06"
    )
except Exception as e:
    print(f"Upload failed: {e}")`
    }
  ]}
  annotations={{
    python: [
      { line: 2, text: 'Catches file format, permission, or duplicate errors.' }
    ]
  }}
/>
<Spacer/>

---

## Parameters

- **corpus_key**: Target corpus (string).
- **file_path**/**file**: Path or open file object.
- **document_id**: (optional) Unique ID for the uploaded doc.
- **metadata**: (optional) Dict for filtering and search.
- **table_extraction**: (optional) Enable table parsing.
- **timeout**: (optional) Request timeout.

Returns a dict including:
- `document_id`
- `status`
- `bytes_used`
- (if tables) `table_extraction_used`

---

## Best Practices & Tips

- **Metadata**: Use descriptive metadata for filtering/search (e.g., `"department": "hr"`, `"year": 2025`).
- **Uniqueness**: Ensure `document_id` is unique per corpus.
- **Supported Formats**: PDF, DOCX, and more ([Full List](https://docs.vectara.com/docs/api-reference/indexing-apis/indexing#supported-file-formats)).
- **Table Extraction**: Use for invoices, contracts, or data-rich docs.
- **Verify Upload**: List docs with `client.documents.list(corpus_key)` or retrieve with `client.documents.get`.

---

## After Uploading

- Query your data:  
  See [Querying Corpora Guide](vectara_python_sdk_queries.md)
- Use chat or generative APIs:  
  See [Conversational AI Guide](vectara_python_sdk_chat.md)

---

**Need additional recipes, error codes, or vertical-specific examples? Let us know!**

---
id: replace-filter-attributes
title: "Replace the filter attributes of a corpus"
description: "Replace the filter attributes of a corpus. This does not happen immediately, as this operation creates a job that completes asynchronously. These new filter attributes will not work until the job completes."
sidebar_label: "Replace the filter attributes of a corpus"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Replace the filter attributes of a corpus"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v2/corpora/{corpus_key}/replace_filter_attributes"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Replace the filter attributes of a corpus. This does not happen immediately, as this operation creates a job that completes asynchronously. These new filter attributes will not work until the job completes.
You can monitor the status of the filter change using the returned job ID. The `corpus_key` uniquely identifies the corpus. For more information, see [Corpus Key Definition](https://docs.vectara.com/docs/api-reference/search-apis/search#corpus-key-definition).

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false},{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}},{"in":"path","name":"corpus_key","description":"The unique key identifying the corpus having its filters replaced.","required":true,"schema":{"description":"A user-provided key for a corpus.","type":"string","example":"my-corpus","pattern":"[a-zA-Z0-9_\\=\\-]+$","maxLength":50,"title":"CorpusKey"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Request to replace all filter attributes for a corpus with a new set of attributes.","type":"object","properties":{"filter_attributes":{"description":"The new filter attributes.","type":"array","items":{"description":"Defines a filter attribute that can be used to filter search results based on document metadata for precise retrieval.","type":"object","properties":{"name":{"description":"The JSON path of the filter attribute in a document or document part metadata.","type":"string","example":"Title"},"level":{"description":"Indicates whether this is a document or document part metadata filter.","type":"string","enum":["document","part"],"example":"document"},"description":{"description":"Description of the filter. May be omitted.","type":"string","example":"The title of the document."},"indexed":{"description":"Indicates whether an index should be created for the filter. Creating an index will improve query latency when using the filter.","type":"boolean","default":true},"type":{"description":"The value type of the filter.","type":"string","enum":["integer","real_number","text","boolean","list[integer]","list[real_number]","list[text]"],"example":"text"}},"required":["name","level","type"],"title":"FilterAttribute"}}},"required":["filter_attributes"],"title":"ReplaceFilterAttributesRequest"},"examples":{"Legal":{"summary":"Replace filter attributes for a legal contracts corpus to enable querying by jurisdiction and document type, supporting precise legal analysis","value":{"filter_attributes":[{"name":"jurisdiction","level":"document","description":"The legal jurisdiction of the contract (Delaware, California).","indexed":true,"type":"text"},{"name":"type","level":"document","description":"The type of legal document (employment_contract, nda).","indexed":true,"type":"text"}]}},"Finance":{"summary":"Replace filter attributes for a financial reports corpus to facilitate querying by sector and reporting period, enhancing financial data analysis","value":{"filter_attributes":[{"name":"sector","level":"document","description":"The industry sector of the financial report (Banking, Technology).","indexed":true,"type":"text"},{"name":"quarter","level":"document","description":"The reporting quarter (Q1-2025).","indexed":true,"type":"text"}]}},"Support":{"summary":"Replace filter attributes for a support tickets corpus to support querying by issue type and platform, streamlining customer support troubleshooting","value":{"filter_attributes":[{"name":"issue","level":"document","description":"The type of support issue (auth_token_stale, login_error).","indexed":true,"type":"text"},{"name":"platform","level":"document","description":"The platform where the issue occurred (web_portal, mobile_app).","indexed":true,"type":"text"}]}}}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successfully created a job that will replace the filter attributes.","content":{"application/json":{"schema":{"description":"Response containing the job ID for the filter attributes replacement operation.","type":"object","properties":{"job_id":{"description":"Job that was created in order to replace filter attributes.","type":"string","pattern":"job_.+$"}},"required":["job_id"],"title":"ReplaceFilterAttributesResponse"},"examples":{"Legal":{"summary":"Initiated a job to replace filter attributes for a legal contracts corpus, enabling queries by jurisdiction and document type for efficient contract analysis","value":{"job_id":"job_legal_45678","status":"queued"}},"Finance":{"summary":"Initiated a job to replace filter attributes for a financial reports corpus, allowing queries by sector and quarter to support detailed financial insights","value":{"job_id":"job_fin_78901","status":"queued"}},"Support":{"summary":"Initiated a job to replace filter attributes for a support tickets corpus, enabling queries by issue type and platform to optimize support ticket resolution","value":{"job_id":"job_support_23456","status":"queued"}}}}}},"403":{"description":"Permissions do not allow replacing filter attributes.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}},"404":{"description":"Corpus not found.","content":{"application/json":{"schema":{"description":"Error returned when a requested resource does not exist.","type":"object","properties":{"id":{"description":"The ID cannot be found.","type":"string"},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"NotFoundError"}}}}}}
>
  
</StatusCodes>


      
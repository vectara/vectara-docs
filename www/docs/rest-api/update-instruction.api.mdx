---
id: update-instruction
title: "Update instruction"
description: "Update an existing instruction's template, metadata, and configuration."
sidebar_label: "Update instruction"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "patch api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Update instruction"}
>
</Heading>

<MethodEndpoint
  method={"patch"}
  path={"/v2/instructions/{instruction_id}"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Update an existing instruction's template, metadata, and configuration.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false},{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}},{"in":"path","name":"instruction_id","description":"The unique identifier of the instruction to update.","required":true,"schema":{"description":"The unique identifier for an instruction.","type":"string","pattern":"ins_[0-9a-zA-Z_-]+$","example":"ins_customer_support_init","title":"InstructionId"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"description":"Request to update an instruction. Currently only initial instructions are supported.","discriminator":{"propertyName":"type","mapping":{"initial":{"description":"Request object for updating an existing initial instruction.","type":"object","properties":{"type":{"description":"The type of instruction to update.","type":"string","default":"initial","example":"initial"},"name":{"description":"The human-readable name of an instruction.","type":"string","minLength":1,"maxLength":50,"example":"Customer Support Initial Instruction","title":"InstructionName"},"description":{"description":"A detailed description of what this instruction does.","type":"string","example":"Enhanced initial context and guidelines for customer support interactions"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are an expert customer support agent for Acme Corp. Today's date is ${currentDate}. Available tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"metadata":{"description":"Arbitrary metadata associated with the instruction.","type":"object","additionalProperties":true,"example":{"version":"1.1.0","author":"support-team","last_reviewed":"2024-01-15"}},"enabled":{"description":"Whether the instruction is enabled.","type":"boolean","example":true}},"required":["type"],"x-vectaraParents":["UpdateInstructionRequest"],"title":"UpdateInitialInstructionRequest"}}},"oneOf":[{"description":"Request object for updating an existing initial instruction.","type":"object","properties":{"type":{"description":"The type of instruction to update.","type":"string","default":"initial","example":"initial"},"name":{"description":"The human-readable name of an instruction.","type":"string","minLength":1,"maxLength":50,"example":"Customer Support Initial Instruction","title":"InstructionName"},"description":{"description":"A detailed description of what this instruction does.","type":"string","example":"Enhanced initial context and guidelines for customer support interactions"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are an expert customer support agent for Acme Corp. Today's date is ${currentDate}. Available tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"metadata":{"description":"Arbitrary metadata associated with the instruction.","type":"object","additionalProperties":true,"example":{"version":"1.1.0","author":"support-team","last_reviewed":"2024-01-15"}},"enabled":{"description":"Whether the instruction is enabled.","type":"boolean","example":true}},"required":["type"],"x-vectaraParents":["UpdateInstructionRequest"],"title":"UpdateInitialInstructionRequest"}],"title":"UpdateInstructionRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"The instruction has been updated successfully.","content":{"application/json":{"schema":{"description":"An instruction that guides agent behavior.","type":"object","properties":{"id":{"description":"The unique identifier for an instruction.","type":"string","pattern":"ins_[0-9a-zA-Z_-]+$","example":"ins_customer_support_init","title":"InstructionId"},"name":{"description":"The human-readable name of an instruction.","type":"string","minLength":1,"maxLength":50,"example":"Customer Support Initial Instruction","title":"InstructionName"},"description":{"description":"A detailed description of what this instruction does.","type":"string"},"version":{"description":"The version identifier for this instruction. This is automatically incremented when the instruction is updated.","type":"integer","minimum":1,"example":1},"metadata":{"description":"Arbitrary metadata associated with the instruction.","type":"object","additionalProperties":true},"enabled":{"description":"Whether the instruction is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the instruction was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the instruction was last updated.","type":"string","format":"date-time"}},"required":["id","name","version","enabled"],"discriminator":{"propertyName":"type","mapping":{"initial":{"description":"An initial instruction that provides guidance to the agent before user messages.","allOf":["circular(Instruction)",{"type":"object","properties":{"type":{"description":"The type of instruction.","type":"string","default":"initial","example":"initial"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are a helpful customer support agent for Acme Corp. Today's date is ${currentDate}. You have access to the following tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"}},"required":["type","template_type","template"]}],"x-vectaraParents":["Instruction"],"title":"InitialInstruction"}}},"oneOf":[{"description":"An initial instruction that provides guidance to the agent before user messages.","allOf":["circular(Instruction)",{"type":"object","properties":{"type":{"description":"The type of instruction.","type":"string","default":"initial","example":"initial"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are a helpful customer support agent for Acme Corp. Today's date is ${currentDate}. You have access to the following tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"}},"required":["type","template_type","template"]}],"x-vectaraParents":["Instruction"],"title":"InitialInstruction"}],"title":"Instruction"}}}},"400":{"description":"Instruction update request was malformed or contains invalid content.","content":{"application/json":{"schema":{"description":"Error returned when a request contains invalid parameters or violates schema validation.","type":"object","properties":{"field_errors":{"description":"The errors that relate to specific fields in the request.","type":"object","additionalProperties":{"type":"string"}},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"BadRequestError"}}}},"403":{"description":"Permissions do not allow updating this instruction.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}},"404":{"description":"Instruction not found.","content":{"application/json":{"schema":{"description":"Error returned when a requested resource does not exist.","type":"object","properties":{"id":{"description":"The ID cannot be found.","type":"string"},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"NotFoundError"}}}}}}
>
  
</StatusCodes>


      
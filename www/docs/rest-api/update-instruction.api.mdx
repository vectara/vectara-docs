---
id: update-instruction
title: "Update instruction"
description: "Update an existing instruction's template, metadata, and configuration."
sidebar_label: "Update instruction"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "patch api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Update instruction"}
>
</Heading>

<MethodEndpoint
  method={"patch"}
  path={"/v2/instructions/{instruction_id}"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Update an existing instruction's template, metadata, and configuration.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false},{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}},{"in":"path","name":"instruction_id","description":"The unique identifier of the instruction to update.","required":true,"schema":{"description":"The unique identifier for an instruction.","type":"string","pattern":"ins_[0-9a-zA-Z_-]+$","example":"ins_customer_support_init","title":"InstructionId"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"description":"Request to update an instruction. Currently only initial instructions are supported.","discriminator":{"propertyName":"type","mapping":{"initial":{"description":"Request object for updating an existing initial instruction.","type":"object","properties":{"type":{"description":"The type of instruction to update.","type":"string","default":"initial","example":"initial"},"name":{"description":"The human-readable name of an instruction.","type":"string","minLength":1,"maxLength":50,"example":"Customer Support Initial Instruction","title":"InstructionName"},"description":{"description":"A detailed description of what this instruction does.","type":"string","example":"Enhanced initial context and guidelines for customer support interactions"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are an expert customer support agent for Acme Corp. Today's date is ${currentDate}. Available tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"metadata":{"description":"Arbitrary metadata associated with the instruction.","type":"object","additionalProperties":true,"example":{"version":"1.1.0","author":"support-team","last_reviewed":"2024-01-15"}},"enabled":{"description":"Whether the instruction is enabled.","type":"boolean","example":true}},"required":["type"],"x-vectaraParents":["UpdateInstructionRequest"],"title":"UpdateInitialInstructionRequest"}}},"oneOf":[{"description":"Request object for updating an existing initial instruction.","type":"object","properties":{"type":{"description":"The type of instruction to update.","type":"string","default":"initial","example":"initial"},"name":{"description":"The human-readable name of an instruction.","type":"string","minLength":1,"maxLength":50,"example":"Customer Support Initial Instruction","title":"InstructionName"},"description":{"description":"A detailed description of what this instruction does.","type":"string","example":"Enhanced initial context and guidelines for customer support interactions"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are an expert customer support agent for Acme Corp. Today's date is ${currentDate}. Available tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"metadata":{"description":"Arbitrary metadata associated with the instruction.","type":"object","additionalProperties":true,"example":{"version":"1.1.0","author":"support-team","last_reviewed":"2024-01-15"}},"enabled":{"description":"Whether the instruction is enabled.","type":"boolean","example":true}},"required":["type"],"x-vectaraParents":["UpdateInstructionRequest"],"title":"UpdateInitialInstructionRequest"}],"title":"UpdateInstructionRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"The instruction has been updated successfully.","content":{"application/json":{"schema":{"description":"An instruction that guides agent behavior.","discriminator":{"propertyName":"type","mapping":{"initial":{"description":"An initial instruction that provides guidance to the agent before user messages.","type":"object","properties":{"id":{"description":"The unique identifier for an instruction.","type":"string","pattern":"ins_[0-9a-zA-Z_-]+$","example":"ins_customer_support_init","title":"InstructionId"},"type":{"description":"The type of instruction.","type":"string","default":"initial","example":"initial"},"name":{"description":"The human-readable name of an instruction.","type":"string","minLength":1,"maxLength":50,"example":"Customer Support Initial Instruction","title":"InstructionName"},"description":{"description":"A detailed description of what this instruction does.","type":"string"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are a helpful customer support agent for Acme Corp. Today's date is ${currentDate}. You have access to the following tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"},"version":{"description":"The version identifier for this instruction. This is automatically incremented when the instruction is updated.","type":"integer","minimum":1,"example":1},"metadata":{"description":"Arbitrary metadata associated with the instruction.","type":"object","additionalProperties":true},"enabled":{"description":"Whether the instruction is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the instruction was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the instruction was last updated.","type":"string","format":"date-time"}},"required":["id","type","name","template_type","template","version","enabled"],"x-vectaraParents":["Instruction"],"title":"InitialInstruction"}}},"oneOf":[{"description":"An initial instruction that provides guidance to the agent before user messages.","type":"object","properties":{"id":{"description":"The unique identifier for an instruction.","type":"string","pattern":"ins_[0-9a-zA-Z_-]+$","example":"ins_customer_support_init","title":"InstructionId"},"type":{"description":"The type of instruction.","type":"string","default":"initial","example":"initial"},"name":{"description":"The human-readable name of an instruction.","type":"string","minLength":1,"maxLength":50,"example":"Customer Support Initial Instruction","title":"InstructionName"},"description":{"description":"A detailed description of what this instruction does.","type":"string"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are a helpful customer support agent for Acme Corp. Today's date is ${currentDate}. You have access to the following tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"},"version":{"description":"The version identifier for this instruction. This is automatically incremented when the instruction is updated.","type":"integer","minimum":1,"example":1},"metadata":{"description":"Arbitrary metadata associated with the instruction.","type":"object","additionalProperties":true},"enabled":{"description":"Whether the instruction is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the instruction was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the instruction was last updated.","type":"string","format":"date-time"}},"required":["id","type","name","template_type","template","version","enabled"],"x-vectaraParents":["Instruction"],"title":"InitialInstruction"}],"title":"Instruction"}}}},"400":{"description":"Instruction update request was malformed or contains invalid content.","content":{"application/json":{"schema":{"description":"Error returned when a request contains invalid parameters or violates schema validation.","type":"object","properties":{"field_errors":{"description":"The errors that relate to specific fields in the request.","type":"object","additionalProperties":{"type":"string"}},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"BadRequestError"}}}},"403":{"description":"Permissions do not allow updating this instruction.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}},"404":{"description":"Instruction not found.","content":{"application/json":{"schema":{"description":"Error returned when a requested resource does not exist.","type":"object","properties":{"id":{"description":"The ID cannot be found.","type":"string"},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"NotFoundError"}}}}}}
>
  
</StatusCodes>


      
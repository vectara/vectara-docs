---
id: update-instruction
title: "Update instruction"
description: "Update an existing instruction's template, metadata, and configuration."
sidebar_label: "Update instruction"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "patch api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Update instruction"}
>
</Heading>

<MethodEndpoint
  method={"patch"}
  path={"/v2/instructions/{instruction_id}"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Update an existing instruction's template, metadata, and configuration.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false},{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}},{"in":"path","name":"instruction_id","description":"The unique identifier of the instruction to update.","required":true,"schema":{"description":"The unique identifier for an instruction.","type":"string","pattern":"ins_[0-9a-zA-Z_-]+$","example":"ins_customer_support_init","title":"InstructionId"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"description":"Request to update an instruction. Currently only initial instructions are supported.","discriminator":{"propertyName":"type","mapping":{"initial":{"description":"Request object for updating an existing initial instruction.","type":"object","properties":{"type":{"description":"The type of instruction to update.","type":"string","default":"initial","example":"initial"},"name":{"description":"The human-readable name of the instruction.","type":"string","example":"Updated Customer Support Instruction"},"description":{"description":"A detailed description of what this instruction does.","type":"string","example":"Enhanced initial context and guidelines for customer support interactions"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are an expert customer support agent for Acme Corp. Today's date is ${currentDate}. Available tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"metadata":{"description":"Arbitrary metadata associated with the instruction.","type":"object","additionalProperties":true,"example":{"version":"1.1.0","author":"support-team","last_reviewed":"2024-01-15"}},"enabled":{"description":"Whether the instruction is enabled.","type":"boolean","example":true}},"required":["type"],"x-vectaraParents":["UpdateInstructionRequest"],"title":"UpdateInitialInstructionRequest"}}},"oneOf":[{"description":"Request object for updating an existing initial instruction.","type":"object","properties":{"type":{"description":"The type of instruction to update.","type":"string","default":"initial","example":"initial"},"name":{"description":"The human-readable name of the instruction.","type":"string","example":"Updated Customer Support Instruction"},"description":{"description":"A detailed description of what this instruction does.","type":"string","example":"Enhanced initial context and guidelines for customer support interactions"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are an expert customer support agent for Acme Corp. Today's date is ${currentDate}. Available tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"metadata":{"description":"Arbitrary metadata associated with the instruction.","type":"object","additionalProperties":true,"example":{"version":"1.1.0","author":"support-team","last_reviewed":"2024-01-15"}},"enabled":{"description":"Whether the instruction is enabled.","type":"boolean","example":true}},"required":["type"],"x-vectaraParents":["UpdateInstructionRequest"],"title":"UpdateInitialInstructionRequest"}],"title":"UpdateInstructionRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"The instruction has been updated successfully.","content":{"application/json":{"schema":{"description":"An instruction that guides agent behavior.","type":"object","properties":{"id":{"description":"The unique identifier for an instruction.","type":"string","pattern":"ins_[0-9a-zA-Z_-]+$","example":"ins_customer_support_init","title":"InstructionId"},"name":{"description":"The human-readable name of the instruction.","type":"string"},"description":{"description":"A detailed description of what this instruction does.","type":"string"},"version":{"description":"The version identifier for this instruction. This is automatically incremented when the instruction is updated.","type":"integer","minimum":1,"example":1},"metadata":{"description":"Arbitrary metadata associated with the instruction.","type":"object","additionalProperties":true},"enabled":{"description":"Whether the instruction is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the instruction was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the instruction was last updated.","type":"string","format":"date-time"}},"required":["id","name","version","enabled"],"discriminator":{"propertyName":"type","mapping":{"initial":{"description":"An initial instruction that provides guidance to the agent before user messages.","allOf":["circular(Instruction)",{"type":"object","properties":{"type":{"description":"The type of instruction.","type":"string","default":"initial","example":"initial"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are a helpful customer support agent for Acme Corp. Today's date is ${currentDate}. You have access to the following tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"}},"required":["type","template_type","template"]}],"x-vectaraParents":["Instruction"],"title":"InitialInstruction"}}},"oneOf":[{"description":"An initial instruction that provides guidance to the agent before user messages.","allOf":["circular(Instruction)",{"type":"object","properties":{"type":{"description":"The type of instruction.","type":"string","default":"initial","example":"initial"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are a helpful customer support agent for Acme Corp. Today's date is ${currentDate}. You have access to the following tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"}},"required":["type","template_type","template"]}],"x-vectaraParents":["Instruction"],"title":"InitialInstruction"}],"title":"Instruction"}}}},"400":{"description":"Instruction update request was malformed or contains invalid content.","content":{"application/json":{"schema":{"description":"Error returned when a request contains invalid parameters or violates schema validation.","type":"object","properties":{"field_errors":{"description":"The errors that relate to specific fields in the request.","type":"object","additionalProperties":{"type":"string"}},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"BadRequestError"}}}},"403":{"description":"Permissions do not allow updating this instruction.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}},"404":{"description":"Instruction not found.","content":{"application/json":{"schema":{"description":"Error returned when a requested resource does not exist.","type":"object","properties":{"id":{"description":"The ID cannot be found.","type":"string"},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"NotFoundError"}}}}}}
>
  
</StatusCodes>


      
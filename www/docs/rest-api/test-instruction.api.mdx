---
id: test-instruction
title: "Test instruction"
description: "Test an instruction template using supplied context and available tools. This endpoint evaluates Velocity expressions such as `\$tools`, `\${session.metadata.field}`, or `\${agent.metadata.field}`, and returns the fully rendered template output. Use this operation to validate formatting, logic, or metadata-dependent behavior before deploying instructions to agents."
sidebar_label: "Test instruction"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Test instruction"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v2/instructions/{instruction_id}/test"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Test an instruction template using supplied context and available tools. This endpoint evaluates Velocity expressions such as `$tools`, `${session.metadata.field}`, or `${agent.metadata.field}`, and returns the fully rendered template output. Use this operation to validate formatting, logic, or metadata-dependent behavior before deploying instructions to agents.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false},{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}},{"in":"path","name":"instruction_id","description":"The unique identifier of the instruction to test.","required":true,"schema":{"description":"The unique identifier for an instruction.","type":"string","pattern":"ins_[0-9a-zA-Z_-]+$","example":"ins_customer_support_init","title":"InstructionId"}},{"in":"query","name":"version","description":"The specific version of the instruction to test. If not specified, the latest version will be used.","required":false,"schema":{"type":"integer","minimum":1,"example":1}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"description":"Request to test an instruction with provided context data.","type":"object","properties":{"context":{"description":"Context data to use when rendering the instruction template. This will be merged into `$session.metadata` for template access.\n\nExample: If you provide `{\"currentDate\": \"2024-01-15\"}`, you can access it in the template as `$session.metadata.currentDate`.\n","type":"object","additionalProperties":true,"example":{"currentDate":"2024-01-15","companyName":"Acme Corp"}},"tools":{"description":"List of tools to include in the instruction context for testing.","type":"array","items":{"description":"A tool that can be used by agents to perform specific actions or operations.","discriminator":{"propertyName":"type","mapping":{"mcp":{"description":"An MCP (Model Context Protocol) tool that connects to external MCP servers for extended functionality.","allOf":[{"description":"Base properties shared by all tool types.","type":"object","properties":{"id":{"description":"Unique identifier for a tool.","type":"string","pattern":"^tol_.*","example":"tol_123e4567-e89b-12d3-a456-426614174000","title":"ToolId"},"name":{"description":"Unique identifier for the tool.","type":"string"},"title":{"description":"Human-readable title of the tool.","type":"string"},"description":{"description":"A detailed description of what the tool does and how it can be used.","type":"string"},"description_template":{"description":"Velocity template for generating dynamic tool descriptions. When set, this template is rendered at runtime to produce the tool description.\n\nAvailable Velocity variables:\n- `$agent.name` - Agent name\n- `$agent.metadata` - Agent metadata map\n- `$session.key` - Session key\n- `$session.metadata` - Session metadata map\n- `$currentDate` - Current date/time in ISO 8601 format (e.g., \"2025-10-24T15:30:45Z\")\n\nExample: \"Search tool configured for agent $agent.name on $currentDate\"\n","type":"string","title":"ToolDescriptionTemplate"},"enabled":{"description":"Whether the tool is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the tool was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the tool was last updated.","type":"string","format":"date-time"},"input_schema":{"description":"The schema that defines the expected input structure for the tool.","type":"object","additionalProperties":true}},"required":["id","name","description","enabled","input_schema"],"title":"ToolBase"},{"type":"object","properties":{"type":{"description":"This should always be `mcp`.","type":"string","default":"mcp","example":"mcp"},"server_id":{"description":"Unique identifier for a tool server.","type":"string","pattern":"^tsr_.*","example":"tsr_rag_search","title":"ToolServerId"},"annotations":{"description":"Optional hints about tool behaviour/metadata.","type":"object","properties":{"read_only_hint":{"description":"If true, the tool does not modify its environment.","type":"boolean"},"destructive_hint":{"description":"If true, the tool may perform destructive updates.","type":"boolean"},"idempotent_hint":{"description":"If true, repeated calls with same args have no additional effect.","type":"boolean"},"open_world_hint":{"description":"If true, tool interacts with external entities.","type":"boolean"}},"additionalProperties":true,"title":"McpToolAnnotations"}},"required":["type"]}],"x-vectaraParents":["Tool"],"title":"McpTool"},"corpora_search":{"description":"A corpora search tool that searches through Vectara corpora to find relevant information.","allOf":[{"description":"Base properties shared by all tool types.","type":"object","properties":{"id":{"description":"Unique identifier for a tool.","type":"string","pattern":"^tol_.*","example":"tol_123e4567-e89b-12d3-a456-426614174000","title":"ToolId"},"name":{"description":"Unique identifier for the tool.","type":"string"},"title":{"description":"Human-readable title of the tool.","type":"string"},"description":{"description":"A detailed description of what the tool does and how it can be used.","type":"string"},"description_template":{"description":"Velocity template for generating dynamic tool descriptions. When set, this template is rendered at runtime to produce the tool description.\n\nAvailable Velocity variables:\n- `$agent.name` - Agent name\n- `$agent.metadata` - Agent metadata map\n- `$session.key` - Session key\n- `$session.metadata` - Session metadata map\n- `$currentDate` - Current date/time in ISO 8601 format (e.g., \"2025-10-24T15:30:45Z\")\n\nExample: \"Search tool configured for agent $agent.name on $currentDate\"\n","type":"string","title":"ToolDescriptionTemplate"},"enabled":{"description":"Whether the tool is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the tool was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the tool was last updated.","type":"string","format":"date-time"},"input_schema":{"description":"The schema that defines the expected input structure for the tool.","type":"object","additionalProperties":true}},"required":["id","name","description","enabled","input_schema"],"title":"ToolBase"},{"type":"object","properties":{"type":{"description":"This should always be `corpora_search`.","type":"string","default":"corpora_search","example":"corpora_search"}},"required":["type"]}],"x-vectaraParents":["Tool"],"title":"CorporaSearchTool"},"web_search":{"description":"A web search tool that searches the internet for relevant information.","allOf":[{"description":"Base properties shared by all tool types.","type":"object","properties":{"id":{"description":"Unique identifier for a tool.","type":"string","pattern":"^tol_.*","example":"tol_123e4567-e89b-12d3-a456-426614174000","title":"ToolId"},"name":{"description":"Unique identifier for the tool.","type":"string"},"title":{"description":"Human-readable title of the tool.","type":"string"},"description":{"description":"A detailed description of what the tool does and how it can be used.","type":"string"},"description_template":{"description":"Velocity template for generating dynamic tool descriptions. When set, this template is rendered at runtime to produce the tool description.\n\nAvailable Velocity variables:\n- `$agent.name` - Agent name\n- `$agent.metadata` - Agent metadata map\n- `$session.key` - Session key\n- `$session.metadata` - Session metadata map\n- `$currentDate` - Current date/time in ISO 8601 format (e.g., \"2025-10-24T15:30:45Z\")\n\nExample: \"Search tool configured for agent $agent.name on $currentDate\"\n","type":"string","title":"ToolDescriptionTemplate"},"enabled":{"description":"Whether the tool is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the tool was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the tool was last updated.","type":"string","format":"date-time"},"input_schema":{"description":"The schema that defines the expected input structure for the tool.","type":"object","additionalProperties":true}},"required":["id","name","description","enabled","input_schema"],"title":"ToolBase"},{"type":"object","properties":{"type":{"description":"This should always be `web_search`.","type":"string","default":"web_search","example":"web_search"}},"required":["type"]}],"x-vectaraParents":["Tool"],"title":"WebSearchTool"},"lambda":{"description":"A user-defined function that can be executed as a tool by agents.\nLambda tools run in a secure, sandboxed environment with resource limits.\nCurrently supports Python 3.12 with a curated set of libraries.\n","type":"object","properties":{"type":{"description":"This should always be `lambda`.","type":"string","default":"lambda","example":"lambda"},"id":{"description":"Unique identifier for a tool.","type":"string","pattern":"^tol_.*","example":"tol_123e4567-e89b-12d3-a456-426614174000","title":"ToolId"},"name":{"description":"Unique identifier for the tool.","type":"string"},"title":{"description":"Human-readable title of the tool.","type":"string"},"description":{"description":"A detailed description of what the function does and how it can be used.","type":"string"},"language":{"description":"The programming language of the lambda function. Currently only Python 3.12 is supported.","type":"string","enum":["python"],"default":"python","example":"python"},"enabled":{"description":"Whether the tool is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the tool was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the tool was last updated.","type":"string","format":"date-time"},"input_schema":{"description":"The schema that defines the expected input structure for the function.","type":"object","additionalProperties":true,"example":{"type":"object","properties":{"data":{"type":"array","description":"Input data to process."},"threshold":{"type":"number","description":"Threshold value for filtering."}}}},"output_schema":{"description":"The schema that defines the expected output structure from the function.","type":"object","additionalProperties":true},"function_definition":{"description":"Definition of a function to be executed as a tool in a sandboxed environment.\n\n**Python Environment:**\n- Python version: 3.12\n- Execution: Sandboxed using gVisor for security isolation\n- **Allowed modules**: `json`, `math`, `datetime`, `collections`, `itertools`, `functools`, `re`, `time`, `typing`\n- Memory limit: 100MB (configurable up to 1GB)\n- Execution timeout: 30 seconds (configurable up to 300 seconds)\n- Network access: Disabled for security\n- File system access: Read-only temporary workspace\n- No custom package installation supported (security constraint)\n\n**Type Annotations:**\n- Use type annotations for automatic input/output schema discovery\n- Supported typing constructs: `List`, `Dict`, `Optional`, `Union`\n- Import from `typing` module when using complex types\n","type":"object","properties":{"language":{"description":"The programming language of the function. Currently only Python 3.12 is supported.","type":"string","enum":["python"],"example":"python"},"code":{"description":"The function code.\n\n**Required**: Must define a `process()` entry point function. Use type annotations on parameters for automatic schema discovery.\n\nParameters are passed as keyword arguments matched to the function signature.\n","type":"string","example":"def process(data: list, threshold: float = 0):\n    filtered = [x for x in data if x > threshold]\n    return {\n        'count': len(filtered),\n        'average': sum(filtered) / len(filtered) if filtered else 0,\n        'filtered_data': filtered\n    }\n"},"validation_status":{"description":"The validation status of the code.","type":"string","enum":["pending","valid","invalid"],"example":"valid"},"validation_errors":{"description":"List of validation errors if the code is invalid.","type":"array","items":{"type":"string"}},"execution_configuration":{"description":"Execution configuration for the function.","type":"object","properties":{"max_execution_time_seconds":{"description":"Maximum execution time in seconds.","type":"integer","minimum":1,"maximum":300,"default":30,"example":30},"max_memory_mb":{"description":"Maximum memory usage in megabytes.","type":"integer","minimum":10,"maximum":1024,"default":100,"example":100}},"title":"ExecutionConfiguration"}},"required":["language","code"],"title":"FunctionDefinition"}},"required":["type","id","name","description","language","enabled","function_definition"],"x-vectaraParents":["Tool"],"title":"LambdaTool"},"structured_indexing":{"description":"A tool that indexes structured documents into the Vectara platform with full control over document structure, sections, metadata, tables, and images.","allOf":[{"description":"Base properties shared by all tool types.","type":"object","properties":{"id":{"description":"Unique identifier for a tool.","type":"string","pattern":"^tol_.*","example":"tol_123e4567-e89b-12d3-a456-426614174000","title":"ToolId"},"name":{"description":"Unique identifier for the tool.","type":"string"},"title":{"description":"Human-readable title of the tool.","type":"string"},"description":{"description":"A detailed description of what the tool does and how it can be used.","type":"string"},"description_template":{"description":"Velocity template for generating dynamic tool descriptions. When set, this template is rendered at runtime to produce the tool description.\n\nAvailable Velocity variables:\n- `$agent.name` - Agent name\n- `$agent.metadata` - Agent metadata map\n- `$session.key` - Session key\n- `$session.metadata` - Session metadata map\n- `$currentDate` - Current date/time in ISO 8601 format (e.g., \"2025-10-24T15:30:45Z\")\n\nExample: \"Search tool configured for agent $agent.name on $currentDate\"\n","type":"string","title":"ToolDescriptionTemplate"},"enabled":{"description":"Whether the tool is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the tool was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the tool was last updated.","type":"string","format":"date-time"},"input_schema":{"description":"The schema that defines the expected input structure for the tool.","type":"object","additionalProperties":true}},"required":["id","name","description","enabled","input_schema"],"title":"ToolBase"},{"type":"object","properties":{"type":{"description":"This should always be `structured_indexing`.","type":"string","default":"structured_indexing","example":"structured_indexing"}},"required":["type"]}],"x-vectaraParents":["Tool"],"title":"StructuredIndexingTool"},"sub_agent":{"description":"A tool that spawns a specialized sub-agent to handle complex, multi-step tasks autonomously.\nSub-agents maintain separate context from the main agent and can be specialized for specific types of tasks like code review, general research, or output styling.\n","allOf":[{"description":"Base properties shared by all tool types.","type":"object","properties":{"id":{"description":"Unique identifier for a tool.","type":"string","pattern":"^tol_.*","example":"tol_123e4567-e89b-12d3-a456-426614174000","title":"ToolId"},"name":{"description":"Unique identifier for the tool.","type":"string"},"title":{"description":"Human-readable title of the tool.","type":"string"},"description":{"description":"A detailed description of what the tool does and how it can be used.","type":"string"},"description_template":{"description":"Velocity template for generating dynamic tool descriptions. When set, this template is rendered at runtime to produce the tool description.\n\nAvailable Velocity variables:\n- `$agent.name` - Agent name\n- `$agent.metadata` - Agent metadata map\n- `$session.key` - Session key\n- `$session.metadata` - Session metadata map\n- `$currentDate` - Current date/time in ISO 8601 format (e.g., \"2025-10-24T15:30:45Z\")\n\nExample: \"Search tool configured for agent $agent.name on $currentDate\"\n","type":"string","title":"ToolDescriptionTemplate"},"enabled":{"description":"Whether the tool is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the tool was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the tool was last updated.","type":"string","format":"date-time"},"input_schema":{"description":"The schema that defines the expected input structure for the tool.","type":"object","additionalProperties":true}},"required":["id","name","description","enabled","input_schema"],"title":"ToolBase"},{"type":"object","properties":{"type":{"description":"This should always be `sub_agent`.","type":"string","default":"sub_agent","example":"sub_agent"}},"required":["type"]}],"x-vectaraParents":["Tool"],"title":"SubAgentTool"},"artifact_create":{"description":"A tool that creates artifacts from text or structured data content that can be stored and referenced later.","allOf":[{"description":"Base properties shared by all tool types.","type":"object","properties":{"id":{"description":"Unique identifier for a tool.","type":"string","pattern":"^tol_.*","example":"tol_123e4567-e89b-12d3-a456-426614174000","title":"ToolId"},"name":{"description":"Unique identifier for the tool.","type":"string"},"title":{"description":"Human-readable title of the tool.","type":"string"},"description":{"description":"A detailed description of what the tool does and how it can be used.","type":"string"},"description_template":{"description":"Velocity template for generating dynamic tool descriptions. When set, this template is rendered at runtime to produce the tool description.\n\nAvailable Velocity variables:\n- `$agent.name` - Agent name\n- `$agent.metadata` - Agent metadata map\n- `$session.key` - Session key\n- `$session.metadata` - Session metadata map\n- `$currentDate` - Current date/time in ISO 8601 format (e.g., \"2025-10-24T15:30:45Z\")\n\nExample: \"Search tool configured for agent $agent.name on $currentDate\"\n","type":"string","title":"ToolDescriptionTemplate"},"enabled":{"description":"Whether the tool is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the tool was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the tool was last updated.","type":"string","format":"date-time"},"input_schema":{"description":"The schema that defines the expected input structure for the tool.","type":"object","additionalProperties":true}},"required":["id","name","description","enabled","input_schema"],"title":"ToolBase"},{"type":"object","properties":{"type":{"description":"This should always be `artifact_create`.","type":"string","default":"artifact_create","example":"artifact_create"}},"required":["type"]}],"x-vectaraParents":["Tool"],"title":"ArtifactCreateTool"},"artifact_read":{"description":"A tool that reads artifact content from the agent session workspace with flexible size and range options.","allOf":[{"description":"Base properties shared by all tool types.","type":"object","properties":{"id":{"description":"Unique identifier for a tool.","type":"string","pattern":"^tol_.*","example":"tol_123e4567-e89b-12d3-a456-426614174000","title":"ToolId"},"name":{"description":"Unique identifier for the tool.","type":"string"},"title":{"description":"Human-readable title of the tool.","type":"string"},"description":{"description":"A detailed description of what the tool does and how it can be used.","type":"string"},"description_template":{"description":"Velocity template for generating dynamic tool descriptions. When set, this template is rendered at runtime to produce the tool description.\n\nAvailable Velocity variables:\n- `$agent.name` - Agent name\n- `$agent.metadata` - Agent metadata map\n- `$session.key` - Session key\n- `$session.metadata` - Session metadata map\n- `$currentDate` - Current date/time in ISO 8601 format (e.g., \"2025-10-24T15:30:45Z\")\n\nExample: \"Search tool configured for agent $agent.name on $currentDate\"\n","type":"string","title":"ToolDescriptionTemplate"},"enabled":{"description":"Whether the tool is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the tool was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the tool was last updated.","type":"string","format":"date-time"},"input_schema":{"description":"The schema that defines the expected input structure for the tool.","type":"object","additionalProperties":true}},"required":["id","name","description","enabled","input_schema"],"title":"ToolBase"},{"type":"object","properties":{"type":{"description":"This should always be `artifact_read`.","type":"string","default":"artifact_read","example":"artifact_read"}},"required":["type"]}],"x-vectaraParents":["Tool"],"title":"ArtifactReadTool"},"artifact_grep":{"description":"A tool that searches through an artifact's content using grep with support for all standard grep options.","allOf":[{"description":"Base properties shared by all tool types.","type":"object","properties":{"id":{"description":"Unique identifier for a tool.","type":"string","pattern":"^tol_.*","example":"tol_123e4567-e89b-12d3-a456-426614174000","title":"ToolId"},"name":{"description":"Unique identifier for the tool.","type":"string"},"title":{"description":"Human-readable title of the tool.","type":"string"},"description":{"description":"A detailed description of what the tool does and how it can be used.","type":"string"},"description_template":{"description":"Velocity template for generating dynamic tool descriptions. When set, this template is rendered at runtime to produce the tool description.\n\nAvailable Velocity variables:\n- `$agent.name` - Agent name\n- `$agent.metadata` - Agent metadata map\n- `$session.key` - Session key\n- `$session.metadata` - Session metadata map\n- `$currentDate` - Current date/time in ISO 8601 format (e.g., \"2025-10-24T15:30:45Z\")\n\nExample: \"Search tool configured for agent $agent.name on $currentDate\"\n","type":"string","title":"ToolDescriptionTemplate"},"enabled":{"description":"Whether the tool is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the tool was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the tool was last updated.","type":"string","format":"date-time"},"input_schema":{"description":"The schema that defines the expected input structure for the tool.","type":"object","additionalProperties":true}},"required":["id","name","description","enabled","input_schema"],"title":"ToolBase"},{"type":"object","properties":{"type":{"description":"This should always be `artifact_grep`.","type":"string","default":"artifact_grep","example":"artifact_grep"}},"required":["type"]}],"x-vectaraParents":["Tool"],"title":"ArtifactGrepTool"},"image_read":{"description":"A tool that loads image artifacts into the conversation context for viewing and analysis.","allOf":[{"description":"Base properties shared by all tool types.","type":"object","properties":{"id":{"description":"Unique identifier for a tool.","type":"string","pattern":"^tol_.*","example":"tol_123e4567-e89b-12d3-a456-426614174000","title":"ToolId"},"name":{"description":"Unique identifier for the tool.","type":"string"},"title":{"description":"Human-readable title of the tool.","type":"string"},"description":{"description":"A detailed description of what the tool does and how it can be used.","type":"string"},"description_template":{"description":"Velocity template for generating dynamic tool descriptions. When set, this template is rendered at runtime to produce the tool description.\n\nAvailable Velocity variables:\n- `$agent.name` - Agent name\n- `$agent.metadata` - Agent metadata map\n- `$session.key` - Session key\n- `$session.metadata` - Session metadata map\n- `$currentDate` - Current date/time in ISO 8601 format (e.g., \"2025-10-24T15:30:45Z\")\n\nExample: \"Search tool configured for agent $agent.name on $currentDate\"\n","type":"string","title":"ToolDescriptionTemplate"},"enabled":{"description":"Whether the tool is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the tool was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the tool was last updated.","type":"string","format":"date-time"},"input_schema":{"description":"The schema that defines the expected input structure for the tool.","type":"object","additionalProperties":true}},"required":["id","name","description","enabled","input_schema"],"title":"ToolBase"},{"type":"object","properties":{"type":{"description":"This should always be `image_read`.","type":"string","default":"image_read","example":"image_read"}},"required":["type"]}],"x-vectaraParents":["Tool"],"title":"ImageReadTool"},"document_conversion":{"description":"A tool that converts document artifacts (PDF, Word, PowerPoint, etc.) to various formats.","allOf":[{"description":"Base properties shared by all tool types.","type":"object","properties":{"id":{"description":"Unique identifier for a tool.","type":"string","pattern":"^tol_.*","example":"tol_123e4567-e89b-12d3-a456-426614174000","title":"ToolId"},"name":{"description":"Unique identifier for the tool.","type":"string"},"title":{"description":"Human-readable title of the tool.","type":"string"},"description":{"description":"A detailed description of what the tool does and how it can be used.","type":"string"},"description_template":{"description":"Velocity template for generating dynamic tool descriptions. When set, this template is rendered at runtime to produce the tool description.\n\nAvailable Velocity variables:\n- `$agent.name` - Agent name\n- `$agent.metadata` - Agent metadata map\n- `$session.key` - Session key\n- `$session.metadata` - Session metadata map\n- `$currentDate` - Current date/time in ISO 8601 format (e.g., \"2025-10-24T15:30:45Z\")\n\nExample: \"Search tool configured for agent $agent.name on $currentDate\"\n","type":"string","title":"ToolDescriptionTemplate"},"enabled":{"description":"Whether the tool is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the tool was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the tool was last updated.","type":"string","format":"date-time"},"input_schema":{"description":"The schema that defines the expected input structure for the tool.","type":"object","additionalProperties":true}},"required":["id","name","description","enabled","input_schema"],"title":"ToolBase"},{"type":"object","properties":{"type":{"description":"This should always be `document_conversion`.","type":"string","default":"document_conversion","example":"document_conversion"}},"required":["type"]}],"x-vectaraParents":["Tool"],"title":"DocumentConversionTool"}}},"oneOf":[{"description":"An MCP (Model Context Protocol) tool that connects to external MCP servers for extended functionality.","allOf":[{"description":"Base properties shared by all tool types.","type":"object","properties":{"id":{"description":"Unique identifier for a tool.","type":"string","pattern":"^tol_.*","example":"tol_123e4567-e89b-12d3-a456-426614174000","title":"ToolId"},"name":{"description":"Unique identifier for the tool.","type":"string"},"title":{"description":"Human-readable title of the tool.","type":"string"},"description":{"description":"A detailed description of what the tool does and how it can be used.","type":"string"},"description_template":{"description":"Velocity template for generating dynamic tool descriptions. When set, this template is rendered at runtime to produce the tool description.\n\nAvailable Velocity variables:\n- `$agent.name` - Agent name\n- `$agent.metadata` - Agent metadata map\n- `$session.key` - Session key\n- `$session.metadata` - Session metadata map\n- `$currentDate` - Current date/time in ISO 8601 format (e.g., \"2025-10-24T15:30:45Z\")\n\nExample: \"Search tool configured for agent $agent.name on $currentDate\"\n","type":"string","title":"ToolDescriptionTemplate"},"enabled":{"description":"Whether the tool is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the tool was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the tool was last updated.","type":"string","format":"date-time"},"input_schema":{"description":"The schema that defines the expected input structure for the tool.","type":"object","additionalProperties":true}},"required":["id","name","description","enabled","input_schema"],"title":"ToolBase"},{"type":"object","properties":{"type":{"description":"This should always be `mcp`.","type":"string","default":"mcp","example":"mcp"},"server_id":{"description":"Unique identifier for a tool server.","type":"string","pattern":"^tsr_.*","example":"tsr_rag_search","title":"ToolServerId"},"annotations":{"description":"Optional hints about tool behaviour/metadata.","type":"object","properties":{"read_only_hint":{"description":"If true, the tool does not modify its environment.","type":"boolean"},"destructive_hint":{"description":"If true, the tool may perform destructive updates.","type":"boolean"},"idempotent_hint":{"description":"If true, repeated calls with same args have no additional effect.","type":"boolean"},"open_world_hint":{"description":"If true, tool interacts with external entities.","type":"boolean"}},"additionalProperties":true,"title":"McpToolAnnotations"}},"required":["type"]}],"x-vectaraParents":["Tool"],"title":"McpTool"},{"description":"A corpora search tool that searches through Vectara corpora to find relevant information.","allOf":[{"description":"Base properties shared by all tool types.","type":"object","properties":{"id":{"description":"Unique identifier for a tool.","type":"string","pattern":"^tol_.*","example":"tol_123e4567-e89b-12d3-a456-426614174000","title":"ToolId"},"name":{"description":"Unique identifier for the tool.","type":"string"},"title":{"description":"Human-readable title of the tool.","type":"string"},"description":{"description":"A detailed description of what the tool does and how it can be used.","type":"string"},"description_template":{"description":"Velocity template for generating dynamic tool descriptions. When set, this template is rendered at runtime to produce the tool description.\n\nAvailable Velocity variables:\n- `$agent.name` - Agent name\n- `$agent.metadata` - Agent metadata map\n- `$session.key` - Session key\n- `$session.metadata` - Session metadata map\n- `$currentDate` - Current date/time in ISO 8601 format (e.g., \"2025-10-24T15:30:45Z\")\n\nExample: \"Search tool configured for agent $agent.name on $currentDate\"\n","type":"string","title":"ToolDescriptionTemplate"},"enabled":{"description":"Whether the tool is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the tool was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the tool was last updated.","type":"string","format":"date-time"},"input_schema":{"description":"The schema that defines the expected input structure for the tool.","type":"object","additionalProperties":true}},"required":["id","name","description","enabled","input_schema"],"title":"ToolBase"},{"type":"object","properties":{"type":{"description":"This should always be `corpora_search`.","type":"string","default":"corpora_search","example":"corpora_search"}},"required":["type"]}],"x-vectaraParents":["Tool"],"title":"CorporaSearchTool"},{"description":"A web search tool that searches the internet for relevant information.","allOf":[{"description":"Base properties shared by all tool types.","type":"object","properties":{"id":{"description":"Unique identifier for a tool.","type":"string","pattern":"^tol_.*","example":"tol_123e4567-e89b-12d3-a456-426614174000","title":"ToolId"},"name":{"description":"Unique identifier for the tool.","type":"string"},"title":{"description":"Human-readable title of the tool.","type":"string"},"description":{"description":"A detailed description of what the tool does and how it can be used.","type":"string"},"description_template":{"description":"Velocity template for generating dynamic tool descriptions. When set, this template is rendered at runtime to produce the tool description.\n\nAvailable Velocity variables:\n- `$agent.name` - Agent name\n- `$agent.metadata` - Agent metadata map\n- `$session.key` - Session key\n- `$session.metadata` - Session metadata map\n- `$currentDate` - Current date/time in ISO 8601 format (e.g., \"2025-10-24T15:30:45Z\")\n\nExample: \"Search tool configured for agent $agent.name on $currentDate\"\n","type":"string","title":"ToolDescriptionTemplate"},"enabled":{"description":"Whether the tool is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the tool was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the tool was last updated.","type":"string","format":"date-time"},"input_schema":{"description":"The schema that defines the expected input structure for the tool.","type":"object","additionalProperties":true}},"required":["id","name","description","enabled","input_schema"],"title":"ToolBase"},{"type":"object","properties":{"type":{"description":"This should always be `web_search`.","type":"string","default":"web_search","example":"web_search"}},"required":["type"]}],"x-vectaraParents":["Tool"],"title":"WebSearchTool"},{"description":"A user-defined function that can be executed as a tool by agents.\nLambda tools run in a secure, sandboxed environment with resource limits.\nCurrently supports Python 3.12 with a curated set of libraries.\n","type":"object","properties":{"type":{"description":"This should always be `lambda`.","type":"string","default":"lambda","example":"lambda"},"id":{"description":"Unique identifier for a tool.","type":"string","pattern":"^tol_.*","example":"tol_123e4567-e89b-12d3-a456-426614174000","title":"ToolId"},"name":{"description":"Unique identifier for the tool.","type":"string"},"title":{"description":"Human-readable title of the tool.","type":"string"},"description":{"description":"A detailed description of what the function does and how it can be used.","type":"string"},"language":{"description":"The programming language of the lambda function. Currently only Python 3.12 is supported.","type":"string","enum":["python"],"default":"python","example":"python"},"enabled":{"description":"Whether the tool is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the tool was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the tool was last updated.","type":"string","format":"date-time"},"input_schema":{"description":"The schema that defines the expected input structure for the function.","type":"object","additionalProperties":true,"example":{"type":"object","properties":{"data":{"type":"array","description":"Input data to process."},"threshold":{"type":"number","description":"Threshold value for filtering."}}}},"output_schema":{"description":"The schema that defines the expected output structure from the function.","type":"object","additionalProperties":true},"function_definition":{"description":"Definition of a function to be executed as a tool in a sandboxed environment.\n\n**Python Environment:**\n- Python version: 3.12\n- Execution: Sandboxed using gVisor for security isolation\n- **Allowed modules**: `json`, `math`, `datetime`, `collections`, `itertools`, `functools`, `re`, `time`, `typing`\n- Memory limit: 100MB (configurable up to 1GB)\n- Execution timeout: 30 seconds (configurable up to 300 seconds)\n- Network access: Disabled for security\n- File system access: Read-only temporary workspace\n- No custom package installation supported (security constraint)\n\n**Type Annotations:**\n- Use type annotations for automatic input/output schema discovery\n- Supported typing constructs: `List`, `Dict`, `Optional`, `Union`\n- Import from `typing` module when using complex types\n","type":"object","properties":{"language":{"description":"The programming language of the function. Currently only Python 3.12 is supported.","type":"string","enum":["python"],"example":"python"},"code":{"description":"The function code.\n\n**Required**: Must define a `process()` entry point function. Use type annotations on parameters for automatic schema discovery.\n\nParameters are passed as keyword arguments matched to the function signature.\n","type":"string","example":"def process(data: list, threshold: float = 0):\n    filtered = [x for x in data if x > threshold]\n    return {\n        'count': len(filtered),\n        'average': sum(filtered) / len(filtered) if filtered else 0,\n        'filtered_data': filtered\n    }\n"},"validation_status":{"description":"The validation status of the code.","type":"string","enum":["pending","valid","invalid"],"example":"valid"},"validation_errors":{"description":"List of validation errors if the code is invalid.","type":"array","items":{"type":"string"}},"execution_configuration":{"description":"Execution configuration for the function.","type":"object","properties":{"max_execution_time_seconds":{"description":"Maximum execution time in seconds.","type":"integer","minimum":1,"maximum":300,"default":30,"example":30},"max_memory_mb":{"description":"Maximum memory usage in megabytes.","type":"integer","minimum":10,"maximum":1024,"default":100,"example":100}},"title":"ExecutionConfiguration"}},"required":["language","code"],"title":"FunctionDefinition"}},"required":["type","id","name","description","language","enabled","function_definition"],"x-vectaraParents":["Tool"],"title":"LambdaTool"},{"description":"A tool that indexes structured documents into the Vectara platform with full control over document structure, sections, metadata, tables, and images.","allOf":[{"description":"Base properties shared by all tool types.","type":"object","properties":{"id":{"description":"Unique identifier for a tool.","type":"string","pattern":"^tol_.*","example":"tol_123e4567-e89b-12d3-a456-426614174000","title":"ToolId"},"name":{"description":"Unique identifier for the tool.","type":"string"},"title":{"description":"Human-readable title of the tool.","type":"string"},"description":{"description":"A detailed description of what the tool does and how it can be used.","type":"string"},"description_template":{"description":"Velocity template for generating dynamic tool descriptions. When set, this template is rendered at runtime to produce the tool description.\n\nAvailable Velocity variables:\n- `$agent.name` - Agent name\n- `$agent.metadata` - Agent metadata map\n- `$session.key` - Session key\n- `$session.metadata` - Session metadata map\n- `$currentDate` - Current date/time in ISO 8601 format (e.g., \"2025-10-24T15:30:45Z\")\n\nExample: \"Search tool configured for agent $agent.name on $currentDate\"\n","type":"string","title":"ToolDescriptionTemplate"},"enabled":{"description":"Whether the tool is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the tool was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the tool was last updated.","type":"string","format":"date-time"},"input_schema":{"description":"The schema that defines the expected input structure for the tool.","type":"object","additionalProperties":true}},"required":["id","name","description","enabled","input_schema"],"title":"ToolBase"},{"type":"object","properties":{"type":{"description":"This should always be `structured_indexing`.","type":"string","default":"structured_indexing","example":"structured_indexing"}},"required":["type"]}],"x-vectaraParents":["Tool"],"title":"StructuredIndexingTool"},{"description":"A tool that spawns a specialized sub-agent to handle complex, multi-step tasks autonomously.\nSub-agents maintain separate context from the main agent and can be specialized for specific types of tasks like code review, general research, or output styling.\n","allOf":[{"description":"Base properties shared by all tool types.","type":"object","properties":{"id":{"description":"Unique identifier for a tool.","type":"string","pattern":"^tol_.*","example":"tol_123e4567-e89b-12d3-a456-426614174000","title":"ToolId"},"name":{"description":"Unique identifier for the tool.","type":"string"},"title":{"description":"Human-readable title of the tool.","type":"string"},"description":{"description":"A detailed description of what the tool does and how it can be used.","type":"string"},"description_template":{"description":"Velocity template for generating dynamic tool descriptions. When set, this template is rendered at runtime to produce the tool description.\n\nAvailable Velocity variables:\n- `$agent.name` - Agent name\n- `$agent.metadata` - Agent metadata map\n- `$session.key` - Session key\n- `$session.metadata` - Session metadata map\n- `$currentDate` - Current date/time in ISO 8601 format (e.g., \"2025-10-24T15:30:45Z\")\n\nExample: \"Search tool configured for agent $agent.name on $currentDate\"\n","type":"string","title":"ToolDescriptionTemplate"},"enabled":{"description":"Whether the tool is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the tool was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the tool was last updated.","type":"string","format":"date-time"},"input_schema":{"description":"The schema that defines the expected input structure for the tool.","type":"object","additionalProperties":true}},"required":["id","name","description","enabled","input_schema"],"title":"ToolBase"},{"type":"object","properties":{"type":{"description":"This should always be `sub_agent`.","type":"string","default":"sub_agent","example":"sub_agent"}},"required":["type"]}],"x-vectaraParents":["Tool"],"title":"SubAgentTool"},{"description":"A tool that creates artifacts from text or structured data content that can be stored and referenced later.","allOf":[{"description":"Base properties shared by all tool types.","type":"object","properties":{"id":{"description":"Unique identifier for a tool.","type":"string","pattern":"^tol_.*","example":"tol_123e4567-e89b-12d3-a456-426614174000","title":"ToolId"},"name":{"description":"Unique identifier for the tool.","type":"string"},"title":{"description":"Human-readable title of the tool.","type":"string"},"description":{"description":"A detailed description of what the tool does and how it can be used.","type":"string"},"description_template":{"description":"Velocity template for generating dynamic tool descriptions. When set, this template is rendered at runtime to produce the tool description.\n\nAvailable Velocity variables:\n- `$agent.name` - Agent name\n- `$agent.metadata` - Agent metadata map\n- `$session.key` - Session key\n- `$session.metadata` - Session metadata map\n- `$currentDate` - Current date/time in ISO 8601 format (e.g., \"2025-10-24T15:30:45Z\")\n\nExample: \"Search tool configured for agent $agent.name on $currentDate\"\n","type":"string","title":"ToolDescriptionTemplate"},"enabled":{"description":"Whether the tool is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the tool was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the tool was last updated.","type":"string","format":"date-time"},"input_schema":{"description":"The schema that defines the expected input structure for the tool.","type":"object","additionalProperties":true}},"required":["id","name","description","enabled","input_schema"],"title":"ToolBase"},{"type":"object","properties":{"type":{"description":"This should always be `artifact_create`.","type":"string","default":"artifact_create","example":"artifact_create"}},"required":["type"]}],"x-vectaraParents":["Tool"],"title":"ArtifactCreateTool"},{"description":"A tool that reads artifact content from the agent session workspace with flexible size and range options.","allOf":[{"description":"Base properties shared by all tool types.","type":"object","properties":{"id":{"description":"Unique identifier for a tool.","type":"string","pattern":"^tol_.*","example":"tol_123e4567-e89b-12d3-a456-426614174000","title":"ToolId"},"name":{"description":"Unique identifier for the tool.","type":"string"},"title":{"description":"Human-readable title of the tool.","type":"string"},"description":{"description":"A detailed description of what the tool does and how it can be used.","type":"string"},"description_template":{"description":"Velocity template for generating dynamic tool descriptions. When set, this template is rendered at runtime to produce the tool description.\n\nAvailable Velocity variables:\n- `$agent.name` - Agent name\n- `$agent.metadata` - Agent metadata map\n- `$session.key` - Session key\n- `$session.metadata` - Session metadata map\n- `$currentDate` - Current date/time in ISO 8601 format (e.g., \"2025-10-24T15:30:45Z\")\n\nExample: \"Search tool configured for agent $agent.name on $currentDate\"\n","type":"string","title":"ToolDescriptionTemplate"},"enabled":{"description":"Whether the tool is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the tool was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the tool was last updated.","type":"string","format":"date-time"},"input_schema":{"description":"The schema that defines the expected input structure for the tool.","type":"object","additionalProperties":true}},"required":["id","name","description","enabled","input_schema"],"title":"ToolBase"},{"type":"object","properties":{"type":{"description":"This should always be `artifact_read`.","type":"string","default":"artifact_read","example":"artifact_read"}},"required":["type"]}],"x-vectaraParents":["Tool"],"title":"ArtifactReadTool"},{"description":"A tool that searches through an artifact's content using grep with support for all standard grep options.","allOf":[{"description":"Base properties shared by all tool types.","type":"object","properties":{"id":{"description":"Unique identifier for a tool.","type":"string","pattern":"^tol_.*","example":"tol_123e4567-e89b-12d3-a456-426614174000","title":"ToolId"},"name":{"description":"Unique identifier for the tool.","type":"string"},"title":{"description":"Human-readable title of the tool.","type":"string"},"description":{"description":"A detailed description of what the tool does and how it can be used.","type":"string"},"description_template":{"description":"Velocity template for generating dynamic tool descriptions. When set, this template is rendered at runtime to produce the tool description.\n\nAvailable Velocity variables:\n- `$agent.name` - Agent name\n- `$agent.metadata` - Agent metadata map\n- `$session.key` - Session key\n- `$session.metadata` - Session metadata map\n- `$currentDate` - Current date/time in ISO 8601 format (e.g., \"2025-10-24T15:30:45Z\")\n\nExample: \"Search tool configured for agent $agent.name on $currentDate\"\n","type":"string","title":"ToolDescriptionTemplate"},"enabled":{"description":"Whether the tool is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the tool was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the tool was last updated.","type":"string","format":"date-time"},"input_schema":{"description":"The schema that defines the expected input structure for the tool.","type":"object","additionalProperties":true}},"required":["id","name","description","enabled","input_schema"],"title":"ToolBase"},{"type":"object","properties":{"type":{"description":"This should always be `artifact_grep`.","type":"string","default":"artifact_grep","example":"artifact_grep"}},"required":["type"]}],"x-vectaraParents":["Tool"],"title":"ArtifactGrepTool"},{"description":"A tool that loads image artifacts into the conversation context for viewing and analysis.","allOf":[{"description":"Base properties shared by all tool types.","type":"object","properties":{"id":{"description":"Unique identifier for a tool.","type":"string","pattern":"^tol_.*","example":"tol_123e4567-e89b-12d3-a456-426614174000","title":"ToolId"},"name":{"description":"Unique identifier for the tool.","type":"string"},"title":{"description":"Human-readable title of the tool.","type":"string"},"description":{"description":"A detailed description of what the tool does and how it can be used.","type":"string"},"description_template":{"description":"Velocity template for generating dynamic tool descriptions. When set, this template is rendered at runtime to produce the tool description.\n\nAvailable Velocity variables:\n- `$agent.name` - Agent name\n- `$agent.metadata` - Agent metadata map\n- `$session.key` - Session key\n- `$session.metadata` - Session metadata map\n- `$currentDate` - Current date/time in ISO 8601 format (e.g., \"2025-10-24T15:30:45Z\")\n\nExample: \"Search tool configured for agent $agent.name on $currentDate\"\n","type":"string","title":"ToolDescriptionTemplate"},"enabled":{"description":"Whether the tool is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the tool was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the tool was last updated.","type":"string","format":"date-time"},"input_schema":{"description":"The schema that defines the expected input structure for the tool.","type":"object","additionalProperties":true}},"required":["id","name","description","enabled","input_schema"],"title":"ToolBase"},{"type":"object","properties":{"type":{"description":"This should always be `image_read`.","type":"string","default":"image_read","example":"image_read"}},"required":["type"]}],"x-vectaraParents":["Tool"],"title":"ImageReadTool"},{"description":"A tool that converts document artifacts (PDF, Word, PowerPoint, etc.) to various formats.","allOf":[{"description":"Base properties shared by all tool types.","type":"object","properties":{"id":{"description":"Unique identifier for a tool.","type":"string","pattern":"^tol_.*","example":"tol_123e4567-e89b-12d3-a456-426614174000","title":"ToolId"},"name":{"description":"Unique identifier for the tool.","type":"string"},"title":{"description":"Human-readable title of the tool.","type":"string"},"description":{"description":"A detailed description of what the tool does and how it can be used.","type":"string"},"description_template":{"description":"Velocity template for generating dynamic tool descriptions. When set, this template is rendered at runtime to produce the tool description.\n\nAvailable Velocity variables:\n- `$agent.name` - Agent name\n- `$agent.metadata` - Agent metadata map\n- `$session.key` - Session key\n- `$session.metadata` - Session metadata map\n- `$currentDate` - Current date/time in ISO 8601 format (e.g., \"2025-10-24T15:30:45Z\")\n\nExample: \"Search tool configured for agent $agent.name on $currentDate\"\n","type":"string","title":"ToolDescriptionTemplate"},"enabled":{"description":"Whether the tool is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the tool was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the tool was last updated.","type":"string","format":"date-time"},"input_schema":{"description":"The schema that defines the expected input structure for the tool.","type":"object","additionalProperties":true}},"required":["id","name","description","enabled","input_schema"],"title":"ToolBase"},{"type":"object","properties":{"type":{"description":"This should always be `document_conversion`.","type":"string","default":"document_conversion","example":"document_conversion"}},"required":["type"]}],"x-vectaraParents":["Tool"],"title":"DocumentConversionTool"}],"title":"Tool"},"default":[],"example":[]}},"title":"TestInstructionRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"The instruction has been tested successfully and the rendered result is returned.","content":{"application/json":{"schema":{"description":"Response containing the rendered instruction.","type":"object","properties":{"rendered_instruction":{"description":"The instruction template rendered with the provided context.","type":"string","example":"You are a helpful customer support agent for Acme Corp. Today's date is 2024-01-15. You have access to the following tools: Web Search, Email Sender"}},"required":["rendered_instruction"],"title":"TestInstructionResponse"}}}},"400":{"description":"Test request was malformed.","content":{"application/json":{"schema":{"description":"Error returned when a request contains invalid parameters or violates schema validation.","type":"object","properties":{"field_errors":{"description":"The errors that relate to specific fields in the request.","type":"object","additionalProperties":{"type":"string"}},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"BadRequestError"}}}},"403":{"description":"Permissions do not allow testing this instruction.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}},"404":{"description":"Instruction not found.","content":{"application/json":{"schema":{"description":"Error returned when a requested resource does not exist.","type":"object","properties":{"id":{"description":"The ID cannot be found.","type":"string"},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"NotFoundError"}}}},"422":{"description":"Template compilation failed due to invalid instruction template.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}}}}
>
  
</StatusCodes>


      

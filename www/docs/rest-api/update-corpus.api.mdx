---
id: update-corpus
title: "Update a corpus"
description: "The Update Corpus API lets you enable, disable, or update the name and description of a corpus. This is useful to manage the availability of data within the system, such as when you need to take the corpus offline without having to delete the corpus."
sidebar_label: "Update a corpus"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "patch api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Update a corpus"}
>
</Heading>

<MethodEndpoint
  method={"patch"}
  path={"/v2/corpora/{corpus_key}"}
  context={"endpoint"}
>
  
</MethodEndpoint>



The Update Corpus API lets you enable, disable, or update the name and description of a corpus. This is useful to manage the availability of data within the system, such as when you need to take the corpus offline without having to delete the corpus.

This lets you utilize automated scripts to programmatically control the availability of corpora based on certain conditions. For example, quickly disable a corpus for maintenance updates or in response to security incidents.


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false},{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}},{"in":"path","name":"corpus_key","description":"The unique key identifying the corpus to update.","required":true,"schema":{"description":"A user-provided key for a corpus.","type":"string","example":"my-corpus","pattern":"[a-zA-Z0-9_\\=\\-]+$","maxLength":50,"title":"CorpusKey"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","description":"Corpus properties that are modifiable after creation.","properties":{"enabled":{"description":"Set whether or not the corpus is enabled. If unset then the corpus will remain in the same state.","type":"boolean","example":false},"name":{"description":"The name for the corpus. If unset or null, then the corpus will remain in the same state.","type":"string","example":"new-corpus-name"},"description":{"description":"Description of the corpus. If unset or null, then the corpus will remain in the same state.","type":"string","example":"New description of the corpus."},"save_history":{"description":"Indicates whether to save corpus queries to query history by default.","type":"boolean"}},"title":"UpdateCorpusRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successfully modified the corpus.","content":{"application/json":{"schema":{"description":"A corpus is a collection of documents and associated configuration for indexing, searching, and generating responses through RAG.","type":"object","properties":{"id":{"description":"Vectara ID of the corpus.","type":"string","pattern":"crp_[0-9]+$","example":"crp_1"},"key":{"description":"A user-provided key for a corpus.","type":"string","example":"my-corpus","pattern":"[a-zA-Z0-9_\\=\\-]+$","maxLength":50,"title":"CorpusKey"},"name":{"description":"Name for the corpus. This value defaults to the key.","type":"string","example":"Vectara Content"},"description":{"description":"Corpus description.","type":"string","example":"Description about the Vectara Content corpus."},"enabled":{"description":"Specifies whether the corpus is enabled or not.","type":"boolean"},"chat_history_corpus":{"description":"Indicates that this corpus does not store documents and stores chats instead.","type":"boolean"},"queries_are_answers":{"description":"Queries made to this corpus are considered answers, and not questions. This swaps the semantics of the encoder used at query time.","type":"boolean","default":false},"documents_are_questions":{"description":"Documents inside this corpus are considered questions, and not answers. This swaps the semantics of the encoder used at indexing.","type":"boolean","default":false},"encoder_id":{"description":"The encoder used by the corpus. *Deprecated*: Use `encoder_name` instead","type":"string","pattern":"enc_[0-9]+$","deprecated":true},"encoder_name":{"description":"The encoder used by the corpus, `boomerang-2023-q3`.","type":"string","example":"boomerang-2023-q3"},"save_history":{"description":"Indicates whether to save corpus queries to query history by default.","type":"boolean"},"filter_attributes":{"description":"The new filter attributes of the corpus.","type":"array","items":{"description":"Defines a filter attribute that can be used to filter search results based on document metadata for precise retrieval.","type":"object","properties":{"name":{"description":"The JSON path of the filter attribute in a document or document part metadata.","type":"string","example":"Title"},"level":{"description":"Indicates whether this is a document or document part metadata filter.","type":"string","enum":["document","part"],"example":"document"},"description":{"description":"Description of the filter. May be omitted.","type":"string","example":"The title of the document."},"indexed":{"description":"Indicates whether an index should be created for the filter. Creating an index will improve query latency when using the filter.","type":"boolean","default":true},"type":{"description":"The value type of the filter.","type":"string","enum":["integer","real_number","text","boolean","list[integer]","list[real_number]","list[text]"],"example":"text"}},"required":["name","level","type"],"title":"FilterAttribute"}},"custom_dimensions":{"description":"The custom dimensions of all document parts inside the corpus.","type":"array","items":{"type":"object","description":"Custom dimensions attached to all document parts in a corpus. Allows arbitrary modification of the score for many purposes.","properties":{"name":{"description":"The name of the custom dimension.","type":"string","example":"importance"},"description":{"description":"Description of the custom dimension.","type":"string","example":"Product importance."},"indexing_default":{"description":"Default value of a custom dimension on a document part if the custom dimension value is not specified when the document part is indexed. A value of 0 means that custom dimension is not considered.","type":"number","format":"double","example":0,"default":0},"querying_default":{"description":"Default value of a custom dimension for a query if the value of the custom dimension is not specified when querying the corpus. A value of 0 means that custom dimension is not considered.","type":"number","format":"double","example":0,"default":0}},"required":["name"],"title":"CorpusCustomDimension"}},"limits":{"type":"object","title":"CorpusLimits","properties":{"used_docs":{"description":"The number of documents contained in the corpus.","type":"integer","format":"int64","example":8},"used_parts":{"description":"The number of document parts contained in the corpus.","type":"integer","format":"int64","example":3748},"used_bytes":{"description":"NOTE: This field is currently not populated by the system. The number of bytes contained in the corpus. This includes the document metadata, document part metadata, and document contents.","type":"integer","format":"int64","example":795790},"used_characters":{"description":"The number of characters contained in the corpus. This includes the document metadata, document part metadata, and document contents.","type":"integer","format":"int64","example":1839847},"max_bytes":{"description":"NOTE: This field is currently not populated by the system. The maximum number of bytes the corpus can be.","type":"integer","format":"int64"},"max_metadata_bytes":{"description":"The maximum size that metadata can be on documents.","type":"integer","format":"int64","example":10485760},"index_rate":{"description":"NOTE: This field is currently not populated by the system. The maximum per-second addition of new documents to corpus.","type":"integer","format":"int64"}}},"created_at":{"description":"Indicates when the corpus was created.","type":"string","format":"date-time"}},"title":"Corpus"}}}},"403":{"description":"Permissions do not allow updating the corpus.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}},"404":{"description":"Corpus not found.","content":{"application/json":{"schema":{"description":"Error returned when a requested resource does not exist.","type":"object","properties":{"id":{"description":"The ID cannot be found.","type":"string"},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"NotFoundError"}}}}}}
>
  
</StatusCodes>


      
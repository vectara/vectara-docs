---
id: upload-file
title: "Upload a file to the corpus"
description: "Upload a file to a corpus for automatic text extraction, chunking, and indexing. This endpoint is designed for unstructured documents where you want Vectara to handle parsing for you. Each uploaded file can be up to **10 MB**."
sidebar_label: "Upload a file to the corpus"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Upload a file to the corpus"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v2/corpora/{corpus_key}/upload_file"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Upload a file to a corpus for automatic text extraction, chunking, and indexing. This endpoint is designed for unstructured documents where you want Vectara to handle parsing for you. Each uploaded file can be up to **10 MB**.

Supported file types include:
- Markdown (`.md`)
- PDF/A (`.pdf`)
- OpenOffice documents (`.odt`)
- Microsoft Word (`.doc`, `.docx`)
- Microsoft PowerPoint (`.ppt`, `.pptx`)
- Plain text (`.txt`)
- HTML (`.html`)
- LXML (`.lxml`)
- RTF (`.rtf`)
- EPUB (`.epub`)
- Email files (RFC 822)   

:::note
For semi-structured documents that require more control over fields or metadata, use the [**Create Corpus Document API**](/docs/rest-api/create-corpus-document) instead.
:::

## Additional format support through Vectara Ingest

If you need to ingest additional file types or data sources, you can use the open-source [**Vectara Ingest**](https://github.com/vectara/vectara-ingest) Python framework. It supports connectors for websites, RSS feeds, CSV, Confluence, HubSpot, ServiceNow, Jira, Notion, Slack, MediaWiki, GitHub, SharePoint, Twitter/X, YouTube, and more.

:::caution
Vectara Ingest is provided as an open-source example and is not officially supported.
:::

## Multipart form fields

This endpoint expects a `multipart/form-data` request with the following fields:

- **metadata** (optional): JSON metadata to attach to the parsed document.  
  Example: `metadata={"key":"value"}`
- **chunking_strategy** (optional): Controls how extracted text is chunked.  
  Defaults to sentence-based chunking (one chunk per sentence).  
  Example: `{"type":"sentence_chunking_strategy"}`. 
  Example for max character chunking: `{"type":"max_chars_chunking_strategy","max_chars_per_chunk":512}`
- **table_extraction_config** (optional): Enables extraction of tables from supported file types such as PDFs.  
  Example: `{"extract_tables": true}`
- **file** (required): The file to upload.
- **filename** (required): The desired document ID, specified within the file upload field.

Apart from these parameters, the servers expect a valid JWT Token in the HTTP headers:

```curl
\$ curl -L -X POST 'https://api.vectara.io/v2/corpora/:corpus_key/upload_file' \
-H 'Content-Type: multipart/form-data' \
-H 'Accept: application/json' \
-H 'x-api-key: zwt_123456' \
-F 'metadata=\{"key": "value"\};type=application/json' \
-F 'file=@/path/to/file/file.pdf;filename=desired_filename.pdf'

```

## Filenames with non-ASCII characters

When uploading files with non-ASCII (non-English) characters, such as Russian or Chinese, ensure that the filename is URL encoded. The Vectara REST API follows web standards which require URL-encoded file names.

## Set the document ID
  
To set a custom Document ID, pass it as the filename in the `Content-Disposition` header:

`Content-Disposition: form-data; name="file"; filename="your_document_id"`

For more information about Content-Disposition, see the [Mozilla documentation on headers](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition).

## Attach additional metadata

You can attach additional metadata to the file by specifying a metadata form field, which can contain a JSON string:

`{ "filesize": 1234 }`

## Tabular data extraction and summarization

Setting `table_extraction_config.extract_tables = true` enables extraction of tabular data (such as financial filings such as 10-K, 10-Q, S-1). You can also apply custom prompt templates to summarize table content during upload.

:::caution
Table extraction does not support scanned images of tables.
:::

## Custom table summarization with prompt templates

Vectara supports [table summarization using custom prompt templates](https://docs.vectara.com/docs/build/working-with-tables#summarize-tables-with-custom-prompts) during document upload. This lets you define custom prompt templates that control how the LLM interprets and summarizes table data during extraction. By customizing the prompt_template, you can tailor summaries for domain-specific language, analytical perspectives, or formatting preferences.

## Image support
You can include images in structured documents using the [Indexing API](/docs/rest-api/create-corpus-document) with Base64 encoding. You cannot send images directly with individual query requests. If you want to retrieve a specific image that is embedded within a document, use the [Retrieve image API](/docs/rest-api/get-image)


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false},{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}},{"in":"path","name":"corpus_key","description":"The unique key identifying the corpus of which to upload the file.","required":true,"schema":{"description":"A user-provided key for a corpus.","type":"string","example":"my-corpus","pattern":"[a-zA-Z0-9_\\=\\-]+$","maxLength":50,"title":"CorpusKey"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"description":"Upload a file for the Vectara platform to attempt to parse and turn into a document within the corpus. The first part of the multipart request can contain any document metadata to attach to the parsed document. Only one document may be uploaded at a time.","content":{"multipart/form-data":{"schema":{"description":"Request to upload and index a file into a corpus within a customer account.","type":"object","properties":{"metadata":{"description":"Arbitrary object that will be attached as document metadata to the extracted document.","type":"object","additionalProperties":true,"example":{"department":"engineering","doc_type\"":"architecture_diagram"}},"chunking_strategy":{"example":{"type":"sentence_chunking_strategy"},"type":"object","description":"Choose how to split documents into chunks during indexing. This is optional - if you do not set a chunking strategy, the platform uses the default strategy which creates one chunk (docpart) per sentence.","discriminator":{"propertyName":"type","mapping":{"max_chars_chunking_strategy":{"type":"object","description":"Sets a chunking strategy that limits the number of maximum characters per chunk. The chunks do not cross section boundaries.","properties":{"type":{"description":"When setting the type to max_chars_chunking_strategy, you can control the size of chunks (docparts).","type":"string","default":"max_chars_chunking_strategy"},"max_chars_per_chunk":{"description":"Specifies the maximum number of characters per chunk. The platform adds sentences to a chunk until the total number of characters exceeds the limit. If a single sentence exceeds the limit, it splits the sentence across chunks. Note: This is the only case where the chunk may not contain a complete sentence.","type":"integer","format":"int32","minimum":100}},"required":["max_chars_per_chunk"],"x-vectaraParents":["ChunkingStrategy"],"title":"MaxCharsChunkingStrategy"},"sentence_chunking_strategy":{"type":"object","description":"Sets a chunking strategy that creates one chunk per sentence. This is the default strategy used when no chunking strategy is specified.","properties":{"type":{"description":"When setting the type to sentence_chunking_strategy, the platform will create one chunk per sentence.","type":"string","default":"sentence_chunking_strategy"}},"x-vectaraParents":["ChunkingStrategy"],"title":"SentenceChunkingStrategy"}}},"oneOf":[{"type":"object","description":"Sets a chunking strategy that limits the number of maximum characters per chunk. The chunks do not cross section boundaries.","properties":{"type":{"description":"When setting the type to max_chars_chunking_strategy, you can control the size of chunks (docparts).","type":"string","default":"max_chars_chunking_strategy"},"max_chars_per_chunk":{"description":"Specifies the maximum number of characters per chunk. The platform adds sentences to a chunk until the total number of characters exceeds the limit. If a single sentence exceeds the limit, it splits the sentence across chunks. Note: This is the only case where the chunk may not contain a complete sentence.","type":"integer","format":"int32","minimum":100}},"required":["max_chars_per_chunk"],"x-vectaraParents":["ChunkingStrategy"],"title":"MaxCharsChunkingStrategy"},{"type":"object","description":"Sets a chunking strategy that creates one chunk per sentence. This is the default strategy used when no chunking strategy is specified.","properties":{"type":{"description":"When setting the type to sentence_chunking_strategy, the platform will create one chunk per sentence.","type":"string","default":"sentence_chunking_strategy"}},"x-vectaraParents":["ChunkingStrategy"],"title":"SentenceChunkingStrategy"}],"title":"ChunkingStrategy"},"table_extraction_config":{"example":{"extract_tables":true},"type":"object","description":"Configuration for table extraction from the document. This is optional and if not provided, the platform does not extract tables from PDF files.","properties":{"extract_tables":{"type":"boolean","description":"If set to true, the platform will attempt to extract tables from the document. The tables will be indexed as separate document parts."},"extractor":{"description":"Specification for which table extractor to use. If not specified, the platform uses the default extractor.","type":"object","properties":{"name":{"description":"The name of the table extractor to use.","type":"string","example":"textract"}},"required":["name"],"title":"TableExtractorSpec"},"generation":{"description":"Specification for which generation to use during table summarization. If not specified, the platform uses the default summarizer. All parameters are optional and overrides the default values.","type":"object","properties":{"llm_name":{"description":"The name of the LLM to use.","type":"string","example":"gpt-4o"},"prompt_template":{"type":"string","description":"The prompt template to use when generating the table summary. Vectara manages both system and user roles and prompts for the generative LLM out of the box by default. However, users can override the `prompt_template` via this variable. The `prompt_template` is in the form of an Apache Velocity template. For more details on how to configure the `prompt_template`, see the [long-form documentation](https://docs.vectara.com/docs/prompts/vectara-prompt-engine)."},"model_parameters":{"type":"object","description":"Optional parameters for the specified model used when generating the table summary.","example":{"temperature":0,"max_tokens":512},"additionalProperties":true}},"title":"TableGenerationSpec"}},"required":["extract_tables"],"title":"TableExtractionConfig"},"filename":{"description":"Optional multipart section to override the filename.","type":"string","example":"system_design_v1.pdf"},"file":{"description":"Binary file contents. The file name of the file will be used as the document ID.","type":"string","format":"binary"}},"required":["file"],"example":{"metadata":{"department\"":"engineering","doc_type\"":"architecture_diagram"},"chunking_strategy":{"type":"sentence_chunking_strategy"},"table_extraction_config":{"extract_tables":true},"filename":"system_design_v1.pdf","file":"system_design_v1.pdf"},"title":"UploadFileRequest"},"encoding":{"metadata":{"contentType":"application/json"},"chunking_strategy":{"contentType":"application/json"},"table_extraction_config":{"contentType":"application/json"},"file":{"contentType":"application/octet-stream, application/pdf, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.oasis.opendocument.text, application/epub+zip, application/rtf, text/html, text/plain, application/vnd.ms-powerpoint, application/vnd.openxmlformats-officedocument.presentationml.presentation, text/markdown"},"filename":{"contentType":"text/plain"}}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"description":"The extracted document has been parsed and added to the corpus.","content":{"application/json":{"schema":{"description":"A document stored in a corpus, containing metadata and indexed content.","type":"object","properties":{"id":{"description":"The document ID.","type":"string","example":"Invoice-403"},"metadata":{"description":"The document metadata.","type":"object","additionalProperties":true,"example":{"priority":"High"}},"tables":{"description":"The tables that this document contains. Tables are not available when table extraction is not enabled.","type":"array","items":{"description":"A table in a document.","type":"object","properties":{"id":{"description":"The unique ID of the table within the document.","type":"string","example":"billing_table_111"},"title":{"description":"The title of the table.","type":"string","example":"Carbon Reduction Metrics"},"data":{"description":"The data of the table.","type":"object","properties":{"headers":{"description":"The headers of the table.","type":"array","items":{"description":"The header of a table.","type":"array","items":{"description":"A cell in a table.","type":"object","properties":{"text_value":{"description":"A text value.","type":"string","example":"Bank A"},"int_value":{"description":"A signed 64-bit integer value.","type":"integer","format":"int64"},"float_value":{"description":"A floating-point value with double precision.","type":"number","format":"double"},"bool_value":{"description":"A boolean value.","type":"boolean"},"colspan":{"description":"The number of columns the cell spans. This field is optional; if not specified, default is 1. Must be greater than 0.","type":"integer","format":"int32","example":1},"rowspan":{"description":"The number of rows the cell spans. This field is optional; if not specified, default is 1. Must be greater than 0.","type":"integer","format":"int32","example":1}},"title":"Cell"},"title":"Header"}},"rows":{"description":"The rows in the data.","type":"array","items":{"description":"A row in a table.","type":"array","items":{"description":"A cell in a table.","type":"object","properties":{"text_value":{"description":"A text value.","type":"string","example":"Bank A"},"int_value":{"description":"A signed 64-bit integer value.","type":"integer","format":"int64"},"float_value":{"description":"A floating-point value with double precision.","type":"number","format":"double"},"bool_value":{"description":"A boolean value.","type":"boolean"},"colspan":{"description":"The number of columns the cell spans. This field is optional; if not specified, default is 1. Must be greater than 0.","type":"integer","format":"int32","example":1},"rowspan":{"description":"The number of rows the cell spans. This field is optional; if not specified, default is 1. Must be greater than 0.","type":"integer","format":"int32","example":1}},"title":"Cell"},"title":"Row"}}},"title":"Data"},"description":{"description":"The description of the table.","type":"string","example":"Summary of carbon reduction efforts by EU banks in 2023."}},"title":"Table"}},"images":{"description":"The images that this document contains.","type":"array","items":{"description":"An image element within a document, containing its identifying information and optional metadata.","type":"object","properties":{"id":{"description":"The unique identifier of the image within the document, used to reference it in related content.","type":"string","example":"chart_1"},"title":{"description":"A short, human-readable title for the image, often displayed above or alongside it.","type":"string","example":"Quarterly Sales Performance"},"caption":{"description":"A brief caption providing context or an explanation for the image, typically displayed below it.","type":"string","example":"Sales growth trends for Q1 to Q4 of 2024"},"description":{"description":"A longer, detailed description of the image for accessibility or additional context.","type":"string","example":"A bar chart showing quarterly sales growth, with Q4 outperforming all previous quarters by 15%"},"mime_type":{"description":"The MIME type of the image, indicating the format of the binary data (e.g., image/jpeg for JPEG images).","type":"string","example":"image/jpeg"}},"required":["id","image_data","mime_type"],"title":"ImageMetadata"}},"parts":{"description":"Parts of the document that make up the document. However, parts are not available when retrieving a list of documents or when creating a document. This property is only available when retrieving a document by ID.","type":"array","items":{"description":"A part of a document. This section gets converted into an embedding and directly maps to a search result. Usually a sentence.","type":"object","properties":{"text":{"description":"The text of the document part.","type":"string","example":"This invoice includes customer billing history for Q1."},"metadata":{"description":"The metadata for a document part. These may be used in metadata filters at query time if filter attributes are configured on the corpus.","type":"object","additionalProperties":true,"example":{"part.rank":9000}},"context":{"description":"The context text for the document part.","type":"string","example":"Description of line items in the document part to provide additional context."},"custom_dimensions":{"description":"The custom dimensions as additional weights.","type":"object","additionalProperties":{"type":"number","format":"double","nullable":false},"title":"CustomDimensions"}},"required":["text"],"title":"DocumentPart"}},"storage_usage":{"example":{"bytes_used":1024,"metadata_bytes_used":256},"type":"object","description":"How much storage the document used. This information is currently not returned when retrieving the document, and only returned when indexing a document.","properties":{"bytes_used":{"description":"Number of bytes used by document counting towards maximum corpus size, and towards any billing plans.","type":"integer","format":"int64","minimum":0},"metadata_bytes_used":{"description":"Number of metadata bytes used by a document.","type":"integer","format":"int64","minimum":0}},"title":"DocumentStorageUsage"},"extraction_usage":{"example":{"table_extraction_used":2},"type":"object","description":"How much extraction quota the document used. This information is currently not returned when retrieving the document, and only returned when indexing a document.","properties":{"table_extraction_used":{"description":"The number of pages from the document that consumed the extraction quota.","type":"integer","format":"int64","minimum":0}},"title":"ExtractionUsage"}},"example":{"id":"manufacturing_invoice-2331","metadata":{"doc_type":"invoice","industry":"manufacturing"},"tables":[{"id":"billing_table_1","title":"Customer Billing Info","description":"Monthly billing for top manufacturing clients","data":{"headers":[[{"text_value":"Customer Name"},{"text_value":"Balance"},{"text_value":"Account Created"}]],"rows":[[{"text_value":"Acme Corp"},{"float_value":10230.25},{"text_value":"2023-01-15"}],[{"text_value":"Beta Industries"},{"float_value":8750},{"text_value":"2022-11-03"}],[{"text_value":"Zeta Manufacturing"},{"float_value":13499.99},{"text_value":"2023-06-30"}]]}}],"images":[{"id":"image_1","title":"Quarterly Sales Performance","caption":"Sales growth trends for Q1 to Q4 of 2024","description":"A bar chart showing quarterly sales growth, with Q4 outperforming all previous quarters by 15%","mime_type":"image/png","image_data":{"data":"iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAADElEQVR4nGP4//8/AAX+Av4N70a4AAAAAElFTkSuQmCC"}}],"parts":[{"text":"This invoice includes customer billing history for Q1.","metadata":{"part.rank":9000}}],"storage_usage":{"bytes_used":1024,"metadata_bytes_used":256},"extraction_usage":{"table_extraction_used":3}},"title":"Document"}}}},"400":{"description":"Upload file request was malformed.","content":{"application/json":{"schema":{"description":"Error returned when a request contains invalid parameters or violates schema validation.","type":"object","properties":{"field_errors":{"description":"The errors that relate to specific fields in the request.","type":"object","additionalProperties":{"type":"string"}},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"BadRequestError"}}}},"403":{"description":"Permissions do not allow uploading a file to the corpus.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}},"404":{"description":"Corpus not found.","content":{"application/json":{"schema":{"description":"Error returned when a requested resource does not exist.","type":"object","properties":{"id":{"description":"The ID cannot be found.","type":"string"},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"NotFoundError"}}}},"415":{"description":"The media type of the uploaded file is not supported.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}}}}
>
  
</StatusCodes>


      
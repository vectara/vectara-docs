---
id: upload-file
title: "Upload a file to the corpus"
description: "Upload files such as PDFs and Word Documents for automatic text extraction and metadata parsing."
sidebar_label: "Upload a file to the corpus"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Upload a file to the corpus"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v2/corpora/{corpus_key}/upload_file"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Upload files such as PDFs and Word Documents for automatic text extraction and metadata parsing.
The request expects a `multipart/form-data` format containing the following parts:
* `metadata` - (Optional) Specifies a JSON object representing any additional metadata to be associated with the extracted document. For example, `'metadata={"key": "value"};type=application/json'`
* `chunking_strategy` - (Optional) Specifies the chunking strategy for the platform to use. If you do not set this option, the platform uses the default strategy, which creates one chunk per sentence. For example, `'chunking_strategy={"type":"max_chars_chunking_strategy","max_chars_per_chunk":200};type=application/json'`
* `table_extraction_config` - (Optional) Specifies whether to extract table data from the uploaded file. If you do not set this option, the platform does not extract tables from PDF files. Example config, `'table_extraction_config={"extract_tables":true};type=application/json'`
* `file` - Specifies the file that you want to upload.
* `filename` - Specified as part of the file field with the file name that you want to associate with the uploaded file. For a curl example, use the following syntax: `'file=@/path/to/file/file.pdf;filename=desired_filename.pdf'`

For more detailed information, see this [File Upload API guide.](https://docs.vectara.com/docs/api-reference/indexing-apis/file-upload/file-upload)


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false},{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}},{"in":"path","name":"corpus_key","description":"The unique key identifying the corpus of which to upload the file.","required":true,"schema":{"description":"A user-provided key for a corpus.","type":"string","example":"my-corpus","pattern":"[a-zA-Z0-9_\\=\\-]+$","maxLength":50,"title":"CorpusKey"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"description":"Upload a file for the Vectara platform to attempt to parse and turn into a document within the corpus.\nThe first part of the multipart request can contain any document metadata to attach to the parsed\ndocument. Only one document may be uploaded at a time.\n","content":{"multipart/form-data":{"schema":{"type":"object","properties":{"metadata":{"description":"Arbitrary object that will be attached as document metadata to the extracted document.","type":"object","additionalProperties":true},"chunking_strategy":{"type":"object","description":"(Optional) Choose how to split documents into chunks during indexing. If you do not set a chunking strategy,\nthe platform uses the default strategy which creates one chunk (docpart) per sentence.\n","discriminator":{"propertyName":"type","mapping":{"max_chars_chunking_strategy":{"type":"object","description":"Sets a chunking strategy that limits the number of maximum characters per chunk.\nThe chunks do not cross section boundaries.\n","properties":{"type":{"description":"When setting the type to max_chars_chunking_strategy, you can control the size of chunks (docparts).\n","type":"string","default":"max_chars_chunking_strategy"},"max_chars_per_chunk":{"description":"Specifies the maximum number of characters per chunk.\n\nThe platform adds sentences to a chunk until the total number of characters exceeds the limit.\n\nIf a single sentence exceeds the limit, it splits the sentence across chunks.\nNote: This is the only case where the chunk may not contain a complete sentence.\n","type":"integer","format":"int32","minimum":100}},"required":["max_chars_per_chunk"],"x-vectaraParents":["ChunkingStrategy"],"title":"MaxCharsChunkingStrategy"}}},"oneOf":[{"type":"object","description":"Sets a chunking strategy that limits the number of maximum characters per chunk.\nThe chunks do not cross section boundaries.\n","properties":{"type":{"description":"When setting the type to max_chars_chunking_strategy, you can control the size of chunks (docparts).\n","type":"string","default":"max_chars_chunking_strategy"},"max_chars_per_chunk":{"description":"Specifies the maximum number of characters per chunk.\n\nThe platform adds sentences to a chunk until the total number of characters exceeds the limit.\n\nIf a single sentence exceeds the limit, it splits the sentence across chunks.\nNote: This is the only case where the chunk may not contain a complete sentence.\n","type":"integer","format":"int32","minimum":100}},"required":["max_chars_per_chunk"],"x-vectaraParents":["ChunkingStrategy"],"title":"MaxCharsChunkingStrategy"}],"title":"ChunkingStrategy"},"table_extraction_config":{"type":"object","description":"(Optional) Configuration for table extraction from the document.\n","properties":{"extract_tables":{"type":"boolean","description":"If set to true, the platform will attempt to extract tables from the document.\nThe tables will be indexed as separate document parts.\n"}},"required":["extract_tables"],"title":"TableExtractionConfig"},"filename":{"description":"Optional multipart section to override the filename.","type":"string"},"file":{"description":"Binary file contents. The file name of the file will be used as the document ID.","type":"string","format":"binary"}},"required":["file"],"title":"UploadFileRequest"},"encoding":{"metadata":{"contentType":"application/json"},"chunking_strategy":{"contentType":"application/json"},"table_extraction_config":{"contentType":"application/json"},"file":{"contentType":"application/octet-stream, application/pdf, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.oasis.opendocument.text, application/epub+zip, application/rtf, text/html, text/plain, application/vnd.ms-powerpoint, application/vnd.openxmlformats-officedocument.presentationml.presentation, text/markdown"},"filename":{"contentType":"text/plain"}}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"description":"The extracted document has been parsed and added to the corpus.","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"description":"The document ID.","type":"string","example":"my-doc-id"},"metadata":{"description":"The document metadata.","type":"object","additionalProperties":true},"tables":{"description":"The tables that this document contains. Tables are not available when table extraction is not enabled.","type":"array","items":{"description":"A table in a document.","type":"object","properties":{"id":{"description":"The unique ID of the table within the document.","type":"string","example":"table_1"},"title":{"description":"The title of the table.","type":"string"},"data":{"description":"The data of the table.","type":"object","properties":{"headers":{"description":"The headers of the table.","type":"array","items":{"description":"The header of a table.","type":"array","items":{"description":"A cell in a table.","type":"object","properties":{"text_value":{"description":"A text value.","type":"string"},"int_value":{"description":"A signed 64-bit integer value.","type":"integer","format":"int64"},"float_value":{"description":"A floating-point value with double precision.","type":"number","format":"double"},"bool_value":{"description":"A boolean value.","type":"boolean"},"colspan":{"description":"(Optional) The number of columns the cell spans. Default is 1. Must be greater than 0.","type":"integer","format":"int32"},"rowspan":{"description":"(Optional) The number of rows the cell spans. Default is 1. Must be greater than 0.","type":"integer","format":"int32"}},"title":"Cell"},"title":"Header"}},"rows":{"description":"The rows in the data.","type":"array","items":{"description":"A row in a table.","type":"array","items":{"description":"A cell in a table.","type":"object","properties":{"text_value":{"description":"A text value.","type":"string"},"int_value":{"description":"A signed 64-bit integer value.","type":"integer","format":"int64"},"float_value":{"description":"A floating-point value with double precision.","type":"number","format":"double"},"bool_value":{"description":"A boolean value.","type":"boolean"},"colspan":{"description":"(Optional) The number of columns the cell spans. Default is 1. Must be greater than 0.","type":"integer","format":"int32"},"rowspan":{"description":"(Optional) The number of rows the cell spans. Default is 1. Must be greater than 0.","type":"integer","format":"int32"}},"title":"Cell"},"title":"Row"}}},"title":"Data"},"description":{"description":"The description of the table.","type":"string"}},"title":"Table"}},"parts":{"description":"Parts of the document that make up the document. However, parts are not available when\nretrieving a list of documents or when creating a document. This property is only available\nwhen retrieving a document by ID.\n","type":"array","items":{"description":"A part of a document. This section gets converted into an embedding and directly maps to a search result. Usually a sentence.","type":"object","properties":{"text":{"description":"The text of the document part.","type":"string","example":"I'm a nice document part."},"metadata":{"description":"The metadata for a document part. These may be used in metadata filters at query time if filter attributes are configured on the corpus.","type":"object","additionalProperties":true,"example":{"nice_rank":9000}},"context":{"description":"The context text for the document part.","type":"string"},"custom_dimensions":{"description":"The custom dimensions as additional weights.","type":"object","additionalProperties":{"type":"number","format":"double"},"title":"CustomDimensions"}},"required":["text"],"title":"DocumentPart"}},"storage_usage":{"type":"object","description":"How much storage the document used. This information is currently not returned when\nretrieving the document, and only returned when indexing a document.\n","properties":{"bytes_used":{"description":"Number of bytes used by document counting towards maximum corpus size, and\ntowards any billing plans.\n","type":"integer","format":"int64","minimum":0},"metadata_bytes_used":{"description":"Number of metadata bytes used by a document.\n","type":"integer","format":"int64","minimum":0}},"title":"DocumentStorageUsage"},"extraction_usage":{"type":"object","description":"How much extraction quota the document used. This information is currently not returned when\nretrieving the document, and only returned when indexing a document.\n","properties":{"table_extraction_used":{"description":"The number of pages from the document that consumed the extraction quota.\n","type":"integer","format":"int64","minimum":0}},"title":"ExtractionUsage"}},"title":"Document"}}}},"400":{"description":"Upload file request was malformed.","content":{"application/json":{"schema":{"type":"object","properties":{"field_errors":{"description":"The errors that relate to specific fields in the request.","type":"object","additionalProperties":{"type":"string"}},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"BadRequestError"}}}},"403":{"description":"Permissions do not allow uploading a file to the corpus.","content":{"application/json":{"schema":{"type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}},"404":{"description":"Corpus not found.","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"description":"The ID cannot be found.","type":"string"},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"NotFoundError"}}}}}}
>
  
</StatusCodes>


      
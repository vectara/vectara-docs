---
id: get-query-histories
title: "List the history of previous queries"
description: "Retrieve query histories."
sidebar_label: "List the history of previous queries"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "get api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"List the history of previous queries"}
>
</Heading>

<MethodEndpoint
  method={"get"}
  path={"/v2/queries"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Retrieve query histories.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false},{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}},{"name":"corpus_key","in":"query","description":"Specifies the `corpus_key` used in the query.","required":false,"schema":{"type":"string"}},{"name":"started_after","in":"query","description":"Queries that started after a particular date-time.","required":false,"schema":{"type":"string","format":"date-time"}},{"name":"started_before","in":"query","description":"Queries that started before a particular date-time.","required":false,"schema":{"type":"string","format":"date-time"}},{"name":"chat_id","in":"query","description":"Specifies the chat_id of the query, this will return all queries in the specified chat.","required":false,"schema":{"type":"string"}},{"name":"limit","in":"query","description":"Specifies the maximum number of query history listed.","schema":{"type":"integer","minimum":1,"maximum":100,"default":10}},{"name":"page_key","in":"query","description":"Used to retrieve the next page of query histories after the limit has been reached.","required":false,"schema":{"type":"string"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={undefined}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"An array of Query Histories.","content":{"application/json":{"schema":{"description":"An array of query histories.","type":"object","properties":{"queries":{"type":"array","items":{"description":"A summary of a previously executed query, including metadata but not full results.","type":"object","properties":{"id":{"description":"The ID of the query history.","type":"string"},"query":{"description":"The actual query made.","type":"string"},"corpus_key":{"description":"The corpus key that the query was made on.","type":"string"},"started_at":{"description":"ISO date time indicating when the query was first received.","type":"string","format":"date-time"},"latency_millis":{"description":"Time that the query took in milliseconds.","type":"integer"},"chat_id":{"description":"The unique ID of the chat associated with the query, if this query is part of a chat.","type":"string"},"generation":{"description":"Generated response to the query, if requested.","type":"string"},"factual_consistency_score":{"description":"The factual consistency score of the generation.","type":"number","format":"float"}},"title":"QueryHistorySummary"}},"metadata":{"description":"The metadata for the list of query histories.","type":"object","properties":{"page_key":{"description":"A query parameter required when requesting the next page of results.","type":"string"}}}},"title":"ListQueryHistoriesResponse"}}}},"400":{"description":"Query history list request was malformed.","content":{"application/json":{"schema":{"description":"Error returned when a request contains invalid parameters or violates schema validation.","type":"object","properties":{"field_errors":{"description":"The errors that relate to specific fields in the request.","type":"object","additionalProperties":{"type":"string"}},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"BadRequestError"}}}},"403":{"description":"Permissions do not allow listing query histories.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}}}}
>
  
</StatusCodes>


      
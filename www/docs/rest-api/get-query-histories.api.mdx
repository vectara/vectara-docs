---
id: get-query-histories
title: "List the history of previous queries"
description: "The List Query Histories API allows you to retrieve, update, and manage query history for a specific corpus. This API is particularly useful for tracking query performance, debugging individual queries, and retrieving detailed information such as the call stack of a query execution."
sidebar_label: "List the history of previous queries"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "get api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"List the history of previous queries"}
>
</Heading>

<MethodEndpoint
  method={"get"}
  path={"/v2/queries"}
  context={"endpoint"}
>
  
</MethodEndpoint>



The List Query Histories API allows you to retrieve, update, and manage query history for a specific corpus. This API is particularly useful for tracking query performance, debugging individual queries, and retrieving detailed information such as the call stack of a query execution.

You can specify the `corpus_key`, `chat_id`, and the `limit` which is the maximum number of historical queries to list.


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false},{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}},{"name":"corpus_key","in":"query","description":"Specifies the `corpus_key` used in the query.","required":false,"schema":{"type":"string"},"example":"my_corpus_key"},{"name":"started_after","in":"query","description":"Queries that started after a particular ISO date-time.","required":false,"schema":{"type":"string","format":"date-time"}},{"name":"started_before","in":"query","description":"Queries that started before a particular ISO date-time.","required":false,"schema":{"type":"string","format":"date-time"}},{"name":"chat_id","in":"query","description":"Specifies the chat_id of the query, this will return all queries in the specified chat.","required":false,"schema":{"type":"string"},"example":"cht_123456789"},{"name":"history_id","in":"query","description":"Specifies the history_id of the query that you want to use as a filter.","required":false,"schema":{"type":"string"}},{"name":"limit","in":"query","description":"Specifies the maximum number of query history listed.","schema":{"type":"integer","minimum":1,"maximum":100,"default":10}},{"name":"page_key","in":"query","description":"Used to retrieve the next page of query histories after the limit has been reached.","required":false,"schema":{"type":"string"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={undefined}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"The response includes an array of previous query histories.","content":{"application/json":{"schema":{"description":"An array of query histories.","type":"object","properties":{"queries":{"type":"array","items":{"description":"A summary of a previously executed query, including metadata but not full results.","type":"object","properties":{"id":{"description":"The ID of the query history.","type":"string","example":"qry_1234567890"},"query":{"description":"The actual query made.","type":"string","maxLength":5000},"corpus_key":{"description":"The corpus key that the query was made on.","type":"string","example":"eu_carbon"},"started_at":{"description":"ISO date time indicating when the query was first received.","type":"string","format":"date-time","example":"2025-06-01T12:00:00Z"},"latency_millis":{"description":"Time that the query took in milliseconds.","type":"integer","example":50},"chat_id":{"description":"The unique ID of the chat associated with the query, if this query is part of a chat.","type":"string","example":"chat_1234567890"},"generation":{"description":"Generated response to the query, if requested.","type":"string","example":"The carbon reduction efforts by EU banks in 2023 show a significant increase, with a 20% rise in initiatives driven by regulatory pressure."},"factual_consistency_score":{"description":"The factual consistency score of the generation.","type":"number","format":"float","example":0.98}},"title":"QueryHistorySummary"}},"metadata":{"description":"The metadata for the list of query histories.","type":"object","properties":{"page_key":{"description":"A query parameter required when requesting the next page of results.","type":"string"}}}},"title":"ListQueryHistoriesResponse"}}}},"400":{"description":"Query history list request was malformed.","content":{"application/json":{"schema":{"description":"Error returned when a request contains invalid parameters or violates schema validation.","type":"object","properties":{"field_errors":{"description":"The errors that relate to specific fields in the request.","type":"object","additionalProperties":{"type":"string"}},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"BadRequestError"}}}},"403":{"description":"Permissions do not allow listing query histories.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}}}}
>
  
</StatusCodes>


      
---
id: get-query-histories
title: "List the history of previous queries"
description: "Retrieve query histories."
sidebar_label: "List the history of previous queries"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "get api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"List the history of previous queries"}
>
</Heading>

<MethodEndpoint
  method={"get"}
  path={"/v2/queries"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Retrieve query histories.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false},{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}},{"name":"corpus_key","in":"query","description":"Specifies the `corpus_key` used in the query.","required":false,"schema":{"type":"string"}},{"name":"started_after","in":"query","description":"Queries that started after a particular date-time.","required":false,"schema":{"type":"string","format":"date-time"}},{"name":"started_before","in":"query","description":"Queries that started before a particular date-time.","required":false,"schema":{"type":"string","format":"date-time"}},{"name":"chat_id","in":"query","description":"Specifies the chat_id of the query, this will return all queries in the specified chat.","required":false,"schema":{"type":"string"}},{"name":"limit","in":"query","description":"Specifies the maximum number of query history listed.","schema":{"type":"integer","minimum":1,"maximum":100,"default":10}},{"name":"page_key","in":"query","description":"Used to retrieve the next page of query histories after the limit has been reached.\n","required":false,"schema":{"type":"string"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={undefined}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"An array of Query Histories.","content":{"application/json":{"schema":{"description":"An array of query histories.","type":"object","properties":{"queries":{"type":"array","items":{"description":"A summary of a previously executed query, including metadata but not full results.","type":"object","properties":{"id":{"description":"The ID of the query history.","type":"string"},"query":{"description":"The actual query made.","type":"string"},"corpus_key":{"description":"The corpus key that the query was made on.","type":"string"},"started_at":{"description":"ISO date time indicating when the query was first received.","type":"string","format":"date-time"},"latency_millis":{"description":"Time that the query took in milliseconds.","type":"integer"},"chat_id":{"description":"The unique ID of the chat associated with the query, if this query is part of a chat.","type":"string"},"generation":{"description":"Generated response to the query, if requested.","type":"string"},"factual_consistency_score":{"description":"The factual consistency score of the generation.","type":"number","format":"float"}},"title":"QueryHistorySummary"}},"metadata":{"description":"The metadata for the list of query histories.","type":"object","properties":{"page_key":{"description":"A query parameter required when requesting the next page of results.","type":"string"}}}},"title":"ListQueryHistoriesResponse"}}}},"400":{"description":"Query history list request was malformed.","content":{"application/json":{"schema":{"description":"Error returned when a request contains invalid parameters or violates schema validation.","type":"object","properties":{"field_errors":{"description":"The errors that relate to specific fields in the request.","type":"object","additionalProperties":{"type":"string"}},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"BadRequestError"}}}},"403":{"description":"Permissions do not allow listing query histories.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}}}}
>
  
</StatusCodes>


      
---
id: get-query-histories
title: "List the history of previous queries"
description: "Retrieve query histories."
sidebar_label: "List the history of previous queries"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "get api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"List the history of previous queries"}
>
</Heading>

<MethodEndpoint
  method={"get"}
  path={"/v2/queries"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Retrieve query histories.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false},{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}},{"name":"corpus_key","in":"query","description":"Specifies the `corpus_key` used in the query.","required":false,"schema":{"type":"string"}},{"name":"started_after","in":"query","description":"Queries that started after a particular ISO date-time.","required":false,"schema":{"type":"string","format":"date-time"}},{"name":"started_before","in":"query","description":"Queries that started before a particular ISO date-time.","required":false,"schema":{"type":"string","format":"date-time"}},{"name":"chat_id","in":"query","description":"Specifies the chat_id of the query, this will return all queries in the specified chat.","required":false,"schema":{"type":"string"}},{"name":"history_id","in":"query","description":"Specifies the history_id of the query that you want to use as a filter.","required":false,"schema":{"type":"string"}},{"name":"limit","in":"query","description":"Specifies the maximum number of query history listed.","schema":{"type":"integer","minimum":1,"maximum":100,"default":10}},{"name":"page_key","in":"query","description":"Used to retrieve the next page of query histories after the limit has been reached.","required":false,"schema":{"type":"string"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={undefined}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"An array of Query Histories.","content":{"application/json":{"schema":{"description":"An array of query histories.","type":"object","properties":{"queries":{"type":"array","items":{"description":"A summary of a previously executed query, including metadata but not full results.","type":"object","properties":{"id":{"description":"The ID of the query history.","type":"string"},"query":{"description":"The actual query made.","type":"string","maxLength":5000},"corpus_key":{"description":"The corpus key that the query was made on.","type":"string"},"started_at":{"description":"ISO date time indicating when the query was first received.","type":"string","format":"date-time"},"latency_millis":{"description":"Time that the query took in milliseconds.","type":"integer"},"chat_id":{"description":"The unique ID of the chat associated with the query, if this query is part of a chat.","type":"string"},"generation":{"description":"Generated response to the query, if requested.","type":"string"},"factual_consistency_score":{"description":"The factual consistency score of the generation.","type":"number","format":"float"}},"title":"QueryHistorySummary"}},"metadata":{"description":"The metadata for the list of query histories.","type":"object","properties":{"page_key":{"description":"A query parameter required when requesting the next page of results.","type":"string"}}}},"title":"ListQueryHistoriesResponse"}}}},"400":{"description":"Query history list request was malformed.","content":{"application/json":{"schema":{"description":"Error returned when a request contains invalid parameters or violates schema validation.","type":"object","properties":{"field_errors":{"description":"The errors that relate to specific fields in the request.","type":"object","additionalProperties":{"type":"string"}},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"BadRequestError"}}}},"403":{"description":"Permissions do not allow listing query histories.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}}}}
>
  
</StatusCodes>


      
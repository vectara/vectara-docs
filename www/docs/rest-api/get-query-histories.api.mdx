---
id: get-query-histories
title: "List the history of previous queries"
description: "Retrieve query histories."
sidebar_label: "List the history of previous queries"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "get api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"List the history of previous queries"}
>
</Heading>

<MethodEndpoint
  method={"get"}
  path={"/v2/queries"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Retrieve query histories.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false},{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}},{"name":"corpus_key","in":"query","description":"Specifies the `corpus_key` used in the query.","required":false,"schema":{"type":"string"}},{"name":"started_after","in":"query","description":"Queries that started after a particular ISO date-time.","required":false,"schema":{"type":"string","format":"date-time"}},{"name":"started_before","in":"query","description":"Queries that started before a particular ISO date-time.","required":false,"schema":{"type":"string","format":"date-time"}},{"name":"chat_id","in":"query","description":"Specifies the chat_id of the query, this will return all queries in the specified chat.","required":false,"schema":{"type":"string"}},{"name":"limit","in":"query","description":"Specifies the maximum number of query history listed.","schema":{"type":"integer","minimum":1,"maximum":100,"default":10}},{"name":"page_key","in":"query","description":"Used to retrieve the next page of query histories after the limit has been reached.","required":false,"schema":{"type":"string"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={undefined}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"An array of Query Histories.","content":{"application/json":{"schema":{"description":"An array of query histories.","type":"object","properties":{"queries":{"type":"array","items":{"description":"A summary of a previously executed query, including metadata but not full results.","type":"object","properties":{"id":{"description":"The ID of the query history.","type":"string"},"query":{"description":"The actual query made.","type":"string"},"corpus_key":{"description":"The corpus key that the query was made on.","type":"string"},"started_at":{"description":"ISO date time indicating when the query was first received.","type":"string","format":"date-time"},"latency_millis":{"description":"Time that the query took in milliseconds.","type":"integer"},"chat_id":{"description":"The unique ID of the chat associated with the query, if this query is part of a chat.","type":"string"},"generation":{"description":"Generated response to the query, if requested.","type":"string"},"factual_consistency_score":{"description":"The factual consistency score of the generation.","type":"number","format":"float"}},"title":"QueryHistorySummary"}},"metadata":{"description":"The metadata for the list of query histories.","type":"object","properties":{"page_key":{"description":"A query parameter required when requesting the next page of results.","type":"string"}}}},"title":"ListQueryHistoriesResponse"}}}},"400":{"description":"Query history list request was malformed.","content":{"application/json":{"schema":{"description":"Error returned when a request contains invalid parameters or violates schema validation.","type":"object","properties":{"field_errors":{"description":"The errors that relate to specific fields in the request.","type":"object","additionalProperties":{"type":"string"}},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"BadRequestError"}}}},"403":{"description":"Permissions do not allow listing query histories.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}}}}
>
  
</StatusCodes>


      
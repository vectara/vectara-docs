---
id: get-query-histories
title: "List the history of previous queries"
description: "Retrieve query histories."
sidebar_label: "List the history of previous queries"
hide_title: true
hide_table_of_contents: true
api: eJzNWm1vGzcS/isD4g5ogtVLlKbX6tO5bZAa7SFp7Bxw5xgKtTsrseKSG5IrWTD03w8z3DdZsmM7L7hPhnaHw2eGM8/McH0tglx4Mb0Qf1botvCb8sG6rbhMRIY+daoMyhoxFW8xOIVrhI8st2Q5hX4oEmFLdJLkTjMxFQsMrOu3RkQkopROFhjQ0VbXQpHGJcoMnUiEkQXyDh8r9GFwrgq0VRA3EZwvEU7enMJGaQ2FXCFImKMPgHluXYBgIbVFqTEghCWCi/pAGf7pS0xVrjADj6k1mQfrIKgCwVaBrPDpEgspptcibEsCpEzABSMslFFFVYjps10iSK9ymIlpLrXHXXI/ewb/Ulor//XMKlj/59hGptTgU+vKys9WuBVJNI/P/QD9Wb29ZzAfumUfoPKYNSh5MQG54bwjyHxwyizELhF4JcluMRXFdtYD1IPpg3QBs5nMAxtzB1KKyYhTBqjXAa8DCaV0QaWVlg5Oz15DJgMOyH8PgpyI3LpCBjEVrQKxO4J2jrl1+Ai4ceE3w5suZZip7CERUC8Bm3fnnkBYKh8D3GGonAGpNb+jZQeBTDoeHyvpMsyeTZ5//+KHf/z4Uz9WImVtH2hQt2rPpnguW1vBRhpO0sojSA8ScqUDuocZ0IOpVaHCQxAW8ooSGExVzNERyj5Fb0ErHzC7NwskolYops/GY9o6l5UO9KsPs5QL/DQ9vCMOCJaOPVYPAmzwKgCtv4mVLIoZSWLsCFhKD3NEAw5luox2PMCvlyTtS2s8eno/GY/pzz7KEwPSObklPP0yWJe31JqAJtA6WZZapVzrRn95Wnzd2/x2rUeKZo3Uzv/ClM67dFRGg4o46+TomcS6yNsBC39kN/BVUUjH20koHa6VrbzeAl5hWhF71MmoTKqrTJkFFBhkJoOEeRXA2AB5xSnqKx3ugVFlhzComp3+up8qdSD2FLYE1KXtR7ft0nZMKR0j6ugOMg2V1LX6QmZ4THchr/5AswhLMX0xHo93Sb+oHVUb38MK6/TuTNhIz/uANXebgdUslW5uDVnQVqdwuF9D27FMK5NxWJkFbJZobuycK+cDOExRrWMG3IPI+6gm48mLwfiHwfjZ+bPJdDyejsf/JYBaBjTpdhZbhyNOIWw3XBGsXRFn99uNHqSOUtrtX7Dv61py1PGVUR+rfuCQNEjvbaokhe5GhWW/oKg81pQISXkuiDHym+px+xkxlP1YW6CpW9hDgK/iO8ygYRJitH0wdVN2/HC6nTnIODzAYValtEPd53mYb+HlO5hLs+KaOBlPnoNf2g1I8GphVK5SKjXKpA6lxyQ6RcJk/HdwylMQgTIqKBnUGj1kTq3RkFqHi0pLLgalQ+8rh0OyOo95NEut8VQkKBR8Sq3J0VOqxaEnDizenFrnxZ4bYlnqx2iurQx9v4yHP/242yUiqMBu6o0P27PIalQiRcNXx+G1bJbbpoD48CjybWvbEZaNytp5BppaFPO2jgPK44NKd8irbZXqG/+H8jfmp7d12NWC3x8rYX8elPx2UIjcpcn9MT4fWc9eOmdd3cA19sp2F1IqlaHQXUutss5FPIyslSWy8RC1A8vcDJVbjiNXqLMZ0vbHOGqJEN9FpnKomVZt01GmwAraRrNGfGxfmWWK1Er9Zg/BQbcmCvReLu4u0M2J1rJHzj22MuhvZ8aOEhtHs5GpNDDHOGIFC0vUJfwb0yCdBF+VJQ2OGc4rKicywAZNgI2zZnEs+rrY+1lm9dTKh90G3PNDcG/QFcp7ZY2HzHL3ILW2G449iv8jWffYRqomFh3PuaPhSICmfpzaDEGaDGp/fzqw+od4jE/iW4iv5rE4b/kw4o42TSvn9kj/wUHQLw+nJqAzUoNHt0YXdxn+H8ZJFx27RFwNcnRm4LPVYOFsVQ7qCYEDYFZTktiTKzAsbTZoJx4fuvelXCjTluK0ct46MRV/a9K2N3gQvc76EjEuhk0l6MvW7Lsn1zTZPD8GNBzNfEHF5H+LZYlYS10dWkjD0cG6vqXdQrb4QL5neSv6rTxAg1LEGm/w+M6OWmcxWk9GjVgiYmRGJ1VO01gdQumno5Es1XAdQ2uorCCFHtPKqbBl6ZNS/Y7bk4qUXlyS8a/px4R/9YTPiAViTjYCLcVayQ9uTplRDmSaovcU53WIU9Oh7YZ1pVqhCb84zNAEJXVMTrtC827fjCose3aM4pYjluQR2pYMLsZ+36iuEPDDZjC+eS14NZClGvA91o5EctuniSY53748O+drwfWhuY1M6exaZTQzG0CTDYIdoMmg1DJQsec+iHpFpuNXaE5OaQm1nR4qTw+psyTuae4vTt6cDt+b/9iKieOC2k6oSlYkDfnXViZcftf4ihpBq7F1V2qL5tmI1lblEybkQK3CWuEGPK6ZyC/ItLeYqhJ9py+zqd9TRg8osAYuij6JlF8zZnuDRHt0HRlnjh++N8SLja9ovzdabimPTQYag+fbG7wq0amCeY9Us9/RZKVVJnjInS1IzsHc2Y1HN4Qz1JiG2ucsRt5j61SgYpFzE25Nf9JuiJk7RaocZWwzIEaHT2Bus23SljafsFE+2pnaopA0ZsHruoVRi2UArzJuLOlipANDGZ+AViuEi1cY4Bceai+/i850dCMtSzVaYBjEefdJwp4opKmkpvsCqkLRaPLa77glxJxj8DNKhw7OKRsS+JBWPtgC3UxlH5LuqKXZdtaSYf1mkJH1LotPf/3Q3Gt6NK23aOuG8N6b6XRqbMD35kbx8hA2Fkqn+OYjEpjnObAiJKFuMaasboXbGCvRlslwnMBmqdIlSLpUjR3JPGYDXVC2YTCsb4Vqd3iW55qaczsis4E1ehtbHjKg/SDieQeNcGoyvOoU1KnLaxnSxqmANYMNgSK3BdnT1jeraX/2zgTWSrL7utWR+IgIGuaDhZMmDOEtctSS+MXTp90KjzyYPn36qczUKJ0Z7bs6EuZg8gTk3FYBaIANthkN48kzmVKHQaUkctpkOB6OqedAV/jX+Rm6tUqxx8v9zTUupB6x6MDmAx+FR9xDaLtgQt0vTgf4VbFoVM421mWFdKthyf2Y1OEcr0JHtIKbnEy61edon2lK2rv24BEq5fYYC6lohxwxm8t09c+edq4bpfWhkNwi1XWF5sb+jTVlQXMLCF0B3ysl111LfucHvrqwBbwKo1JLxbdb7IPruk24EFyomn0uE7G0PtDz6+u59PjO6d2OHte3ehfXIlOesq27xb0V2kM/Mh2FG1utve9aTTvGrdj94Tz6S9IduG5+yPqS0O711ege2NrPVo8E9/W+FN114O03rC+C+nM+B92Bcu/b1BcBev+vQnfAar5FPRLR1/n6cwfe3rTTQb6kH04R5jh5NC35w0joa//7wR1mHf5nxCMP5Jv8r8H9Den+JWLPnih7kqZY9m09uDLam1lfvTwXu93/AEgVNXM=
sidebar_class_name: "get api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"List the history of previous queries"}
>
</Heading>

<MethodEndpoint
  method={"get"}
  path={"/v2/queries"}
  context={"endpoint"}
>
  
</MethodEndpoint>



The List Query Histories API allows you to retrieve, update, and manage query history for a specific corpus. 
      This API is particularly useful for tracking query performance, debugging individual queries, and 
      retrieving detailed information such as the call stack of a query execution.

      You can specify the `corpus_key`, `chat_id`, and the `limit` which is the maximum number of historical queries to list.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false},{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}},{"name":"corpus_key","in":"query","description":"Specifies the `corpus_key` used in the query.","required":false,"schema":{"type":"string"},"example":"my_corpus_key"},{"name":"started_after","in":"query","description":"Queries that started after a particular ISO date-time.","required":false,"schema":{"type":"string","format":"date-time"}},{"name":"started_before","in":"query","description":"Queries that started before a particular ISO date-time.","required":false,"schema":{"type":"string","format":"date-time"}},{"name":"chat_id","in":"query","description":"Specifies the chat_id of the query, this will return all queries in the specified chat.","required":false,"schema":{"type":"string"},"example":"cht_123456789"},{"name":"history_id","in":"query","description":"Specifies the history_id of the query that you want to use as a filter.","required":false,"schema":{"type":"string"}},{"name":"limit","in":"query","description":"Specifies the maximum number of query history listed.","schema":{"type":"integer","minimum":1,"maximum":100,"default":10}},{"name":"page_key","in":"query","description":"Used to retrieve the next page of query histories after the limit has been reached.","required":false,"schema":{"type":"string"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={undefined}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"The response includes an array of previous query histories.","content":{"application/json":{"schema":{"description":"An array of query histories.","type":"object","properties":{"queries":{"type":"array","items":{"description":"A summary of a previously executed query, including metadata but not full results.","type":"object","properties":{"id":{"description":"The ID of the query history.","type":"string","example":"qry_1234567890"},"query":{"description":"The actual query made.","type":"string","maxLength":5000},"corpus_key":{"description":"The corpus key that the query was made on.","type":"string","example":"eu_carbon"},"started_at":{"description":"ISO date time indicating when the query was first received.","type":"string","format":"date-time","example":"2025-06-01T12:00:00Z"},"latency_millis":{"description":"Time that the query took in milliseconds.","type":"integer","example":50},"chat_id":{"description":"The unique ID of the chat associated with the query, if this query is part of a chat.","type":"string","example":"chat_1234567890"},"generation":{"description":"Generated response to the query, if requested.","type":"string","example":"The carbon reduction efforts by EU banks in 2023 show a significant increase, with a 20% rise in initiatives driven by regulatory pressure."},"factual_consistency_score":{"description":"The factual consistency score of the generation.","type":"number","format":"float","example":0.98}},"title":"QueryHistorySummary"}},"metadata":{"description":"The metadata for the list of query histories.","type":"object","properties":{"page_key":{"description":"A query parameter required when requesting the next page of results.","type":"string"}}}},"title":"ListQueryHistoriesResponse"}}}},"400":{"description":"Query history list request was malformed.","content":{"application/json":{"schema":{"description":"Error returned when a request contains invalid parameters or violates schema validation.","type":"object","properties":{"field_errors":{"description":"The errors that relate to specific fields in the request.","type":"object","additionalProperties":{"type":"string"}},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"BadRequestError"}}}},"403":{"description":"Permissions do not allow listing query histories.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}}}}
>
  
</StatusCodes>


      
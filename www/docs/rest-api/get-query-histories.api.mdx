---
id: get-query-histories
title: "List the history of previous queries"
description: "The List Query Histories API allows you to retrieve, update, and manage query history for a specific corpus. This API is particularly useful for tracking query performance, debugging individual queries, and retrieving detailed information such as the call stack of a query execution."
sidebar_label: "List the history of previous queries"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "get api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"List the history of previous queries"}
>
</Heading>

<MethodEndpoint
  method={"get"}
  path={"/v2/queries"}
  context={"endpoint"}
>
  
</MethodEndpoint>



The List Query Histories API allows you to retrieve, update, and manage query history for a specific corpus. This API is particularly useful for tracking query performance, debugging individual queries, and retrieving detailed information such as the call stack of a query execution.

You can specify the `corpus_key`, `chat_id`, and the `limit` which is the maximum number of historical queries to list.


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false},{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}},{"name":"corpus_key","in":"query","description":"Specifies the `corpus_key` used in the query.","required":false,"schema":{"type":"string"},"example":"my_corpus_key"},{"name":"started_after","in":"query","description":"Queries that started after a particular ISO date-time.","required":false,"schema":{"type":"string","format":"date-time"}},{"name":"started_before","in":"query","description":"Queries that started before a particular ISO date-time.","required":false,"schema":{"type":"string","format":"date-time"}},{"name":"chat_id","in":"query","description":"Specifies the chat_id of the query, this will return all queries in the specified chat.","required":false,"schema":{"type":"string"},"example":"cht_123456789"},{"name":"history_id","in":"query","description":"Specifies the history_id of the query that you want to use as a filter.","required":false,"schema":{"type":"string"}},{"name":"limit","in":"query","description":"Specifies the maximum number of query history listed.","schema":{"type":"integer","minimum":1,"maximum":100,"default":10}},{"name":"page_key","in":"query","description":"Used to retrieve the next page of query histories after the limit has been reached.","required":false,"schema":{"type":"string"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={undefined}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"The response includes an array of previous query histories.","content":{"application/json":{"schema":{"description":"An array of query histories.","type":"object","properties":{"queries":{"type":"array","items":{"description":"A summary of a previously executed query, including metadata but not full results.","type":"object","properties":{"id":{"description":"The ID of the query history.","type":"string","example":"qry_1234567890"},"query":{"description":"The actual query made.","type":"string","maxLength":5000},"corpus_key":{"description":"The corpus key that the query was made on.","type":"string","example":"eu_carbon"},"started_at":{"description":"ISO date time indicating when the query was first received.","type":"string","format":"date-time","example":"2025-06-01T12:00:00Z"},"latency_millis":{"description":"Time that the query took in milliseconds.","type":"integer","example":50},"chat_id":{"description":"The unique ID of the chat associated with the query, if this query is part of a chat.","type":"string","example":"chat_1234567890"},"generation":{"description":"Generated response to the query, if requested.","type":"string","example":"The carbon reduction efforts by EU banks in 2023 show a significant increase, with a 20% rise in initiatives driven by regulatory pressure."},"factual_consistency_score":{"description":"The factual consistency score of the generation.","type":"number","format":"float","example":0.98}},"title":"QueryHistorySummary"}},"metadata":{"description":"The metadata for the list of query histories.","type":"object","properties":{"page_key":{"description":"A query parameter required when requesting the next page of results.","type":"string"}}}},"title":"ListQueryHistoriesResponse"}}}},"400":{"description":"Query history list request was malformed.","content":{"application/json":{"schema":{"description":"Error returned when a request contains invalid parameters or violates schema validation.","type":"object","properties":{"field_errors":{"description":"The errors that relate to specific fields in the request.","type":"object","additionalProperties":{"type":"string"}},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"BadRequestError"}}}},"403":{"description":"Permissions do not allow listing query histories.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}}}}
>
  
</StatusCodes>


      
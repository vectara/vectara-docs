---
id: test-lambda-tool-without-creation
title: "Test Lambda tool without creation"
description: "Test a Lambda tool without creating it first. This endpoint allows you to validate code, discover schemas, and test execution before committing to tool creation."
sidebar_label: "Test Lambda tool without creation"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Test Lambda tool without creation"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v2/tools/test"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Test a Lambda tool without creating it first. This endpoint allows you to validate code, discover schemas, and test execution before committing to tool creation.

Use this to:
- Validate Python code syntax and security constraints
- Discover input/output schemas from type annotations
- Test execution with sample input
- Verify schema compatibility

The function is executed in the same secure sandbox environment as production tools.


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false},{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"description":"Request to test a Lambda tool before creating it. This allows users to validate their code, schemas, and execution before committing to tool creation.\n\nUse this endpoint to:\n- Validate Python code syntax and security constraints\n- Discover input/output schemas from type annotations\n- Test execution with sample input\n- Verify schema compatibility\n","type":"object","properties":{"language":{"description":"The programming language. Currently only 'python' (Python 3.12) is supported.","type":"string","enum":["python"],"default":"python","example":"python"},"code":{"description":"The Python 3.12 code for the function. Must define a process() entry point.","type":"string","minLength":1,"maxLength":100000,"example":"def process(order_count: int, total_revenue: float) -> dict:\n    score = order_count * 10 + total_revenue * 0.1\n    return {'score': round(score, 2)}\n"},"execution_configuration":{"description":"Execution configuration for the function.","type":"object","properties":{"max_execution_time_seconds":{"description":"Maximum execution time in seconds.","type":"integer","minimum":1,"maximum":300,"default":30,"example":30},"max_memory_mb":{"description":"Maximum memory usage in megabytes.","type":"integer","minimum":10,"maximum":1024,"default":100,"example":100}},"title":"ExecutionConfiguration"},"test_input":{"description":"The input parameters to test the function with. Will be validated against the discovered input schema.","type":"object","additionalProperties":true,"example":{"order_count":10,"total_revenue":500}},"timeout_seconds":{"description":"Maximum execution time in seconds for this test. Overrides execution_configuration if specified.","type":"integer","minimum":1,"maximum":300,"example":10}},"required":["code","test_input"],"title":"TestLambdaToolRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Test validation and execution completed.","content":{"application/json":{"schema":{"description":"Response from testing a Lambda tool before creation. Contains comprehensive validation, schema discovery, and execution results to help users create tools successfully.\n","type":"object","properties":{"validation":{"description":"Results of code validation (static and sandbox).","type":"object","properties":{"status":{"description":"Overall validation status.","type":"string","enum":["valid","invalid","pending"],"example":"valid"},"errors":{"description":"List of validation errors if the code is invalid.","type":"array","items":{"type":"string"},"example":["Line 5: Use of forbidden module 'os'"]}},"required":["status"]},"input_schema":{"description":"The discovered input schema from type annotations. May be null if validation failed or no type hints provided.","type":"object","additionalProperties":true,"example":{"type":"object","properties":{"order_count":{"type":"integer"},"total_revenue":{"type":"number"}},"required":["order_count","total_revenue"]}},"output_schema":{"description":"The discovered output schema from type annotations. May be null if validation failed or no type hints provided.","type":"object","additionalProperties":true,"example":{"type":"object","properties":{"score":{"type":"number"}}}},"execution":{"description":"Results of executing the function with test input. Only present if validation passed.","type":"object","properties":{"success":{"description":"Whether the execution was successful.","type":"boolean","example":true},"output":{"description":"The output returned by the function.","type":"object","additionalProperties":true,"example":{"score":105}},"error":{"description":"Error information if execution failed.","type":"object","properties":{"message":{"description":"The error message.","type":"string"},"traceback":{"description":"Stack trace for debugging.","type":"string"}}},"latency_millis":{"description":"Time taken to execute the function in milliseconds.","type":"integer","example":125},"memory_used_mb":{"description":"Memory used during execution in megabytes.","type":"integer","example":32},"validation_results":{"description":"Results of input/output schema validation.","type":"object","properties":{"input_valid":{"description":"Whether the test input matched the discovered schema.","type":"boolean","example":true},"output_valid":{"description":"Whether the output matched the discovered schema.","type":"boolean","example":true},"validation_errors":{"description":"Details of any schema validation errors.","type":"array","items":{"type":"string"},"example":[]}}}},"required":["success"]}},"required":["validation"],"title":"TestLambdaToolResponse"}}}},"400":{"description":"Invalid request or malformed code.","content":{"application/json":{"schema":{"description":"Error returned when a request contains invalid parameters or violates schema validation.","type":"object","properties":{"field_errors":{"description":"The errors that relate to specific fields in the request.","type":"object","additionalProperties":{"type":"string"}},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"BadRequestError"}}}},"403":{"description":"Permissions do not allow testing tools.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}}}}
>
  
</StatusCodes>


      
---
id: test-lambda-tool-without-creation
title: "Test Lambda tool without creation"
description: "Test a Lambda tool without creating it first. This endpoint allows you to validate code, discover schemas, and test execution before committing to tool creation."
sidebar_label: "Test Lambda tool without creation"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Test Lambda tool without creation"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v2/tools/test"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Test a Lambda tool without creating it first. This endpoint allows you to validate code, discover schemas, and test execution before committing to tool creation.

Use this to:
- Validate Python code syntax and security constraints
- Discover input/output schemas from type annotations
- Test execution with sample input
- Verify schema compatibility

The function is executed in the same secure sandbox environment as production tools.


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false},{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"description":"Request to test a Lambda tool before creating it. This allows users to validate their code, schemas, and execution before committing to tool creation.\n\nUse this endpoint to:\n- Validate Python code syntax and security constraints\n- Discover input/output schemas from type annotations\n- Test execution with sample input\n- Verify schema compatibility\n","type":"object","properties":{"language":{"description":"The programming language. Currently only 'python' (Python 3.12) is supported.","type":"string","enum":["python"],"default":"python","example":"python"},"code":{"description":"The Python 3.12 code for the function. Must define a process() entry point.","type":"string","minLength":1,"maxLength":100000,"example":"def process(order_count: int, total_revenue: float) -> dict:\n    score = order_count * 10 + total_revenue * 0.1\n    return {'score': round(score, 2)}\n"},"execution_configuration":{"description":"Execution configuration for the function.","type":"object","properties":{"max_execution_time_seconds":{"description":"Maximum execution time in seconds.","type":"integer","minimum":1,"maximum":300,"default":30,"example":30},"max_memory_mb":{"description":"Maximum memory usage in megabytes.","type":"integer","minimum":10,"maximum":1024,"default":100,"example":100}},"title":"ExecutionConfiguration"},"test_input":{"description":"The input parameters to test the function with. Will be validated against the discovered input schema.","type":"object","additionalProperties":true,"example":{"order_count":10,"total_revenue":500}},"timeout_seconds":{"description":"Maximum execution time in seconds for this test. Overrides execution_configuration if specified.","type":"integer","minimum":1,"maximum":300,"example":10}},"required":["code","test_input"],"title":"TestLambdaToolRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Test validation and execution completed.","content":{"application/json":{"schema":{"description":"Response from testing a Lambda tool before creation. Contains comprehensive validation, schema discovery, and execution results to help users create tools successfully.\n","type":"object","properties":{"validation":{"description":"Results of code validation (static and sandbox).","type":"object","properties":{"status":{"description":"Overall validation status.","type":"string","enum":["valid","invalid","pending"],"example":"valid"},"errors":{"description":"List of validation errors if the code is invalid.","type":"array","items":{"type":"string"},"example":["Line 5: Use of forbidden module 'os'"]}},"required":["status"]},"input_schema":{"description":"The discovered input schema from type annotations. May be null if validation failed or no type hints provided.","type":"object","additionalProperties":true,"example":{"type":"object","properties":{"order_count":{"type":"integer"},"total_revenue":{"type":"number"}},"required":["order_count","total_revenue"]}},"output_schema":{"description":"The discovered output schema from type annotations. May be null if validation failed or no type hints provided.","type":"object","additionalProperties":true,"example":{"type":"object","properties":{"score":{"type":"number"}}}},"execution":{"description":"Results of executing the function with test input. Only present if validation passed.","type":"object","properties":{"success":{"description":"Whether the execution was successful.","type":"boolean","example":true},"output":{"description":"The output returned by the function.","type":"object","additionalProperties":true,"example":{"score":105}},"error":{"description":"Error information if execution failed.","type":"object","properties":{"message":{"description":"The error message.","type":"string"},"traceback":{"description":"Stack trace for debugging.","type":"string"}}},"latency_millis":{"description":"Time taken to execute the function in milliseconds.","type":"integer","example":125},"memory_used_mb":{"description":"Memory used during execution in megabytes.","type":"integer","example":32},"validation_results":{"description":"Results of input/output schema validation.","type":"object","properties":{"input_valid":{"description":"Whether the test input matched the discovered schema.","type":"boolean","example":true},"output_valid":{"description":"Whether the output matched the discovered schema.","type":"boolean","example":true},"validation_errors":{"description":"Details of any schema validation errors.","type":"array","items":{"type":"string"},"example":[]}}}},"required":["success"]}},"required":["validation"],"title":"TestLambdaToolResponse"}}}},"400":{"description":"Invalid request or malformed code.","content":{"application/json":{"schema":{"description":"Error returned when a request contains invalid parameters or violates schema validation.","type":"object","properties":{"field_errors":{"description":"The errors that relate to specific fields in the request.","type":"object","additionalProperties":{"type":"string"}},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"BadRequestError"}}}},"403":{"description":"Permissions do not allow testing tools.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}}}}
>
  
</StatusCodes>


      
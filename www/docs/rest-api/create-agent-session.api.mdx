---
id: create-agent-session
title: "Create agent session"
description: "Create a new session for interacting with an agent. Sessions maintain conversation context."
sidebar_label: "Create agent session"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create agent session"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v2/agents/{agent_key}/sessions"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Create a new session for interacting with an agent. Sessions maintain conversation context.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false},{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}},{"in":"path","name":"agent_key","description":"The unique key of the agent to create a session for.","required":true,"schema":{"description":"A unique key that identifies an agent.","type":"string","pattern":"[0-9a-zA-Z_-]+$","minLength":1,"maxLength":50,"example":"customer_support","title":"AgentKey"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"description":"Request object for creating a new agent session.","type":"object","properties":{"key":{"description":"A user provided key that uniquely identifies this session. If not provided, one will be auto-generated based on the session name.","type":"string","pattern":"[0-9a-zA-Z_-]+$","minLength":1,"maxLength":50,"example":"customer_support_chat","title":"AgentSessionKey"},"name":{"description":"Human-readable name for the session.","type":"string","example":"Customer Support Session"},"description":{"description":"Optional description of the session purpose or context.","type":"string","example":"Helping customer troubleshoot issues"},"metadata":{"description":"Arbitrary metadata associated with the session.","type":"object","additionalProperties":true,"default":{},"example":{"customer_id":"12345","priority":"medium","channel":"web_chat"}},"enabled":{"description":"Whether the session should be enabled upon creation.","type":"boolean","default":true,"example":true},"tti_minutes":{"description":"Time-to-idle in minutes for the session. If no events occur in the session for this duration, the session will be automatically deleted. If set to 0, the session will not expire.","type":"integer","format":"int64","minimum":0,"default":0,"example":60}},"title":"CreateAgentSessionRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"description":"The agent session has been created successfully.","content":{"application/json":{"schema":{"description":"A session for interacting with an agent, allowing conversation context.","type":"object","properties":{"key":{"description":"A unique key that identifies an agent session.","type":"string","pattern":"[0-9a-zA-Z_-]+$","minLength":1,"maxLength":50,"example":"customer_support_chat","title":"AgentSessionKey"},"agent_key":{"description":"A unique key that identifies an agent.","type":"string","pattern":"[0-9a-zA-Z_-]+$","minLength":1,"maxLength":50,"example":"customer_support","title":"AgentKey"},"name":{"description":"Human-readable name for the session.","type":"string","example":"Customer Support Session"},"description":{"description":"Optional description of the session purpose or context.","type":"string","example":"Helping customer troubleshoot widget installation issues"},"metadata":{"description":"Arbitrary metadata associated with the session.","type":"object","additionalProperties":true,"example":{"customer_id":"12345","priority":"high","channel":"web_chat"}},"enabled":{"description":"Whether the session is currently active and can accept new messages.","type":"boolean","default":true,"example":true},"tti_minutes":{"description":"Time-to-idle in minutes for the session. If no events occur in the session for this duration, the session will be automatically deleted. If not specified, the session will not expire.","type":"integer","format":"int64","minimum":0,"default":0,"example":60},"created_at":{"description":"Timestamp when the session was created.","type":"string","format":"date-time","example":"2024-01-15T10:30:00Z"}},"required":["id","name","agent_key","enabled","created_at"],"title":"AgentSession"}}}},"400":{"description":"Session creation request was malformed or references invalid agent.","content":{"application/json":{"schema":{"description":"Error returned when a request contains invalid parameters or violates schema validation.","type":"object","properties":{"field_errors":{"description":"The errors that relate to specific fields in the request.","type":"object","additionalProperties":{"type":"string"}},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"BadRequestError"}}}},"403":{"description":"Permissions do not allow creating sessions for this agent.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}},"404":{"description":"Referenced agent not found.","content":{"application/json":{"schema":{"description":"Error returned when a requested resource does not exist.","type":"object","properties":{"id":{"description":"The ID cannot be found.","type":"string"},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"NotFoundError"}}}}}}
>
  
</StatusCodes>


      
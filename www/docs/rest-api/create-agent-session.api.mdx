---
id: create-agent-session
title: "Create agent session"
description: "Create a new session for interacting with an agent. A session is the conversation container that maintains state across all messages, events, tool use, and agent responses."
sidebar_label: "Create agent session"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create agent session"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v2/agents/{agent_key}/sessions"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Create a new session for interacting with an agent. A session is the conversation container that maintains state across all messages, events, tool use, and agent responses.

This endpoint initializes the session and enables you to configure its initial properties, including optional metadata. Metadata can influence agent behavior, personalize responses, or apply access controls. Instructions and tools can also reference metadata using `${\session.metadata.field}` or `$\ref` syntax.

A session also serves as the workspace for artifacts, enabling file uploads and multi-step workflows. For more information, see [Working with artifacts in sessions](https://docs.vectara.com/docs/agent-os/sessions#working-with-artifacts-in-sessions).

## Example request

```json
\$ curl -X POST https://api.vectara.io/v2/agents/support-agent/sessions \
-H "Authorization: Bearer YOUR_API_KEY" \
-H "Content-Type: application/json" \
-d '{
  "key": "user_12345_session",
  "name": "Customer Support Session",
  "metadata": {
    "user_role": "premium",
    "language": "en"
  }
}'
```
A successful response includes the unique session key, configuration metadata, and timestamps for creation and last update.


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false},{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}},{"in":"path","name":"agent_key","description":"The unique key of the agent to create a session for.","required":true,"schema":{"description":"A unique key that identifies an agent.","type":"string","pattern":"[0-9a-zA-Z_-]+$","minLength":1,"maxLength":50,"example":"customer_support","title":"AgentKey"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"description":"Request object for creating a new agent session.","type":"object","properties":{"key":{"description":"A user provided key that uniquely identifies this session. If not provided, one will be auto-generated based on the session name.","type":"string","pattern":"[0-9a-zA-Z_-]+$","minLength":1,"maxLength":50,"example":"customer_support_chat","title":"AgentSessionKey"},"name":{"description":"Human-readable name for the session.","type":"string","example":"Customer Support Session"},"description":{"description":"Optional description of the session purpose or context.","type":"string","example":"Helping customer troubleshoot issues"},"metadata":{"description":"Arbitrary metadata associated with the session.","type":"object","additionalProperties":true,"default":{},"example":{"customer_id":"12345","priority":"medium","channel":"web_chat"}},"enabled":{"description":"Whether the session should be enabled upon creation.","type":"boolean","default":true,"example":true},"tti_minutes":{"description":"Time-to-idle in minutes for the session. If no events occur in the session for this duration, the session will be automatically deleted. If set to 0, the session will not expire.","type":"integer","format":"int64","minimum":0,"default":0,"example":60}},"title":"CreateAgentSessionRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"description":"The response includes the complete session configuration including the unique session key, associated agent key, and creation timestamp.","content":{"application/json":{"schema":{"description":"A session for interacting with an agent, allowing conversation context.","type":"object","properties":{"key":{"description":"A unique key that identifies an agent session.","type":"string","pattern":"[0-9a-zA-Z_-]+$","minLength":1,"maxLength":50,"example":"customer_support_chat","title":"AgentSessionKey"},"agent_key":{"description":"A unique key that identifies an agent.","type":"string","pattern":"[0-9a-zA-Z_-]+$","minLength":1,"maxLength":50,"example":"customer_support","title":"AgentKey"},"name":{"description":"Human-readable name for the session.","type":"string","example":"Customer Support Session"},"description":{"description":"Optional description of the session purpose or context.","type":"string","example":"Helping customer troubleshoot widget installation issues"},"metadata":{"description":"Arbitrary metadata associated with the session.","type":"object","additionalProperties":true,"example":{"customer_id":"12345","priority":"high","channel":"web_chat"}},"enabled":{"description":"Whether the session is currently active and can accept new messages.","type":"boolean","default":true,"example":true},"tti_minutes":{"description":"Time-to-idle in minutes for the session. If no events occur in the session for this duration, the session will be automatically deleted. If not specified, the session will not expire.","type":"integer","format":"int64","minimum":0,"default":0,"example":60},"created_at":{"description":"Timestamp when the session was created.","type":"string","format":"date-time","example":"2024-01-15T10:30:00Z"}},"required":["id","name","agent_key","enabled","created_at"],"title":"AgentSession"}}}},"400":{"description":"Session creation request was malformed or references invalid agent.","content":{"application/json":{"schema":{"description":"Error returned when a request contains invalid parameters or violates schema validation.","type":"object","properties":{"field_errors":{"description":"The errors that relate to specific fields in the request.","type":"object","additionalProperties":{"type":"string"}},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"BadRequestError"}}}},"403":{"description":"Permissions do not allow creating sessions for this agent.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}},"404":{"description":"Referenced agent not found.","content":{"application/json":{"schema":{"description":"Error returned when a requested resource does not exist.","type":"object","properties":{"id":{"description":"The ID cannot be found.","type":"string"},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"NotFoundError"}}}}}}
>
  
</StatusCodes>


      
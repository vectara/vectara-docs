---
id: update-corpus-document
title: "Update document, merging the metadata."
description: "Updates document identified by its unique `document_id` from a specific corpus. The request body metadata is merged with the existing metadata, adding or modifying only the specified fields."
sidebar_label: "Update document, merging the metadata."
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "patch api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Update document, merging the metadata."}
>
</Heading>

<MethodEndpoint
  method={"patch"}
  path={"/v2/corpora/{corpus_key}/documents/{document_id}"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Updates document identified by its unique `document_id` from a specific corpus. The request body metadata is merged with the existing metadata, adding or modifying only the specified fields.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false},{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}},{"in":"path","name":"corpus_key","description":"The unique key identifying the corpus with the document to update.","required":true,"schema":{"description":"A user-provided key for a corpus.","type":"string","example":"my-corpus","pattern":"[a-zA-Z0-9_\\=\\-]+$","maxLength":50,"title":"CorpusKey"}},{"in":"path","name":"document_id","description":"The document ID of the document to update. This `document_id` must be percent encoded.","required":true,"schema":{"type":"string"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Schema for updating the document. For PUT requests, the request body metadata replaces the existing metadata. For PATCH requests, the request body metadata is merged with the existing metadata, adding or modifying only the specified fields.","type":"object","properties":{"metadata":{"description":"The metadata for a document as an arbitrary object. Properties of this object can be used by document level filter attributes.","type":"object","additionalProperties":true,"example":{"title":"2024 ESG Annual Report â€“ EuroBank","region":"EU","industry":"banking","year":2024}}},"title":"UpdateDocumentRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successfully updated the document.","content":{"application/json":{"schema":{"description":"A document stored in a corpus, containing metadata and indexed content.","type":"object","properties":{"id":{"description":"The document ID.","type":"string","example":"Invoice-403"},"metadata":{"description":"The document metadata.","type":"object","additionalProperties":true,"example":{"priority":"High"}},"tables":{"description":"The tables that this document contains. Tables are not available when table extraction is not enabled.","type":"array","items":{"description":"A table in a document.","type":"object","properties":{"id":{"description":"The unique ID of the table within the document.","type":"string","example":"billing_table_111"},"title":{"description":"The title of the table.","type":"string","example":"Carbon Reduction Metrics"},"data":{"description":"The data of the table.","type":"object","properties":{"headers":{"description":"The headers of the table.","type":"array","items":{"description":"The header of a table.","type":"array","items":{"description":"A cell in a table.","type":"object","properties":{"text_value":{"description":"A text value.","type":"string","example":"Bank A"},"int_value":{"description":"A signed 64-bit integer value.","type":"integer","format":"int64"},"float_value":{"description":"A floating-point value with double precision.","type":"number","format":"double"},"bool_value":{"description":"A boolean value.","type":"boolean"},"colspan":{"description":"The number of columns the cell spans. This field is optional; if not specified, default is 1. Must be greater than 0.","type":"integer","format":"int32","example":1},"rowspan":{"description":"The number of rows the cell spans. This field is optional; if not specified, default is 1. Must be greater than 0.","type":"integer","format":"int32","example":1}},"title":"Cell"},"title":"Header"}},"rows":{"description":"The rows in the data.","type":"array","items":{"description":"A row in a table.","type":"array","items":{"description":"A cell in a table.","type":"object","properties":{"text_value":{"description":"A text value.","type":"string","example":"Bank A"},"int_value":{"description":"A signed 64-bit integer value.","type":"integer","format":"int64"},"float_value":{"description":"A floating-point value with double precision.","type":"number","format":"double"},"bool_value":{"description":"A boolean value.","type":"boolean"},"colspan":{"description":"The number of columns the cell spans. This field is optional; if not specified, default is 1. Must be greater than 0.","type":"integer","format":"int32","example":1},"rowspan":{"description":"The number of rows the cell spans. This field is optional; if not specified, default is 1. Must be greater than 0.","type":"integer","format":"int32","example":1}},"title":"Cell"},"title":"Row"}}},"title":"Data"},"description":{"description":"The description of the table.","type":"string","example":"Summary of carbon reduction efforts by EU banks in 2023."}},"title":"Table"}},"parts":{"description":"Parts of the document that make up the document. However, parts are not available when retrieving a list of documents or when creating a document. This property is only available when retrieving a document by ID.","type":"array","items":{"description":"A part of a document. This section gets converted into an embedding and directly maps to a search result. Usually a sentence.","type":"object","properties":{"text":{"description":"The text of the document part.","type":"string","example":"This invoice includes customer billing history for Q1."},"metadata":{"description":"The metadata for a document part. These may be used in metadata filters at query time if filter attributes are configured on the corpus.","type":"object","additionalProperties":true,"example":{"part.rank":9000}},"context":{"description":"The context text for the document part.","type":"string","example":"Description of line items in the document part to provide additional context."},"custom_dimensions":{"description":"The custom dimensions as additional weights.","type":"object","additionalProperties":{"type":"number","format":"double","nullable":false},"title":"CustomDimensions"}},"required":["text"],"title":"DocumentPart"}},"storage_usage":{"example":{"bytes_used":1024,"metadata_bytes_used":256},"type":"object","description":"How much storage the document used. This information is currently not returned when retrieving the document, and only returned when indexing a document.","properties":{"bytes_used":{"description":"Number of bytes used by document counting towards maximum corpus size, and towards any billing plans.","type":"integer","format":"int64","minimum":0},"metadata_bytes_used":{"description":"Number of metadata bytes used by a document.","type":"integer","format":"int64","minimum":0}},"title":"DocumentStorageUsage"},"extraction_usage":{"example":{"table_extraction_used":2},"type":"object","description":"How much extraction quota the document used. This information is currently not returned when retrieving the document, and only returned when indexing a document.","properties":{"table_extraction_used":{"description":"The number of pages from the document that consumed the extraction quota.","type":"integer","format":"int64","minimum":0}},"title":"ExtractionUsage"}},"example":{"id":"manufacturing_invoice-2331","metadata":{"doc_type":"invoice","industry":"manufacturing"},"tables":[{"id":"billing_table_1","title":"Customer Billing Info","description":"Monthly billing for top manufacturing clients","data":{"headers":[[{"text_value":"Customer Name"},{"text_value":"Balance"},{"text_value":"Account Created"}]],"rows":[[{"text_value":"Acme Corp"},{"float_value":10230.25},{"text_value":"2023-01-15"}],[{"text_value":"Beta Industries"},{"float_value":8750},{"text_value":"2022-11-03"}],[{"text_value":"Zeta Manufacturing"},{"float_value":13499.99},{"text_value":"2023-06-30"}]]}}],"parts":[{"text":"This invoice includes customer billing history for Q1.","metadata":{"part.rank":9000}}],"storage_usage":{"bytes_used":1024,"metadata_bytes_used":256},"extraction_usage":{"table_extraction_used":3}},"title":"Document"}}}},"403":{"description":"Permissions do not allow updating a document in the corpus.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}},"404":{"description":"Corpus or document not found.","content":{"application/json":{"schema":{"description":"Error returned when a requested resource does not exist.","type":"object","properties":{"id":{"description":"The ID cannot be found.","type":"string"},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"NotFoundError"}}}},"429":{"description":"Too many concurrent requests. Please retry.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}}}}
>
  
</StatusCodes>


      
---
id: create-agent
title: "Create agent"
description: "Create a new agent. An agent is compromised as 3 main things of functionality:"
sidebar_label: "Create agent"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create agent"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v2/agents"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Create a new agent. An agent is compromised as 3 main things of functionality:
  1. The instructions an agent follows. Known as a system in prompt in other platforms.
  2. The steps an agent follows when receiving an input.
  3. The tools an agent can use to resolve those steps and instructions.
Instructions are tied to each step, and should be well crafted so that the agent can perform the desired actions when given an input.

To use an agent, create a new session (called thread or chat in other platforms), and send new inputs to the agent to get responses.

Note: Only a single step is supported with no follow up steps. So the `first_step` will be only the only step. We will add multiple steps and step types to execute complex workflows, but many agents can work well with a single step.


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false},{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"description":"Request object for creating a new agent.","type":"object","properties":{"key":{"description":"A user provided key that uniquely identifies this agent. If not provided, one will be auto-generated based on the agent name.","type":"string","pattern":"[0-9a-zA-Z_-]+$","minLength":1,"maxLength":50,"example":"customer_support","title":"AgentKey"},"name":{"description":"The human-readable name of an agent.","type":"string","minLength":1,"maxLength":50,"example":"Customer Support Agent","title":"AgentName"},"description":{"description":"A detailed description of the agent's purpose and capabilities.","type":"string","example":"An AI agent specialized in handling customer support inquiries using company documentation and support tools."},"tool_configurations":{"description":"A map of tool configurations available to the agent. The key is the name of the tool configuration and the value is the AgentToolConfiguration.","type":"object","additionalProperties":{"nullable":true,"title":"AgentToolConfiguration","description":"A tool configuration that can be used by an agent, defined inline with a specific configuration type.","discriminator":{"propertyName":"type","mapping":{"mcp":{"title":"InlineMcpToolConfiguration","description":"An MCP tool configuration defined inline in the agent.","type":"object","properties":{"type":{"type":"string","description":"The type of tool configuration, which is always 'mcp' for inline MCP tool configurations.","default":"mcp"},"tool_id":{"description":"Unique identifier for a tool.","type":"string","pattern":"^tol_.*","example":"tol_123e4567-e89b-12d3-a456-426614174000","title":"ToolId"},"argument_override":{"description":"Optional hardcoded arguments for tool calls. The key specifies the location in the tool arguments to overide, and the value specifies what to override with. The LLM will not be able to change the parameters, nor know those values exist within the tool.\n\nThe values can also be dynamic references to context values using $ref with dot notation path syntax:\n- Static value: \"fixed_value\" or 123\n- Dynamic reference: `{\"$ref\": \"session.metadata.field_name\"}`\n\nReferences are resolved at runtime from context:\n- session.metadata.* - Access session metadata fields\n- agent.metadata.* - Access agent metadata fields\n\nExample:\n  `{\"query\": {\"$ref\": \".session.metadata.query\"}}`\n\nIf you want to have a real value `\"$ref\"` use `\"$$ref\"`, that is you can escape the first $ by using $$.","type":"object","additionalProperties":true,"example":{"custom_param":"value","limit":10}}},"required":["tool_id","type"],"x-vectaraParents":["AgentToolConfiguration"]},"corpora_search":{"title":"InlineCorporaSearchToolConfiguration","description":"A corpora search tool configuration defined inline in the agent.","type":"object","properties":{"type":{"type":"string","description":"The type of tool configuration, which is always 'corpora_search' for inline corpora search tool configurations.","default":"corpora_search"},"argument_override":{"description":"Optional hardcoded arguments for the corpus search call such as the query. When specified, these values will be used instead of allowing the LLM to fill in those parameters.","type":"object","properties":{"query":{"description":"The search query string, which is the question the user is asking. If not provided, will be filled in by the LLM.","type":"string","maxLength":5000,"example":"Am I allowed to bring pets to work?"}},"additionalProperties":false,"title":"CorporaSearchToolParameters"},"query_configuration":{"description":"User-configurable settings for the corpus search that are not exposed to the LLM.","type":"object","properties":{"search":{"description":"The parameters to search one or more corpora.","allOf":[{"type":"object","properties":{"corpora":{"description":"The corpora that you want to search.","type":"array","items":{"description":"A corpus with its identifying key for use in search operations within a customer account.","allOf":[{"description":"Configuration for search parameters specific to a single corpus within a customer account, including filters and semantics.","type":"object","properties":{"custom_dimensions":{"description":"The custom dimensions as additional weights.","type":"object","additionalProperties":{"type":"number","format":"double","nullable":false},"title":"CustomDimensions"},"metadata_filter":{"description":"The filter string used to narrow the search based on metadata attributes. The query against this corpus will be confined to document parts that match the `metadata_filter`. Only metadata fields set as `filter_attributes` on the corpus can be filtered. Filter syntax is similar to a SQL WHERE clause. See [metadata filters documentation](https://docs.vectara.com/docs/learn/metadata-search-filtering/filter-overview) for more information.","type":"string","maxLength":8000,"example":"doc.title = 'Annual Report'"},"lexical_interpolation":{"description":"How much to weigh lexical scores compared to the embedding score. 0 means lexical search is not used at all, and 1 means only lexical search is used.","type":"number","format":"float","minimum":0,"maximum":1,"example":0.005},"semantics":{"description":"Indicates whether to consider a query against this corpus as a query or a response.","type":"string","enum":["default","query","response"],"default":"default","title":"SearchSemantics"}},"title":"SearchCorpus"},{"type":"object","properties":{"corpus_key":{"description":"A user-provided key for a corpus.","type":"string","example":"my-corpus","pattern":"[a-zA-Z0-9_\\=\\-]+$","maxLength":50,"title":"CorpusKey"},"query":{"description":"Query for a particular corpus that will override the overall query if present.","type":"string","maxLength":5000,"example":"What are some important facts in my-corpus?"}}}],"required":["corpus_key"],"title":"KeyedSearchCorpus"},"minItems":1}}},{"type":"object","description":"Search parameters to retrieve knowledge for the query.","properties":{"offset":{"description":"Specifies how many results into the result to skip. This is useful for pagination.","type":"integer","format":"int32","default":0,"minimum":0},"limit":{"description":"The maximum number of results returned.","type":"integer","format":"int32","minimum":1,"default":10},"context_configuration":{"type":"object","description":"Configuration on the presentation of each document part in the result set. You can only use characters_before/after or sentences_before/after, but not both. If you specify both in the query, sentences_before/after takes precedence","properties":{"characters_before":{"description":"The number of characters that are shown before the matching document part. This is useful to show the context of the document part in the wider document. Ignored if `sentences_before` is set. Vectara will capture the full sentence that contains the captured characters, to not lose the meaning caused by a truncated word or sentence.","type":"integer","format":"int32"},"characters_after":{"description":"The number of characters that are shown after the matching document part. This is useful to show the context of the document part in the wider document. Ignored if `sentences_after` is set. Vectara will capture the full sentence that contains the captured characters, to not lose the meaning caused by a truncated word or sentence.","type":"integer","format":"int32"},"sentences_before":{"description":"The number of sentences that are shown before the matching document part. This is useful to show the context of the document part in the wider document.","type":"integer","format":"int32","default":0,"minimum":0,"example":2},"sentences_after":{"description":"The number of sentences that are shown after the matching document part. This is useful to show the context of the document part in the wider document.","type":"integer","format":"int32","default":0,"minimum":0,"example":2},"start_tag":{"description":"The tag that wraps the document part at the start. This is often used to provide a start HTML/XML tag or some other delimiter you can use in an application to understand where to provide highlighting in your UI and understand where the context before ends and the document part begins.","type":"string","example":"<em>"},"end_tag":{"description":"The tag that wraps the document part at the end. This is often used to provide a start HTML/XML tag or some other delimiter you can use in an application to understand where to provide highlighting in your UI and understand where the document part ends and the context after begins.","type":"string","example":"</em>"}},"example":{"sentences_before":2,"sentences_after":2,"start_tag":"<em>","end_tag":"</em>"},"title":"ContextConfiguration"},"reranker":{"type":"object","description":"Rerank results of the search. Rerankers are very powerful tools to improve the order of search results. By default the search will use the most powerful reranker available to the customer's plan. To disable reranking, set the reranker `type` to `\"none\"`.","discriminator":{"propertyName":"type","mapping":{"customer_reranker":{"description":"Reranker that is specific to the customer.","type":"object","properties":{"type":{"description":"When the type is `customer_reranker`, you can specify the `reranker_name` of a reranker. `reranker_id` is deprecated. The retrieval engine will then rerank results using that reranker.","type":"string","default":"customer_reranker"},"reranker_id":{"description":"The ID of the reranker. The multilingual reranker that may be specified is rnk_272725719. Do not specify the MMR reranker ID here, and instead, use the MMR reranker object type. **Deprecated**: Use `reranker_name` instead.","type":"string","pattern":"rnk_(?!272725718)\\d+","example":"rnk_272725719","deprecated":true},"reranker_name":{"description":"The name of the reranker. Do not specify the MMR reranker name here. Instead, use the MMR reranker object type.","type":"string","example":"Rerank_Multilingual_v1"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. When a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process. When a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm. 2. Applies the cutoff, removing any results with scores below the specified threshold. 3. Returns the remaining results, sorted by their new scores.\nNote: This cutoff is applied per reranking stage. In a chain of rerankers, each reranker can have its own cutoff, potentially further reducing the number of results at each stage. If both 'limit' and 'cutoff' are specified, the cutoff is applied first, followed by the limit.","format":"float"},"include_context":{"type":"boolean","default":true,"description":"If true, the reranker will use text with context (see \"context_configuration\") for scoring."}},"x-vectaraParents":["SearchReranker"],"title":"CustomerSpecificReranker"},"userfn":{"description":"A reranker that uses user-defined functions to reorder search results.","type":"object","properties":{"type":{"description":"When the type is `userfn`, you can define custom reranking functions using document-level metadata, part-level metadata, or scores generated from the request-level metadata.","type":"string","default":"userfn"},"user_function":{"description":"The user defined function.","type":"string","example":"get('$.score') * get('$.document_metadata.boost')"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. \nWhen a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process. When a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm. 2. Applies the cutoff, removing any results with scores below the specified threshold. 3. Returns the remaining results, sorted by their new scores.\nNote: This cutoff is applied per reranking stage. In a chain of rerankers, each reranker can have its own cutoff, potentially further reducing the number of results at each stage. If both 'limit' and 'cutoff' are specified, the cutoff is applied first, followed by the limit.","format":"float"}},"x-vectaraParents":["SearchReranker"],"title":"UserFunctionReranker"},"mmr":{"description":"A reranker that uses Maximal Marginal Relevance to balance relevance and diversity in search results.","type":"object","properties":{"type":{"description":"When the type is `mmr`, you can specify the `diversity_bias`, and the retrieval engine will use the MMR reranker.","type":"string","default":"mmr"},"diversity_bias":{"description":"The diversity bias. Higher values indicate more diversity.","type":"number","format":"float","example":0.3},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. \nWhen a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process. When a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm. 2. Applies the cutoff, removing any results with scores below the specified threshold. 3. Returns the remaining results, sorted by their new scores.\nNote: This cutoff is applied per reranking stage. In a chain of rerankers, each reranker can have its own cutoff, potentially further reducing the number of results at each stage. If both 'limit' and 'cutoff' are specified, the cutoff is applied first, followed by the limit.","format":"float"}},"x-vectaraParents":["SearchReranker"],"title":"MMRReranker"},"chain":{"description":"A reranker that applies multiple rerankers in sequence to produce the final search results.","type":"object","properties":{"type":{"description":"When the type is `chain`, you can then chain re-rankers together.","type":"string","default":"chain"},"rerankers":{"type":"array","description":"Specify an array of rerankers to apply to search results consecutively.","items":"circular(SearchReranker)","maxItems":50}},"required":["rerankers"],"x-vectaraParents":["SearchReranker"],"title":"ChainReranker"},"none":{"description":"A placeholder reranker that does not modify the original search results ordering.","type":"object","properties":{"type":{"description":"When the type is `none`, no reranking will be done.","type":"string","default":"none"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. When a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1}},"x-vectaraParents":["SearchReranker"],"title":"NoneReranker"}}},"oneOf":[{"description":"Reranker that is specific to the customer.","type":"object","properties":{"type":{"description":"When the type is `customer_reranker`, you can specify the `reranker_name` of a reranker. `reranker_id` is deprecated. The retrieval engine will then rerank results using that reranker.","type":"string","default":"customer_reranker"},"reranker_id":{"description":"The ID of the reranker. The multilingual reranker that may be specified is rnk_272725719. Do not specify the MMR reranker ID here, and instead, use the MMR reranker object type. **Deprecated**: Use `reranker_name` instead.","type":"string","pattern":"rnk_(?!272725718)\\d+","example":"rnk_272725719","deprecated":true},"reranker_name":{"description":"The name of the reranker. Do not specify the MMR reranker name here. Instead, use the MMR reranker object type.","type":"string","example":"Rerank_Multilingual_v1"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. When a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process. When a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm. 2. Applies the cutoff, removing any results with scores below the specified threshold. 3. Returns the remaining results, sorted by their new scores.\nNote: This cutoff is applied per reranking stage. In a chain of rerankers, each reranker can have its own cutoff, potentially further reducing the number of results at each stage. If both 'limit' and 'cutoff' are specified, the cutoff is applied first, followed by the limit.","format":"float"},"include_context":{"type":"boolean","default":true,"description":"If true, the reranker will use text with context (see \"context_configuration\") for scoring."}},"x-vectaraParents":["SearchReranker"],"title":"CustomerSpecificReranker"},{"description":"A reranker that uses user-defined functions to reorder search results.","type":"object","properties":{"type":{"description":"When the type is `userfn`, you can define custom reranking functions using document-level metadata, part-level metadata, or scores generated from the request-level metadata.","type":"string","default":"userfn"},"user_function":{"description":"The user defined function.","type":"string","example":"get('$.score') * get('$.document_metadata.boost')"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. \nWhen a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process. When a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm. 2. Applies the cutoff, removing any results with scores below the specified threshold. 3. Returns the remaining results, sorted by their new scores.\nNote: This cutoff is applied per reranking stage. In a chain of rerankers, each reranker can have its own cutoff, potentially further reducing the number of results at each stage. If both 'limit' and 'cutoff' are specified, the cutoff is applied first, followed by the limit.","format":"float"}},"x-vectaraParents":["SearchReranker"],"title":"UserFunctionReranker"},{"description":"A reranker that uses Maximal Marginal Relevance to balance relevance and diversity in search results.","type":"object","properties":{"type":{"description":"When the type is `mmr`, you can specify the `diversity_bias`, and the retrieval engine will use the MMR reranker.","type":"string","default":"mmr"},"diversity_bias":{"description":"The diversity bias. Higher values indicate more diversity.","type":"number","format":"float","example":0.3},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. \nWhen a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process. When a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm. 2. Applies the cutoff, removing any results with scores below the specified threshold. 3. Returns the remaining results, sorted by their new scores.\nNote: This cutoff is applied per reranking stage. In a chain of rerankers, each reranker can have its own cutoff, potentially further reducing the number of results at each stage. If both 'limit' and 'cutoff' are specified, the cutoff is applied first, followed by the limit.","format":"float"}},"x-vectaraParents":["SearchReranker"],"title":"MMRReranker"},{"description":"A reranker that applies multiple rerankers in sequence to produce the final search results.","type":"object","properties":{"type":{"description":"When the type is `chain`, you can then chain re-rankers together.","type":"string","default":"chain"},"rerankers":{"type":"array","description":"Specify an array of rerankers to apply to search results consecutively.","items":"circular(SearchReranker)","maxItems":50}},"required":["rerankers"],"x-vectaraParents":["SearchReranker"],"title":"ChainReranker"},{"description":"A placeholder reranker that does not modify the original search results ordering.","type":"object","properties":{"type":{"description":"When the type is `none`, no reranking will be done.","type":"string","default":"none"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. When a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1}},"x-vectaraParents":["SearchReranker"],"title":"NoneReranker"}],"title":"SearchReranker"}},"example":{"limit":50},"title":"SearchParameters"}],"required":["corpora"],"title":"SearchCorporaParameters"},"generation":{"description":"The parameters to control generation.","type":"object","properties":{"enabled":{"description":"Whether generation is enabled for this query. This field is ignored if using chat.","type":"boolean","default":true},"generation_preset_name":{"description":"The preset values to use to feed the query results and other context to the model.  \n\nA `generation_preset` is an object with a bundle of properties that specifies: \n* The `prompt_template` that is rendered and then sent to the LLM. \n* The LLM used. * `model_parameter`s such as temperature.\n\nAll of these properties except the model can be overridden by setting them in this object. Even when a `prompt_template` is set, the `generation_preset_name` is used to set the model used. See `model_parameters.model` if you want to set the model explicitly.\n\nIf `generation_preset_name` is not set, the Vectara platform will use the default model and prompt.'\n","type":"string","minLength":1,"example":"mockingbird-2.0"},"prompt_name":{"description":"Use `generation_preset_name` instead of `prompt_name`.","type":"string","minLength":1,"example":"mockingbird-2.0","deprecated":true},"max_used_search_results":{"description":"The maximum number of search results to be available to the prompt.","type":"integer","format":"int32","minimum":0,"default":5},"prompt_template":{"description":"Vectara manages both system and user roles and prompts for the generative LLM out of the box by default. However, users can override the `prompt_template` via this variable. The `prompt_template` is in the form of an Apache Velocity template. For more details on how to configure the `prompt_template`, see the [long-form documentation](https://docs.vectara.com/docs/prompts/vectara-prompt-engine).","type":"string","example":"[\n  {\"role\": \"system\", \"content\": \"You are a helpful search assistant.\"},\n  #foreach ($qResult in $vectaraQueryResults)\n     {\"role\": \"user\", \"content\": \"Given the $vectaraIdxWord[$foreach.index] search result.\"},\n     {\"role\": \"assistant\", \"content\": \"${qResult.getText()}\" },\n  #end\n  {\"role\": \"user\", \"content\": \"Generate a summary for the query '${vectaraQuery}' based on the above results.\"}\n]\n"},"prompt_text":{"description":"This property is deprecated in favor of clearer naming. Use `prompt_template`. This property will be ignored if `prompt_template` is set.","type":"string","example":"[\n  {\"role\": \"system\", \"content\": \"You are a helpful search assistant.\"},\n  #foreach ($qResult in $vectaraQueryResults)\n     {\"role\": \"user\", \"content\": \"Given the $vectaraIdxWord[$foreach.index] search result.\"},\n     {\"role\": \"assistant\", \"content\": \"${qResult.getText()}\" },\n  #end\n  {\"role\": \"user\", \"content\": \"Generate a summary for the query '${vectaraQuery}' based on the above results.\"}\n]\n","deprecated":true},"max_response_characters":{"description":"Controls the length of the generated output. This is a rough estimate and not a hard limit: the end output can be longer or shorter than this value. This is generally implemented by including the `max_response_characters` in the prompt, and the LLM's instruction following capability dictates how closely the generated output is limited.","type":"integer","format":"int32","example":300,"minimum":0},"response_language":{"description":"Languages that the Vectara platform supports.","type":"string","enum":["auto","eng","deu","fra","zho","kor","ara","rus","tha","nld","ita","por","spa","jpn","pol","tur","vie","ind","ces","ukr","ell","heb","fas","hin","urd","swe","ben","msa","ron"],"default":"auto","title":"Language"},"model_parameters":{"title":"ModelParameters","description":"The parameters for the model. WARNING: This is an experimental feature, and breakable at any point with virtually no notice. It is meant for experimentation to converge on optimal parameters that can then be set in the prompt definitions.","type":"object","properties":{"llm_name":{"description":"The model (e.g., `gpt-4`) to use for summarization. If specified, it will override the model behind `generation_preset_name`.","type":"string","example":"gpt4"},"max_tokens":{"description":"The maximum number of tokens to be returned by the model.","type":"integer","format":"int32","minimum":1},"temperature":{"description":"The sampling temperature to use. Higher values make the output more random, while lower values make it more focused and deterministic.","type":"number","format":"float"},"frequency_penalty":{"description":"Higher values penalize new tokens based on their existing frequency in the text so far, decreasing the model's likelihood to repeat the same line verbatim.","type":"number","format":"float"},"presence_penalty":{"description":"Higher values penalize new tokens based on whether they appear in the text so far, increasing the model's likelihood to talk about new topics.","type":"number","format":"float"}}},"citations":{"description":"Style the generator should use when making citations.","type":"object","properties":{"style":{"description":"The citation style to be used in summary. Can be one of: * `numeric` - Citations formatted as simple numerals: \\[1\\], \\[2\\] ... * `none` - Citations removed from text. * `html` - Citation formatted as a URL like `<a href=\"url_pattern\">text_pattern</a>`. * `markdown` - Formatted as `[text_pattern](url_pattern)`.","type":"string","enum":["none","numeric","html","markdown"]},"url_pattern":{"description":"The URL pattern if the citation_style is set to `html` or `markdown`. The pattern can access metadata attributes in the document or part. e.g. `https://my.doc/foo/{doc.id}/{part.id}` The default `url_pattern` is an empty string.","type":"string","example":"https://vectara.com/documents/{doc.id}"},"text_pattern":{"description":"The text pattern if the citation_style is set to `html` or `markdown`. This pattern sets the href for HTML or the text within `[]` in markdown, and defaults to N being the index of result if it is not set. The default citation style looks like `[N](<url_pattern>)` for markdown. You can use metadata attributes in the `text_pattern`. For example, the pattern `{doc.title}` with citation style `markdown` would result in final citation output like `[Title](<url_pattern>)` when the document's metadata includes `{\"title\":\"Title\"}`.","type":"string","example":"{doc.title}"}},"title":"CitationParameters"},"enable_factual_consistency_score":{"description":"Enable returning the factual consistency score with query results.","type":"boolean","default":true}},"title":"GenerationParameters"},"save_history":{"description":"Indicates whether to save the query to query history.","type":"boolean"}},"required":["search"],"title":"CorporaSearchQueryConfiguration"}},"required":["type","query_configuration"],"x-vectaraParents":["AgentToolConfiguration"]},"web_search":{"title":"InlineWebSearchToolConfiguration","description":"A web search tool configuration defined inline in the agent.","type":"object","properties":{"type":{"type":"string","description":"The type of tool configuration, which is always 'web_search' for inline web search tool configurations.","default":"web_search"},"argument_override":{"description":"Optional hardcoded arguments for the web search tool call such as limit etc. When specified, these values will be used instead of allowing the LLM to fill in those parameters.","type":"object","properties":{"query":{"description":"The search query to execute.","type":"string","example":"latest AI developments 2024"},"limit":{"description":"Maximum number of results to return.","type":"integer","minimum":1,"example":10},"provider":{"description":"Search provider to use.","type":"string","enum":["tavily"],"example":"tavily"}},"additionalProperties":false,"title":"WebSearchToolParameters"}},"required":["type"],"x-vectaraParents":["AgentToolConfiguration"]}}},"oneOf":[{"title":"InlineMcpToolConfiguration","description":"An MCP tool configuration defined inline in the agent.","type":"object","properties":{"type":{"type":"string","description":"The type of tool configuration, which is always 'mcp' for inline MCP tool configurations.","default":"mcp"},"tool_id":{"description":"Unique identifier for a tool.","type":"string","pattern":"^tol_.*","example":"tol_123e4567-e89b-12d3-a456-426614174000","title":"ToolId"},"argument_override":{"description":"Optional hardcoded arguments for tool calls. The key specifies the location in the tool arguments to overide, and the value specifies what to override with. The LLM will not be able to change the parameters, nor know those values exist within the tool.\n\nThe values can also be dynamic references to context values using $ref with dot notation path syntax:\n- Static value: \"fixed_value\" or 123\n- Dynamic reference: `{\"$ref\": \"session.metadata.field_name\"}`\n\nReferences are resolved at runtime from context:\n- session.metadata.* - Access session metadata fields\n- agent.metadata.* - Access agent metadata fields\n\nExample:\n  `{\"query\": {\"$ref\": \".session.metadata.query\"}}`\n\nIf you want to have a real value `\"$ref\"` use `\"$$ref\"`, that is you can escape the first $ by using $$.","type":"object","additionalProperties":true,"example":{"custom_param":"value","limit":10}}},"required":["tool_id","type"],"x-vectaraParents":["AgentToolConfiguration"]},{"title":"InlineCorporaSearchToolConfiguration","description":"A corpora search tool configuration defined inline in the agent.","type":"object","properties":{"type":{"type":"string","description":"The type of tool configuration, which is always 'corpora_search' for inline corpora search tool configurations.","default":"corpora_search"},"argument_override":{"description":"Optional hardcoded arguments for the corpus search call such as the query. When specified, these values will be used instead of allowing the LLM to fill in those parameters.","type":"object","properties":{"query":{"description":"The search query string, which is the question the user is asking. If not provided, will be filled in by the LLM.","type":"string","maxLength":5000,"example":"Am I allowed to bring pets to work?"}},"additionalProperties":false,"title":"CorporaSearchToolParameters"},"query_configuration":{"description":"User-configurable settings for the corpus search that are not exposed to the LLM.","type":"object","properties":{"search":{"description":"The parameters to search one or more corpora.","allOf":[{"type":"object","properties":{"corpora":{"description":"The corpora that you want to search.","type":"array","items":{"description":"A corpus with its identifying key for use in search operations within a customer account.","allOf":[{"description":"Configuration for search parameters specific to a single corpus within a customer account, including filters and semantics.","type":"object","properties":{"custom_dimensions":{"description":"The custom dimensions as additional weights.","type":"object","additionalProperties":{"type":"number","format":"double","nullable":false},"title":"CustomDimensions"},"metadata_filter":{"description":"The filter string used to narrow the search based on metadata attributes. The query against this corpus will be confined to document parts that match the `metadata_filter`. Only metadata fields set as `filter_attributes` on the corpus can be filtered. Filter syntax is similar to a SQL WHERE clause. See [metadata filters documentation](https://docs.vectara.com/docs/learn/metadata-search-filtering/filter-overview) for more information.","type":"string","maxLength":8000,"example":"doc.title = 'Annual Report'"},"lexical_interpolation":{"description":"How much to weigh lexical scores compared to the embedding score. 0 means lexical search is not used at all, and 1 means only lexical search is used.","type":"number","format":"float","minimum":0,"maximum":1,"example":0.005},"semantics":{"description":"Indicates whether to consider a query against this corpus as a query or a response.","type":"string","enum":["default","query","response"],"default":"default","title":"SearchSemantics"}},"title":"SearchCorpus"},{"type":"object","properties":{"corpus_key":{"description":"A user-provided key for a corpus.","type":"string","example":"my-corpus","pattern":"[a-zA-Z0-9_\\=\\-]+$","maxLength":50,"title":"CorpusKey"},"query":{"description":"Query for a particular corpus that will override the overall query if present.","type":"string","maxLength":5000,"example":"What are some important facts in my-corpus?"}}}],"required":["corpus_key"],"title":"KeyedSearchCorpus"},"minItems":1}}},{"type":"object","description":"Search parameters to retrieve knowledge for the query.","properties":{"offset":{"description":"Specifies how many results into the result to skip. This is useful for pagination.","type":"integer","format":"int32","default":0,"minimum":0},"limit":{"description":"The maximum number of results returned.","type":"integer","format":"int32","minimum":1,"default":10},"context_configuration":{"type":"object","description":"Configuration on the presentation of each document part in the result set. You can only use characters_before/after or sentences_before/after, but not both. If you specify both in the query, sentences_before/after takes precedence","properties":{"characters_before":{"description":"The number of characters that are shown before the matching document part. This is useful to show the context of the document part in the wider document. Ignored if `sentences_before` is set. Vectara will capture the full sentence that contains the captured characters, to not lose the meaning caused by a truncated word or sentence.","type":"integer","format":"int32"},"characters_after":{"description":"The number of characters that are shown after the matching document part. This is useful to show the context of the document part in the wider document. Ignored if `sentences_after` is set. Vectara will capture the full sentence that contains the captured characters, to not lose the meaning caused by a truncated word or sentence.","type":"integer","format":"int32"},"sentences_before":{"description":"The number of sentences that are shown before the matching document part. This is useful to show the context of the document part in the wider document.","type":"integer","format":"int32","default":0,"minimum":0,"example":2},"sentences_after":{"description":"The number of sentences that are shown after the matching document part. This is useful to show the context of the document part in the wider document.","type":"integer","format":"int32","default":0,"minimum":0,"example":2},"start_tag":{"description":"The tag that wraps the document part at the start. This is often used to provide a start HTML/XML tag or some other delimiter you can use in an application to understand where to provide highlighting in your UI and understand where the context before ends and the document part begins.","type":"string","example":"<em>"},"end_tag":{"description":"The tag that wraps the document part at the end. This is often used to provide a start HTML/XML tag or some other delimiter you can use in an application to understand where to provide highlighting in your UI and understand where the document part ends and the context after begins.","type":"string","example":"</em>"}},"example":{"sentences_before":2,"sentences_after":2,"start_tag":"<em>","end_tag":"</em>"},"title":"ContextConfiguration"},"reranker":{"type":"object","description":"Rerank results of the search. Rerankers are very powerful tools to improve the order of search results. By default the search will use the most powerful reranker available to the customer's plan. To disable reranking, set the reranker `type` to `\"none\"`.","discriminator":{"propertyName":"type","mapping":{"customer_reranker":{"description":"Reranker that is specific to the customer.","type":"object","properties":{"type":{"description":"When the type is `customer_reranker`, you can specify the `reranker_name` of a reranker. `reranker_id` is deprecated. The retrieval engine will then rerank results using that reranker.","type":"string","default":"customer_reranker"},"reranker_id":{"description":"The ID of the reranker. The multilingual reranker that may be specified is rnk_272725719. Do not specify the MMR reranker ID here, and instead, use the MMR reranker object type. **Deprecated**: Use `reranker_name` instead.","type":"string","pattern":"rnk_(?!272725718)\\d+","example":"rnk_272725719","deprecated":true},"reranker_name":{"description":"The name of the reranker. Do not specify the MMR reranker name here. Instead, use the MMR reranker object type.","type":"string","example":"Rerank_Multilingual_v1"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. When a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process. When a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm. 2. Applies the cutoff, removing any results with scores below the specified threshold. 3. Returns the remaining results, sorted by their new scores.\nNote: This cutoff is applied per reranking stage. In a chain of rerankers, each reranker can have its own cutoff, potentially further reducing the number of results at each stage. If both 'limit' and 'cutoff' are specified, the cutoff is applied first, followed by the limit.","format":"float"},"include_context":{"type":"boolean","default":true,"description":"If true, the reranker will use text with context (see \"context_configuration\") for scoring."}},"x-vectaraParents":["SearchReranker"],"title":"CustomerSpecificReranker"},"userfn":{"description":"A reranker that uses user-defined functions to reorder search results.","type":"object","properties":{"type":{"description":"When the type is `userfn`, you can define custom reranking functions using document-level metadata, part-level metadata, or scores generated from the request-level metadata.","type":"string","default":"userfn"},"user_function":{"description":"The user defined function.","type":"string","example":"get('$.score') * get('$.document_metadata.boost')"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. \nWhen a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process. When a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm. 2. Applies the cutoff, removing any results with scores below the specified threshold. 3. Returns the remaining results, sorted by their new scores.\nNote: This cutoff is applied per reranking stage. In a chain of rerankers, each reranker can have its own cutoff, potentially further reducing the number of results at each stage. If both 'limit' and 'cutoff' are specified, the cutoff is applied first, followed by the limit.","format":"float"}},"x-vectaraParents":["SearchReranker"],"title":"UserFunctionReranker"},"mmr":{"description":"A reranker that uses Maximal Marginal Relevance to balance relevance and diversity in search results.","type":"object","properties":{"type":{"description":"When the type is `mmr`, you can specify the `diversity_bias`, and the retrieval engine will use the MMR reranker.","type":"string","default":"mmr"},"diversity_bias":{"description":"The diversity bias. Higher values indicate more diversity.","type":"number","format":"float","example":0.3},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. \nWhen a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process. When a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm. 2. Applies the cutoff, removing any results with scores below the specified threshold. 3. Returns the remaining results, sorted by their new scores.\nNote: This cutoff is applied per reranking stage. In a chain of rerankers, each reranker can have its own cutoff, potentially further reducing the number of results at each stage. If both 'limit' and 'cutoff' are specified, the cutoff is applied first, followed by the limit.","format":"float"}},"x-vectaraParents":["SearchReranker"],"title":"MMRReranker"},"chain":{"description":"A reranker that applies multiple rerankers in sequence to produce the final search results.","type":"object","properties":{"type":{"description":"When the type is `chain`, you can then chain re-rankers together.","type":"string","default":"chain"},"rerankers":{"type":"array","description":"Specify an array of rerankers to apply to search results consecutively.","items":"circular(SearchReranker)","maxItems":50}},"required":["rerankers"],"x-vectaraParents":["SearchReranker"],"title":"ChainReranker"},"none":{"description":"A placeholder reranker that does not modify the original search results ordering.","type":"object","properties":{"type":{"description":"When the type is `none`, no reranking will be done.","type":"string","default":"none"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. When a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1}},"x-vectaraParents":["SearchReranker"],"title":"NoneReranker"}}},"oneOf":[{"description":"Reranker that is specific to the customer.","type":"object","properties":{"type":{"description":"When the type is `customer_reranker`, you can specify the `reranker_name` of a reranker. `reranker_id` is deprecated. The retrieval engine will then rerank results using that reranker.","type":"string","default":"customer_reranker"},"reranker_id":{"description":"The ID of the reranker. The multilingual reranker that may be specified is rnk_272725719. Do not specify the MMR reranker ID here, and instead, use the MMR reranker object type. **Deprecated**: Use `reranker_name` instead.","type":"string","pattern":"rnk_(?!272725718)\\d+","example":"rnk_272725719","deprecated":true},"reranker_name":{"description":"The name of the reranker. Do not specify the MMR reranker name here. Instead, use the MMR reranker object type.","type":"string","example":"Rerank_Multilingual_v1"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. When a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process. When a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm. 2. Applies the cutoff, removing any results with scores below the specified threshold. 3. Returns the remaining results, sorted by their new scores.\nNote: This cutoff is applied per reranking stage. In a chain of rerankers, each reranker can have its own cutoff, potentially further reducing the number of results at each stage. If both 'limit' and 'cutoff' are specified, the cutoff is applied first, followed by the limit.","format":"float"},"include_context":{"type":"boolean","default":true,"description":"If true, the reranker will use text with context (see \"context_configuration\") for scoring."}},"x-vectaraParents":["SearchReranker"],"title":"CustomerSpecificReranker"},{"description":"A reranker that uses user-defined functions to reorder search results.","type":"object","properties":{"type":{"description":"When the type is `userfn`, you can define custom reranking functions using document-level metadata, part-level metadata, or scores generated from the request-level metadata.","type":"string","default":"userfn"},"user_function":{"description":"The user defined function.","type":"string","example":"get('$.score') * get('$.document_metadata.boost')"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. \nWhen a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process. When a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm. 2. Applies the cutoff, removing any results with scores below the specified threshold. 3. Returns the remaining results, sorted by their new scores.\nNote: This cutoff is applied per reranking stage. In a chain of rerankers, each reranker can have its own cutoff, potentially further reducing the number of results at each stage. If both 'limit' and 'cutoff' are specified, the cutoff is applied first, followed by the limit.","format":"float"}},"x-vectaraParents":["SearchReranker"],"title":"UserFunctionReranker"},{"description":"A reranker that uses Maximal Marginal Relevance to balance relevance and diversity in search results.","type":"object","properties":{"type":{"description":"When the type is `mmr`, you can specify the `diversity_bias`, and the retrieval engine will use the MMR reranker.","type":"string","default":"mmr"},"diversity_bias":{"description":"The diversity bias. Higher values indicate more diversity.","type":"number","format":"float","example":0.3},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. \nWhen a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process. When a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm. 2. Applies the cutoff, removing any results with scores below the specified threshold. 3. Returns the remaining results, sorted by their new scores.\nNote: This cutoff is applied per reranking stage. In a chain of rerankers, each reranker can have its own cutoff, potentially further reducing the number of results at each stage. If both 'limit' and 'cutoff' are specified, the cutoff is applied first, followed by the limit.","format":"float"}},"x-vectaraParents":["SearchReranker"],"title":"MMRReranker"},{"description":"A reranker that applies multiple rerankers in sequence to produce the final search results.","type":"object","properties":{"type":{"description":"When the type is `chain`, you can then chain re-rankers together.","type":"string","default":"chain"},"rerankers":{"type":"array","description":"Specify an array of rerankers to apply to search results consecutively.","items":"circular(SearchReranker)","maxItems":50}},"required":["rerankers"],"x-vectaraParents":["SearchReranker"],"title":"ChainReranker"},{"description":"A placeholder reranker that does not modify the original search results ordering.","type":"object","properties":{"type":{"description":"When the type is `none`, no reranking will be done.","type":"string","default":"none"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. When a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1}},"x-vectaraParents":["SearchReranker"],"title":"NoneReranker"}],"title":"SearchReranker"}},"example":{"limit":50},"title":"SearchParameters"}],"required":["corpora"],"title":"SearchCorporaParameters"},"generation":{"description":"The parameters to control generation.","type":"object","properties":{"enabled":{"description":"Whether generation is enabled for this query. This field is ignored if using chat.","type":"boolean","default":true},"generation_preset_name":{"description":"The preset values to use to feed the query results and other context to the model.  \n\nA `generation_preset` is an object with a bundle of properties that specifies: \n* The `prompt_template` that is rendered and then sent to the LLM. \n* The LLM used. * `model_parameter`s such as temperature.\n\nAll of these properties except the model can be overridden by setting them in this object. Even when a `prompt_template` is set, the `generation_preset_name` is used to set the model used. See `model_parameters.model` if you want to set the model explicitly.\n\nIf `generation_preset_name` is not set, the Vectara platform will use the default model and prompt.'\n","type":"string","minLength":1,"example":"mockingbird-2.0"},"prompt_name":{"description":"Use `generation_preset_name` instead of `prompt_name`.","type":"string","minLength":1,"example":"mockingbird-2.0","deprecated":true},"max_used_search_results":{"description":"The maximum number of search results to be available to the prompt.","type":"integer","format":"int32","minimum":0,"default":5},"prompt_template":{"description":"Vectara manages both system and user roles and prompts for the generative LLM out of the box by default. However, users can override the `prompt_template` via this variable. The `prompt_template` is in the form of an Apache Velocity template. For more details on how to configure the `prompt_template`, see the [long-form documentation](https://docs.vectara.com/docs/prompts/vectara-prompt-engine).","type":"string","example":"[\n  {\"role\": \"system\", \"content\": \"You are a helpful search assistant.\"},\n  #foreach ($qResult in $vectaraQueryResults)\n     {\"role\": \"user\", \"content\": \"Given the $vectaraIdxWord[$foreach.index] search result.\"},\n     {\"role\": \"assistant\", \"content\": \"${qResult.getText()}\" },\n  #end\n  {\"role\": \"user\", \"content\": \"Generate a summary for the query '${vectaraQuery}' based on the above results.\"}\n]\n"},"prompt_text":{"description":"This property is deprecated in favor of clearer naming. Use `prompt_template`. This property will be ignored if `prompt_template` is set.","type":"string","example":"[\n  {\"role\": \"system\", \"content\": \"You are a helpful search assistant.\"},\n  #foreach ($qResult in $vectaraQueryResults)\n     {\"role\": \"user\", \"content\": \"Given the $vectaraIdxWord[$foreach.index] search result.\"},\n     {\"role\": \"assistant\", \"content\": \"${qResult.getText()}\" },\n  #end\n  {\"role\": \"user\", \"content\": \"Generate a summary for the query '${vectaraQuery}' based on the above results.\"}\n]\n","deprecated":true},"max_response_characters":{"description":"Controls the length of the generated output. This is a rough estimate and not a hard limit: the end output can be longer or shorter than this value. This is generally implemented by including the `max_response_characters` in the prompt, and the LLM's instruction following capability dictates how closely the generated output is limited.","type":"integer","format":"int32","example":300,"minimum":0},"response_language":{"description":"Languages that the Vectara platform supports.","type":"string","enum":["auto","eng","deu","fra","zho","kor","ara","rus","tha","nld","ita","por","spa","jpn","pol","tur","vie","ind","ces","ukr","ell","heb","fas","hin","urd","swe","ben","msa","ron"],"default":"auto","title":"Language"},"model_parameters":{"title":"ModelParameters","description":"The parameters for the model. WARNING: This is an experimental feature, and breakable at any point with virtually no notice. It is meant for experimentation to converge on optimal parameters that can then be set in the prompt definitions.","type":"object","properties":{"llm_name":{"description":"The model (e.g., `gpt-4`) to use for summarization. If specified, it will override the model behind `generation_preset_name`.","type":"string","example":"gpt4"},"max_tokens":{"description":"The maximum number of tokens to be returned by the model.","type":"integer","format":"int32","minimum":1},"temperature":{"description":"The sampling temperature to use. Higher values make the output more random, while lower values make it more focused and deterministic.","type":"number","format":"float"},"frequency_penalty":{"description":"Higher values penalize new tokens based on their existing frequency in the text so far, decreasing the model's likelihood to repeat the same line verbatim.","type":"number","format":"float"},"presence_penalty":{"description":"Higher values penalize new tokens based on whether they appear in the text so far, increasing the model's likelihood to talk about new topics.","type":"number","format":"float"}}},"citations":{"description":"Style the generator should use when making citations.","type":"object","properties":{"style":{"description":"The citation style to be used in summary. Can be one of: * `numeric` - Citations formatted as simple numerals: \\[1\\], \\[2\\] ... * `none` - Citations removed from text. * `html` - Citation formatted as a URL like `<a href=\"url_pattern\">text_pattern</a>`. * `markdown` - Formatted as `[text_pattern](url_pattern)`.","type":"string","enum":["none","numeric","html","markdown"]},"url_pattern":{"description":"The URL pattern if the citation_style is set to `html` or `markdown`. The pattern can access metadata attributes in the document or part. e.g. `https://my.doc/foo/{doc.id}/{part.id}` The default `url_pattern` is an empty string.","type":"string","example":"https://vectara.com/documents/{doc.id}"},"text_pattern":{"description":"The text pattern if the citation_style is set to `html` or `markdown`. This pattern sets the href for HTML or the text within `[]` in markdown, and defaults to N being the index of result if it is not set. The default citation style looks like `[N](<url_pattern>)` for markdown. You can use metadata attributes in the `text_pattern`. For example, the pattern `{doc.title}` with citation style `markdown` would result in final citation output like `[Title](<url_pattern>)` when the document's metadata includes `{\"title\":\"Title\"}`.","type":"string","example":"{doc.title}"}},"title":"CitationParameters"},"enable_factual_consistency_score":{"description":"Enable returning the factual consistency score with query results.","type":"boolean","default":true}},"title":"GenerationParameters"},"save_history":{"description":"Indicates whether to save the query to query history.","type":"boolean"}},"required":["search"],"title":"CorporaSearchQueryConfiguration"}},"required":["type","query_configuration"],"x-vectaraParents":["AgentToolConfiguration"]},{"title":"InlineWebSearchToolConfiguration","description":"A web search tool configuration defined inline in the agent.","type":"object","properties":{"type":{"type":"string","description":"The type of tool configuration, which is always 'web_search' for inline web search tool configurations.","default":"web_search"},"argument_override":{"description":"Optional hardcoded arguments for the web search tool call such as limit etc. When specified, these values will be used instead of allowing the LLM to fill in those parameters.","type":"object","properties":{"query":{"description":"The search query to execute.","type":"string","example":"latest AI developments 2024"},"limit":{"description":"Maximum number of results to return.","type":"integer","minimum":1,"example":10},"provider":{"description":"Search provider to use.","type":"string","enum":["tavily"],"example":"tavily"}},"additionalProperties":false,"title":"WebSearchToolParameters"}},"required":["type"],"x-vectaraParents":["AgentToolConfiguration"]}],"example":[{"type":"web_search","argument_override":{"limit":5}}]},"example":{"customer_search":{"type":"corpora_search","argument_override":{"query":"customer support documentation"}}}},"model":{"title":"AgentModel","description":"Configuration for the model used in this step, including the model name and arbitrary parameters.","type":"object","properties":{"name":{"description":"The name of the model to use for this step.","type":"string","example":"gpt-4"},"parameters":{"description":"Arbitrary model-specific parameters that can be passed to the model.","type":"object","additionalProperties":true,"example":{"temperature":0.7,"max_tokens":1000,"top_p":0.9}},"retry_configuration":{"description":"Optional retry configuration for handling transient failures. When not provided, no retry is performed.","title":"RetryConfiguration","type":"object","properties":{"enabled":{"description":"Whether retry is enabled. Enabled by default to provide resilience against transient failures.","type":"boolean","default":true,"example":true},"max_retries":{"description":"Maximum number of retry attempts after initial failure.","type":"integer","minimum":0,"maximum":10,"default":3,"example":3},"initial_backoff_ms":{"description":"Initial backoff time in milliseconds before first retry.","type":"integer","minimum":100,"maximum":60000,"default":1000,"example":1000},"max_backoff_ms":{"description":"Maximum backoff time in milliseconds between retries.","type":"integer","minimum":1000,"maximum":300000,"default":30000,"example":30000},"backoff_factor":{"description":"Multiplication factor for exponential backoff between retries.","type":"number","format":"double","minimum":1,"maximum":10,"default":2,"example":2}}}},"required":["name"]},"first_step":{"title":"AgentStep","description":"A step in an agent's execution flow that defines how the agent processes and responds to input.","discriminator":{"propertyName":"type","mapping":{"conversational":{"title":"ConversationalAgentStep","description":"A step that receives instructions and responds through dialogue. This is a step that gets instructions and engages in conversation with users based on those instructions. This only type step supported, with no way to go next steps. A conversational step responds to an input following its instructions and uses the agent tools. The first response from the model will terminate processing the input.","type":"object","properties":{"type":{"description":"The type of step, which is always 'conversational' for this step type.","type":"string","default":"conversational","example":"conversational"},"instructions":{"description":"List of instructions that guide the agent's behavior in this step. If no instructions are given, the agent is instructed to be helpful and use tools.","type":"array","items":{"title":"AgentStepInstruction","description":"An instruction that can be used in an agent step, either by reference or defined inline.","discriminator":{"propertyName":"type","mapping":{"reference":{"title":"ReferenceInstruction","description":"An instruction specified by reference.","allOf":[{"description":"A reference to an instruction that can be used by an agent. If version is not specified, the latest version will be used. Note that when the instruction is updated, agents using it will need to be updated to reference the new version explicitly.","type":"object","properties":{"id":{"description":"The unique identifier for an instruction.","type":"string","pattern":"ins_[0-9a-zA-Z_-]+$","example":"ins_customer_support_init","title":"InstructionId"},"version":{"description":"The specific version of the instruction to use. If not specified, the latest version will be used.","type":"integer","minimum":1,"example":1}},"required":["id"],"title":"InstructionReference"},{"type":"object","properties":{"type":{"type":"string","description":"The type of instruction, used for discrimination.","default":"reference"}},"required":["type"]}],"x-vectaraParents":["AgentStepInstruction"]},"inline":{"title":"InlineInstruction","description":"An instruction defined inline in the request.","allOf":[{"description":"Request object for creating a new initial instruction.","type":"object","properties":{"type":{"description":"The type of instruction to create.","type":"string","default":"initial","example":"initial"},"name":{"description":"The human-readable name of an instruction.","type":"string","minLength":1,"maxLength":50,"example":"Customer Support Initial Instruction","title":"InstructionName"},"description":{"description":"A detailed description of what this instruction does.","type":"string","example":"Provides initial context and guidelines for customer support interactions"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are a helpful customer support agent for Acme Corp. Today's date is ${currentDate}. You have access to the following tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"},"metadata":{"description":"Arbitrary metadata associated with the instruction.","type":"object","additionalProperties":true,"default":{},"example":{"version":"1.0.0","author":"support-team"}},"enabled":{"description":"Whether the instruction should be enabled upon creation.","type":"boolean","default":true,"example":true}},"required":["type","name","template"],"x-vectaraParents":["CreateInstructionRequest"],"title":"CreateInitialInstructionRequest"},{"type":"object","properties":{"type":{"type":"string","description":"The type of instruction, used for discrimination.","default":"inline"}},"required":["type"]}],"x-vectaraParents":["AgentStepInstruction"]}}},"oneOf":[{"title":"ReferenceInstruction","description":"An instruction specified by reference.","allOf":[{"description":"A reference to an instruction that can be used by an agent. If version is not specified, the latest version will be used. Note that when the instruction is updated, agents using it will need to be updated to reference the new version explicitly.","type":"object","properties":{"id":{"description":"The unique identifier for an instruction.","type":"string","pattern":"ins_[0-9a-zA-Z_-]+$","example":"ins_customer_support_init","title":"InstructionId"},"version":{"description":"The specific version of the instruction to use. If not specified, the latest version will be used.","type":"integer","minimum":1,"example":1}},"required":["id"],"title":"InstructionReference"},{"type":"object","properties":{"type":{"type":"string","description":"The type of instruction, used for discrimination.","default":"reference"}},"required":["type"]}],"x-vectaraParents":["AgentStepInstruction"]},{"title":"InlineInstruction","description":"An instruction defined inline in the request.","allOf":[{"description":"Request object for creating a new initial instruction.","type":"object","properties":{"type":{"description":"The type of instruction to create.","type":"string","default":"initial","example":"initial"},"name":{"description":"The human-readable name of an instruction.","type":"string","minLength":1,"maxLength":50,"example":"Customer Support Initial Instruction","title":"InstructionName"},"description":{"description":"A detailed description of what this instruction does.","type":"string","example":"Provides initial context and guidelines for customer support interactions"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are a helpful customer support agent for Acme Corp. Today's date is ${currentDate}. You have access to the following tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"},"metadata":{"description":"Arbitrary metadata associated with the instruction.","type":"object","additionalProperties":true,"default":{},"example":{"version":"1.0.0","author":"support-team"}},"enabled":{"description":"Whether the instruction should be enabled upon creation.","type":"boolean","default":true,"example":true}},"required":["type","name","template"],"x-vectaraParents":["CreateInstructionRequest"],"title":"CreateInitialInstructionRequest"},{"type":"object","properties":{"type":{"type":"string","description":"The type of instruction, used for discrimination.","default":"inline"}},"required":["type"]}],"x-vectaraParents":["AgentStepInstruction"]}],"example":[{"type":"reference","name":"Customer Support Initial Instruction","version":1},{"type":"inline","name":"Temporary On-the-fly Guideline","description":"A special instruction for this specific step only.","template_type":"velocity","template":"Please prioritize issues tagged with 'urgent' for the next hour."}]}},"output_parser":{"title":"AgentOutputParser","description":"Configuration for how the agent's output should be parsed and formatted.\n\nThe output parser determines how the agent's responses are processed before being returned to the user.\n","discriminator":{"propertyName":"type","mapping":{"default":{"title":"DefaultOutputParser","description":"Uses native tool calling capabilities and returns output directly to the user. This parser leverages the underlying model's built-in tool calling functionality and passes responses through without additional processing.","type":"object","properties":{"type":{"description":"The type of output parser, which is always 'default' for this parser type.","type":"string","default":"default","example":"default"}},"required":["type"],"x-vectaraParents":["AgentOutputParser"]}}},"oneOf":[{"title":"DefaultOutputParser","description":"Uses native tool calling capabilities and returns output directly to the user. This parser leverages the underlying model's built-in tool calling functionality and passes responses through without additional processing.","type":"object","properties":{"type":{"description":"The type of output parser, which is always 'default' for this parser type.","type":"string","default":"default","example":"default"}},"required":["type"],"x-vectaraParents":["AgentOutputParser"]}]}},"required":["type","instructions","output_parser"],"x-vectaraParents":["AgentStep"]}}},"oneOf":[{"title":"ConversationalAgentStep","description":"A step that receives instructions and responds through dialogue. This is a step that gets instructions and engages in conversation with users based on those instructions. This only type step supported, with no way to go next steps. A conversational step responds to an input following its instructions and uses the agent tools. The first response from the model will terminate processing the input.","type":"object","properties":{"type":{"description":"The type of step, which is always 'conversational' for this step type.","type":"string","default":"conversational","example":"conversational"},"instructions":{"description":"List of instructions that guide the agent's behavior in this step. If no instructions are given, the agent is instructed to be helpful and use tools.","type":"array","items":{"title":"AgentStepInstruction","description":"An instruction that can be used in an agent step, either by reference or defined inline.","discriminator":{"propertyName":"type","mapping":{"reference":{"title":"ReferenceInstruction","description":"An instruction specified by reference.","allOf":[{"description":"A reference to an instruction that can be used by an agent. If version is not specified, the latest version will be used. Note that when the instruction is updated, agents using it will need to be updated to reference the new version explicitly.","type":"object","properties":{"id":{"description":"The unique identifier for an instruction.","type":"string","pattern":"ins_[0-9a-zA-Z_-]+$","example":"ins_customer_support_init","title":"InstructionId"},"version":{"description":"The specific version of the instruction to use. If not specified, the latest version will be used.","type":"integer","minimum":1,"example":1}},"required":["id"],"title":"InstructionReference"},{"type":"object","properties":{"type":{"type":"string","description":"The type of instruction, used for discrimination.","default":"reference"}},"required":["type"]}],"x-vectaraParents":["AgentStepInstruction"]},"inline":{"title":"InlineInstruction","description":"An instruction defined inline in the request.","allOf":[{"description":"Request object for creating a new initial instruction.","type":"object","properties":{"type":{"description":"The type of instruction to create.","type":"string","default":"initial","example":"initial"},"name":{"description":"The human-readable name of an instruction.","type":"string","minLength":1,"maxLength":50,"example":"Customer Support Initial Instruction","title":"InstructionName"},"description":{"description":"A detailed description of what this instruction does.","type":"string","example":"Provides initial context and guidelines for customer support interactions"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are a helpful customer support agent for Acme Corp. Today's date is ${currentDate}. You have access to the following tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"},"metadata":{"description":"Arbitrary metadata associated with the instruction.","type":"object","additionalProperties":true,"default":{},"example":{"version":"1.0.0","author":"support-team"}},"enabled":{"description":"Whether the instruction should be enabled upon creation.","type":"boolean","default":true,"example":true}},"required":["type","name","template"],"x-vectaraParents":["CreateInstructionRequest"],"title":"CreateInitialInstructionRequest"},{"type":"object","properties":{"type":{"type":"string","description":"The type of instruction, used for discrimination.","default":"inline"}},"required":["type"]}],"x-vectaraParents":["AgentStepInstruction"]}}},"oneOf":[{"title":"ReferenceInstruction","description":"An instruction specified by reference.","allOf":[{"description":"A reference to an instruction that can be used by an agent. If version is not specified, the latest version will be used. Note that when the instruction is updated, agents using it will need to be updated to reference the new version explicitly.","type":"object","properties":{"id":{"description":"The unique identifier for an instruction.","type":"string","pattern":"ins_[0-9a-zA-Z_-]+$","example":"ins_customer_support_init","title":"InstructionId"},"version":{"description":"The specific version of the instruction to use. If not specified, the latest version will be used.","type":"integer","minimum":1,"example":1}},"required":["id"],"title":"InstructionReference"},{"type":"object","properties":{"type":{"type":"string","description":"The type of instruction, used for discrimination.","default":"reference"}},"required":["type"]}],"x-vectaraParents":["AgentStepInstruction"]},{"title":"InlineInstruction","description":"An instruction defined inline in the request.","allOf":[{"description":"Request object for creating a new initial instruction.","type":"object","properties":{"type":{"description":"The type of instruction to create.","type":"string","default":"initial","example":"initial"},"name":{"description":"The human-readable name of an instruction.","type":"string","minLength":1,"maxLength":50,"example":"Customer Support Initial Instruction","title":"InstructionName"},"description":{"description":"A detailed description of what this instruction does.","type":"string","example":"Provides initial context and guidelines for customer support interactions"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are a helpful customer support agent for Acme Corp. Today's date is ${currentDate}. You have access to the following tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"},"metadata":{"description":"Arbitrary metadata associated with the instruction.","type":"object","additionalProperties":true,"default":{},"example":{"version":"1.0.0","author":"support-team"}},"enabled":{"description":"Whether the instruction should be enabled upon creation.","type":"boolean","default":true,"example":true}},"required":["type","name","template"],"x-vectaraParents":["CreateInstructionRequest"],"title":"CreateInitialInstructionRequest"},{"type":"object","properties":{"type":{"type":"string","description":"The type of instruction, used for discrimination.","default":"inline"}},"required":["type"]}],"x-vectaraParents":["AgentStepInstruction"]}],"example":[{"type":"reference","name":"Customer Support Initial Instruction","version":1},{"type":"inline","name":"Temporary On-the-fly Guideline","description":"A special instruction for this specific step only.","template_type":"velocity","template":"Please prioritize issues tagged with 'urgent' for the next hour."}]}},"output_parser":{"title":"AgentOutputParser","description":"Configuration for how the agent's output should be parsed and formatted.\n\nThe output parser determines how the agent's responses are processed before being returned to the user.\n","discriminator":{"propertyName":"type","mapping":{"default":{"title":"DefaultOutputParser","description":"Uses native tool calling capabilities and returns output directly to the user. This parser leverages the underlying model's built-in tool calling functionality and passes responses through without additional processing.","type":"object","properties":{"type":{"description":"The type of output parser, which is always 'default' for this parser type.","type":"string","default":"default","example":"default"}},"required":["type"],"x-vectaraParents":["AgentOutputParser"]}}},"oneOf":[{"title":"DefaultOutputParser","description":"Uses native tool calling capabilities and returns output directly to the user. This parser leverages the underlying model's built-in tool calling functionality and passes responses through without additional processing.","type":"object","properties":{"type":{"description":"The type of output parser, which is always 'default' for this parser type.","type":"string","default":"default","example":"default"}},"required":["type"],"x-vectaraParents":["AgentOutputParser"]}]}},"required":["type","instructions","output_parser"],"x-vectaraParents":["AgentStep"]}]},"metadata":{"description":"Arbitrary metadata associated with the agent for customization and configuration.","type":"object","additionalProperties":true,"default":{},"example":{"department":"customer_service","version":"1.0.0","owner":"support-team"}},"enabled":{"description":"Whether the agent should be enabled upon creation.","type":"boolean","default":true,"example":true}},"required":["name","tool_configurations","model","first_step"],"title":"CreateAgentRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"description":"The agent has been created successfully.","content":{"application/json":{"schema":{"description":"An AI agent that can use tools to provide intelligent responses and actions.","type":"object","properties":{"key":{"description":"A unique key that identifies an agent.","type":"string","pattern":"[0-9a-zA-Z_-]+$","minLength":1,"maxLength":50,"example":"customer_support","title":"AgentKey"},"name":{"description":"The human-readable name of an agent.","type":"string","minLength":1,"maxLength":50,"example":"Customer Support Agent","title":"AgentName"},"description":{"description":"A detailed description of the agent's purpose and capabilities.","type":"string","example":"An AI agent specialized in handling customer support inquiries using company documentation and support tools."},"tool_configurations":{"description":"A map of tool configurations available to the agent. The key is the name of the tool configuration and the value is an agent tool configuration.","type":"object","additionalProperties":{"nullable":true,"title":"AgentToolConfiguration","description":"A tool configuration that can be used by an agent, defined inline with a specific configuration type.","discriminator":{"propertyName":"type","mapping":{"mcp":{"title":"InlineMcpToolConfiguration","description":"An MCP tool configuration defined inline in the agent.","type":"object","properties":{"type":{"type":"string","description":"The type of tool configuration, which is always 'mcp' for inline MCP tool configurations.","default":"mcp"},"tool_id":{"description":"Unique identifier for a tool.","type":"string","pattern":"^tol_.*","example":"tol_123e4567-e89b-12d3-a456-426614174000","title":"ToolId"},"argument_override":{"description":"Optional hardcoded arguments for tool calls. The key specifies the location in the tool arguments to overide, and the value specifies what to override with. The LLM will not be able to change the parameters, nor know those values exist within the tool.\n\nThe values can also be dynamic references to context values using $ref with dot notation path syntax:\n- Static value: \"fixed_value\" or 123\n- Dynamic reference: `{\"$ref\": \"session.metadata.field_name\"}`\n\nReferences are resolved at runtime from context:\n- session.metadata.* - Access session metadata fields\n- agent.metadata.* - Access agent metadata fields\n\nExample:\n  `{\"query\": {\"$ref\": \".session.metadata.query\"}}`\n\nIf you want to have a real value `\"$ref\"` use `\"$$ref\"`, that is you can escape the first $ by using $$.","type":"object","additionalProperties":true,"example":{"custom_param":"value","limit":10}}},"required":["tool_id","type"],"x-vectaraParents":["AgentToolConfiguration"]},"corpora_search":{"title":"InlineCorporaSearchToolConfiguration","description":"A corpora search tool configuration defined inline in the agent.","type":"object","properties":{"type":{"type":"string","description":"The type of tool configuration, which is always 'corpora_search' for inline corpora search tool configurations.","default":"corpora_search"},"argument_override":{"description":"Optional hardcoded arguments for the corpus search call such as the query. When specified, these values will be used instead of allowing the LLM to fill in those parameters.","type":"object","properties":{"query":{"description":"The search query string, which is the question the user is asking. If not provided, will be filled in by the LLM.","type":"string","maxLength":5000,"example":"Am I allowed to bring pets to work?"}},"additionalProperties":false,"title":"CorporaSearchToolParameters"},"query_configuration":{"description":"User-configurable settings for the corpus search that are not exposed to the LLM.","type":"object","properties":{"search":{"description":"The parameters to search one or more corpora.","allOf":[{"type":"object","properties":{"corpora":{"description":"The corpora that you want to search.","type":"array","items":{"description":"A corpus with its identifying key for use in search operations within a customer account.","allOf":[{"description":"Configuration for search parameters specific to a single corpus within a customer account, including filters and semantics.","type":"object","properties":{"custom_dimensions":{"description":"The custom dimensions as additional weights.","type":"object","additionalProperties":{"type":"number","format":"double","nullable":false},"title":"CustomDimensions"},"metadata_filter":{"description":"The filter string used to narrow the search based on metadata attributes. The query against this corpus will be confined to document parts that match the `metadata_filter`. Only metadata fields set as `filter_attributes` on the corpus can be filtered. Filter syntax is similar to a SQL WHERE clause. See [metadata filters documentation](https://docs.vectara.com/docs/learn/metadata-search-filtering/filter-overview) for more information.","type":"string","maxLength":8000,"example":"doc.title = 'Annual Report'"},"lexical_interpolation":{"description":"How much to weigh lexical scores compared to the embedding score. 0 means lexical search is not used at all, and 1 means only lexical search is used.","type":"number","format":"float","minimum":0,"maximum":1,"example":0.005},"semantics":{"description":"Indicates whether to consider a query against this corpus as a query or a response.","type":"string","enum":["default","query","response"],"default":"default","title":"SearchSemantics"}},"title":"SearchCorpus"},{"type":"object","properties":{"corpus_key":{"description":"A user-provided key for a corpus.","type":"string","example":"my-corpus","pattern":"[a-zA-Z0-9_\\=\\-]+$","maxLength":50,"title":"CorpusKey"},"query":{"description":"Query for a particular corpus that will override the overall query if present.","type":"string","maxLength":5000,"example":"What are some important facts in my-corpus?"}}}],"required":["corpus_key"],"title":"KeyedSearchCorpus"},"minItems":1}}},{"type":"object","description":"Search parameters to retrieve knowledge for the query.","properties":{"offset":{"description":"Specifies how many results into the result to skip. This is useful for pagination.","type":"integer","format":"int32","default":0,"minimum":0},"limit":{"description":"The maximum number of results returned.","type":"integer","format":"int32","minimum":1,"default":10},"context_configuration":{"type":"object","description":"Configuration on the presentation of each document part in the result set. You can only use characters_before/after or sentences_before/after, but not both. If you specify both in the query, sentences_before/after takes precedence","properties":{"characters_before":{"description":"The number of characters that are shown before the matching document part. This is useful to show the context of the document part in the wider document. Ignored if `sentences_before` is set. Vectara will capture the full sentence that contains the captured characters, to not lose the meaning caused by a truncated word or sentence.","type":"integer","format":"int32"},"characters_after":{"description":"The number of characters that are shown after the matching document part. This is useful to show the context of the document part in the wider document. Ignored if `sentences_after` is set. Vectara will capture the full sentence that contains the captured characters, to not lose the meaning caused by a truncated word or sentence.","type":"integer","format":"int32"},"sentences_before":{"description":"The number of sentences that are shown before the matching document part. This is useful to show the context of the document part in the wider document.","type":"integer","format":"int32","default":0,"minimum":0,"example":2},"sentences_after":{"description":"The number of sentences that are shown after the matching document part. This is useful to show the context of the document part in the wider document.","type":"integer","format":"int32","default":0,"minimum":0,"example":2},"start_tag":{"description":"The tag that wraps the document part at the start. This is often used to provide a start HTML/XML tag or some other delimiter you can use in an application to understand where to provide highlighting in your UI and understand where the context before ends and the document part begins.","type":"string","example":"<em>"},"end_tag":{"description":"The tag that wraps the document part at the end. This is often used to provide a start HTML/XML tag or some other delimiter you can use in an application to understand where to provide highlighting in your UI and understand where the document part ends and the context after begins.","type":"string","example":"</em>"}},"example":{"sentences_before":2,"sentences_after":2,"start_tag":"<em>","end_tag":"</em>"},"title":"ContextConfiguration"},"reranker":{"type":"object","description":"Rerank results of the search. Rerankers are very powerful tools to improve the order of search results. By default the search will use the most powerful reranker available to the customer's plan. To disable reranking, set the reranker `type` to `\"none\"`.","discriminator":{"propertyName":"type","mapping":{"customer_reranker":{"description":"Reranker that is specific to the customer.","type":"object","properties":{"type":{"description":"When the type is `customer_reranker`, you can specify the `reranker_name` of a reranker. `reranker_id` is deprecated. The retrieval engine will then rerank results using that reranker.","type":"string","default":"customer_reranker"},"reranker_id":{"description":"The ID of the reranker. The multilingual reranker that may be specified is rnk_272725719. Do not specify the MMR reranker ID here, and instead, use the MMR reranker object type. **Deprecated**: Use `reranker_name` instead.","type":"string","pattern":"rnk_(?!272725718)\\d+","example":"rnk_272725719","deprecated":true},"reranker_name":{"description":"The name of the reranker. Do not specify the MMR reranker name here. Instead, use the MMR reranker object type.","type":"string","example":"Rerank_Multilingual_v1"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. When a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process. When a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm. 2. Applies the cutoff, removing any results with scores below the specified threshold. 3. Returns the remaining results, sorted by their new scores.\nNote: This cutoff is applied per reranking stage. In a chain of rerankers, each reranker can have its own cutoff, potentially further reducing the number of results at each stage. If both 'limit' and 'cutoff' are specified, the cutoff is applied first, followed by the limit.","format":"float"},"include_context":{"type":"boolean","default":true,"description":"If true, the reranker will use text with context (see \"context_configuration\") for scoring."}},"x-vectaraParents":["SearchReranker"],"title":"CustomerSpecificReranker"},"userfn":{"description":"A reranker that uses user-defined functions to reorder search results.","type":"object","properties":{"type":{"description":"When the type is `userfn`, you can define custom reranking functions using document-level metadata, part-level metadata, or scores generated from the request-level metadata.","type":"string","default":"userfn"},"user_function":{"description":"The user defined function.","type":"string","example":"get('$.score') * get('$.document_metadata.boost')"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. \nWhen a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process. When a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm. 2. Applies the cutoff, removing any results with scores below the specified threshold. 3. Returns the remaining results, sorted by their new scores.\nNote: This cutoff is applied per reranking stage. In a chain of rerankers, each reranker can have its own cutoff, potentially further reducing the number of results at each stage. If both 'limit' and 'cutoff' are specified, the cutoff is applied first, followed by the limit.","format":"float"}},"x-vectaraParents":["SearchReranker"],"title":"UserFunctionReranker"},"mmr":{"description":"A reranker that uses Maximal Marginal Relevance to balance relevance and diversity in search results.","type":"object","properties":{"type":{"description":"When the type is `mmr`, you can specify the `diversity_bias`, and the retrieval engine will use the MMR reranker.","type":"string","default":"mmr"},"diversity_bias":{"description":"The diversity bias. Higher values indicate more diversity.","type":"number","format":"float","example":0.3},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. \nWhen a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process. When a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm. 2. Applies the cutoff, removing any results with scores below the specified threshold. 3. Returns the remaining results, sorted by their new scores.\nNote: This cutoff is applied per reranking stage. In a chain of rerankers, each reranker can have its own cutoff, potentially further reducing the number of results at each stage. If both 'limit' and 'cutoff' are specified, the cutoff is applied first, followed by the limit.","format":"float"}},"x-vectaraParents":["SearchReranker"],"title":"MMRReranker"},"chain":{"description":"A reranker that applies multiple rerankers in sequence to produce the final search results.","type":"object","properties":{"type":{"description":"When the type is `chain`, you can then chain re-rankers together.","type":"string","default":"chain"},"rerankers":{"type":"array","description":"Specify an array of rerankers to apply to search results consecutively.","items":"circular(SearchReranker)","maxItems":50}},"required":["rerankers"],"x-vectaraParents":["SearchReranker"],"title":"ChainReranker"},"none":{"description":"A placeholder reranker that does not modify the original search results ordering.","type":"object","properties":{"type":{"description":"When the type is `none`, no reranking will be done.","type":"string","default":"none"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. When a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1}},"x-vectaraParents":["SearchReranker"],"title":"NoneReranker"}}},"oneOf":[{"description":"Reranker that is specific to the customer.","type":"object","properties":{"type":{"description":"When the type is `customer_reranker`, you can specify the `reranker_name` of a reranker. `reranker_id` is deprecated. The retrieval engine will then rerank results using that reranker.","type":"string","default":"customer_reranker"},"reranker_id":{"description":"The ID of the reranker. The multilingual reranker that may be specified is rnk_272725719. Do not specify the MMR reranker ID here, and instead, use the MMR reranker object type. **Deprecated**: Use `reranker_name` instead.","type":"string","pattern":"rnk_(?!272725718)\\d+","example":"rnk_272725719","deprecated":true},"reranker_name":{"description":"The name of the reranker. Do not specify the MMR reranker name here. Instead, use the MMR reranker object type.","type":"string","example":"Rerank_Multilingual_v1"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. When a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process. When a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm. 2. Applies the cutoff, removing any results with scores below the specified threshold. 3. Returns the remaining results, sorted by their new scores.\nNote: This cutoff is applied per reranking stage. In a chain of rerankers, each reranker can have its own cutoff, potentially further reducing the number of results at each stage. If both 'limit' and 'cutoff' are specified, the cutoff is applied first, followed by the limit.","format":"float"},"include_context":{"type":"boolean","default":true,"description":"If true, the reranker will use text with context (see \"context_configuration\") for scoring."}},"x-vectaraParents":["SearchReranker"],"title":"CustomerSpecificReranker"},{"description":"A reranker that uses user-defined functions to reorder search results.","type":"object","properties":{"type":{"description":"When the type is `userfn`, you can define custom reranking functions using document-level metadata, part-level metadata, or scores generated from the request-level metadata.","type":"string","default":"userfn"},"user_function":{"description":"The user defined function.","type":"string","example":"get('$.score') * get('$.document_metadata.boost')"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. \nWhen a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process. When a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm. 2. Applies the cutoff, removing any results with scores below the specified threshold. 3. Returns the remaining results, sorted by their new scores.\nNote: This cutoff is applied per reranking stage. In a chain of rerankers, each reranker can have its own cutoff, potentially further reducing the number of results at each stage. If both 'limit' and 'cutoff' are specified, the cutoff is applied first, followed by the limit.","format":"float"}},"x-vectaraParents":["SearchReranker"],"title":"UserFunctionReranker"},{"description":"A reranker that uses Maximal Marginal Relevance to balance relevance and diversity in search results.","type":"object","properties":{"type":{"description":"When the type is `mmr`, you can specify the `diversity_bias`, and the retrieval engine will use the MMR reranker.","type":"string","default":"mmr"},"diversity_bias":{"description":"The diversity bias. Higher values indicate more diversity.","type":"number","format":"float","example":0.3},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. \nWhen a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process. When a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm. 2. Applies the cutoff, removing any results with scores below the specified threshold. 3. Returns the remaining results, sorted by their new scores.\nNote: This cutoff is applied per reranking stage. In a chain of rerankers, each reranker can have its own cutoff, potentially further reducing the number of results at each stage. If both 'limit' and 'cutoff' are specified, the cutoff is applied first, followed by the limit.","format":"float"}},"x-vectaraParents":["SearchReranker"],"title":"MMRReranker"},{"description":"A reranker that applies multiple rerankers in sequence to produce the final search results.","type":"object","properties":{"type":{"description":"When the type is `chain`, you can then chain re-rankers together.","type":"string","default":"chain"},"rerankers":{"type":"array","description":"Specify an array of rerankers to apply to search results consecutively.","items":"circular(SearchReranker)","maxItems":50}},"required":["rerankers"],"x-vectaraParents":["SearchReranker"],"title":"ChainReranker"},{"description":"A placeholder reranker that does not modify the original search results ordering.","type":"object","properties":{"type":{"description":"When the type is `none`, no reranking will be done.","type":"string","default":"none"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. When a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1}},"x-vectaraParents":["SearchReranker"],"title":"NoneReranker"}],"title":"SearchReranker"}},"example":{"limit":50},"title":"SearchParameters"}],"required":["corpora"],"title":"SearchCorporaParameters"},"generation":{"description":"The parameters to control generation.","type":"object","properties":{"enabled":{"description":"Whether generation is enabled for this query. This field is ignored if using chat.","type":"boolean","default":true},"generation_preset_name":{"description":"The preset values to use to feed the query results and other context to the model.  \n\nA `generation_preset` is an object with a bundle of properties that specifies: \n* The `prompt_template` that is rendered and then sent to the LLM. \n* The LLM used. * `model_parameter`s such as temperature.\n\nAll of these properties except the model can be overridden by setting them in this object. Even when a `prompt_template` is set, the `generation_preset_name` is used to set the model used. See `model_parameters.model` if you want to set the model explicitly.\n\nIf `generation_preset_name` is not set, the Vectara platform will use the default model and prompt.'\n","type":"string","minLength":1,"example":"mockingbird-2.0"},"prompt_name":{"description":"Use `generation_preset_name` instead of `prompt_name`.","type":"string","minLength":1,"example":"mockingbird-2.0","deprecated":true},"max_used_search_results":{"description":"The maximum number of search results to be available to the prompt.","type":"integer","format":"int32","minimum":0,"default":5},"prompt_template":{"description":"Vectara manages both system and user roles and prompts for the generative LLM out of the box by default. However, users can override the `prompt_template` via this variable. The `prompt_template` is in the form of an Apache Velocity template. For more details on how to configure the `prompt_template`, see the [long-form documentation](https://docs.vectara.com/docs/prompts/vectara-prompt-engine).","type":"string","example":"[\n  {\"role\": \"system\", \"content\": \"You are a helpful search assistant.\"},\n  #foreach ($qResult in $vectaraQueryResults)\n     {\"role\": \"user\", \"content\": \"Given the $vectaraIdxWord[$foreach.index] search result.\"},\n     {\"role\": \"assistant\", \"content\": \"${qResult.getText()}\" },\n  #end\n  {\"role\": \"user\", \"content\": \"Generate a summary for the query '${vectaraQuery}' based on the above results.\"}\n]\n"},"prompt_text":{"description":"This property is deprecated in favor of clearer naming. Use `prompt_template`. This property will be ignored if `prompt_template` is set.","type":"string","example":"[\n  {\"role\": \"system\", \"content\": \"You are a helpful search assistant.\"},\n  #foreach ($qResult in $vectaraQueryResults)\n     {\"role\": \"user\", \"content\": \"Given the $vectaraIdxWord[$foreach.index] search result.\"},\n     {\"role\": \"assistant\", \"content\": \"${qResult.getText()}\" },\n  #end\n  {\"role\": \"user\", \"content\": \"Generate a summary for the query '${vectaraQuery}' based on the above results.\"}\n]\n","deprecated":true},"max_response_characters":{"description":"Controls the length of the generated output. This is a rough estimate and not a hard limit: the end output can be longer or shorter than this value. This is generally implemented by including the `max_response_characters` in the prompt, and the LLM's instruction following capability dictates how closely the generated output is limited.","type":"integer","format":"int32","example":300,"minimum":0},"response_language":{"description":"Languages that the Vectara platform supports.","type":"string","enum":["auto","eng","deu","fra","zho","kor","ara","rus","tha","nld","ita","por","spa","jpn","pol","tur","vie","ind","ces","ukr","ell","heb","fas","hin","urd","swe","ben","msa","ron"],"default":"auto","title":"Language"},"model_parameters":{"title":"ModelParameters","description":"The parameters for the model. WARNING: This is an experimental feature, and breakable at any point with virtually no notice. It is meant for experimentation to converge on optimal parameters that can then be set in the prompt definitions.","type":"object","properties":{"llm_name":{"description":"The model (e.g., `gpt-4`) to use for summarization. If specified, it will override the model behind `generation_preset_name`.","type":"string","example":"gpt4"},"max_tokens":{"description":"The maximum number of tokens to be returned by the model.","type":"integer","format":"int32","minimum":1},"temperature":{"description":"The sampling temperature to use. Higher values make the output more random, while lower values make it more focused and deterministic.","type":"number","format":"float"},"frequency_penalty":{"description":"Higher values penalize new tokens based on their existing frequency in the text so far, decreasing the model's likelihood to repeat the same line verbatim.","type":"number","format":"float"},"presence_penalty":{"description":"Higher values penalize new tokens based on whether they appear in the text so far, increasing the model's likelihood to talk about new topics.","type":"number","format":"float"}}},"citations":{"description":"Style the generator should use when making citations.","type":"object","properties":{"style":{"description":"The citation style to be used in summary. Can be one of: * `numeric` - Citations formatted as simple numerals: \\[1\\], \\[2\\] ... * `none` - Citations removed from text. * `html` - Citation formatted as a URL like `<a href=\"url_pattern\">text_pattern</a>`. * `markdown` - Formatted as `[text_pattern](url_pattern)`.","type":"string","enum":["none","numeric","html","markdown"]},"url_pattern":{"description":"The URL pattern if the citation_style is set to `html` or `markdown`. The pattern can access metadata attributes in the document or part. e.g. `https://my.doc/foo/{doc.id}/{part.id}` The default `url_pattern` is an empty string.","type":"string","example":"https://vectara.com/documents/{doc.id}"},"text_pattern":{"description":"The text pattern if the citation_style is set to `html` or `markdown`. This pattern sets the href for HTML or the text within `[]` in markdown, and defaults to N being the index of result if it is not set. The default citation style looks like `[N](<url_pattern>)` for markdown. You can use metadata attributes in the `text_pattern`. For example, the pattern `{doc.title}` with citation style `markdown` would result in final citation output like `[Title](<url_pattern>)` when the document's metadata includes `{\"title\":\"Title\"}`.","type":"string","example":"{doc.title}"}},"title":"CitationParameters"},"enable_factual_consistency_score":{"description":"Enable returning the factual consistency score with query results.","type":"boolean","default":true}},"title":"GenerationParameters"},"save_history":{"description":"Indicates whether to save the query to query history.","type":"boolean"}},"required":["search"],"title":"CorporaSearchQueryConfiguration"}},"required":["type","query_configuration"],"x-vectaraParents":["AgentToolConfiguration"]},"web_search":{"title":"InlineWebSearchToolConfiguration","description":"A web search tool configuration defined inline in the agent.","type":"object","properties":{"type":{"type":"string","description":"The type of tool configuration, which is always 'web_search' for inline web search tool configurations.","default":"web_search"},"argument_override":{"description":"Optional hardcoded arguments for the web search tool call such as limit etc. When specified, these values will be used instead of allowing the LLM to fill in those parameters.","type":"object","properties":{"query":{"description":"The search query to execute.","type":"string","example":"latest AI developments 2024"},"limit":{"description":"Maximum number of results to return.","type":"integer","minimum":1,"example":10},"provider":{"description":"Search provider to use.","type":"string","enum":["tavily"],"example":"tavily"}},"additionalProperties":false,"title":"WebSearchToolParameters"}},"required":["type"],"x-vectaraParents":["AgentToolConfiguration"]}}},"oneOf":[{"title":"InlineMcpToolConfiguration","description":"An MCP tool configuration defined inline in the agent.","type":"object","properties":{"type":{"type":"string","description":"The type of tool configuration, which is always 'mcp' for inline MCP tool configurations.","default":"mcp"},"tool_id":{"description":"Unique identifier for a tool.","type":"string","pattern":"^tol_.*","example":"tol_123e4567-e89b-12d3-a456-426614174000","title":"ToolId"},"argument_override":{"description":"Optional hardcoded arguments for tool calls. The key specifies the location in the tool arguments to overide, and the value specifies what to override with. The LLM will not be able to change the parameters, nor know those values exist within the tool.\n\nThe values can also be dynamic references to context values using $ref with dot notation path syntax:\n- Static value: \"fixed_value\" or 123\n- Dynamic reference: `{\"$ref\": \"session.metadata.field_name\"}`\n\nReferences are resolved at runtime from context:\n- session.metadata.* - Access session metadata fields\n- agent.metadata.* - Access agent metadata fields\n\nExample:\n  `{\"query\": {\"$ref\": \".session.metadata.query\"}}`\n\nIf you want to have a real value `\"$ref\"` use `\"$$ref\"`, that is you can escape the first $ by using $$.","type":"object","additionalProperties":true,"example":{"custom_param":"value","limit":10}}},"required":["tool_id","type"],"x-vectaraParents":["AgentToolConfiguration"]},{"title":"InlineCorporaSearchToolConfiguration","description":"A corpora search tool configuration defined inline in the agent.","type":"object","properties":{"type":{"type":"string","description":"The type of tool configuration, which is always 'corpora_search' for inline corpora search tool configurations.","default":"corpora_search"},"argument_override":{"description":"Optional hardcoded arguments for the corpus search call such as the query. When specified, these values will be used instead of allowing the LLM to fill in those parameters.","type":"object","properties":{"query":{"description":"The search query string, which is the question the user is asking. If not provided, will be filled in by the LLM.","type":"string","maxLength":5000,"example":"Am I allowed to bring pets to work?"}},"additionalProperties":false,"title":"CorporaSearchToolParameters"},"query_configuration":{"description":"User-configurable settings for the corpus search that are not exposed to the LLM.","type":"object","properties":{"search":{"description":"The parameters to search one or more corpora.","allOf":[{"type":"object","properties":{"corpora":{"description":"The corpora that you want to search.","type":"array","items":{"description":"A corpus with its identifying key for use in search operations within a customer account.","allOf":[{"description":"Configuration for search parameters specific to a single corpus within a customer account, including filters and semantics.","type":"object","properties":{"custom_dimensions":{"description":"The custom dimensions as additional weights.","type":"object","additionalProperties":{"type":"number","format":"double","nullable":false},"title":"CustomDimensions"},"metadata_filter":{"description":"The filter string used to narrow the search based on metadata attributes. The query against this corpus will be confined to document parts that match the `metadata_filter`. Only metadata fields set as `filter_attributes` on the corpus can be filtered. Filter syntax is similar to a SQL WHERE clause. See [metadata filters documentation](https://docs.vectara.com/docs/learn/metadata-search-filtering/filter-overview) for more information.","type":"string","maxLength":8000,"example":"doc.title = 'Annual Report'"},"lexical_interpolation":{"description":"How much to weigh lexical scores compared to the embedding score. 0 means lexical search is not used at all, and 1 means only lexical search is used.","type":"number","format":"float","minimum":0,"maximum":1,"example":0.005},"semantics":{"description":"Indicates whether to consider a query against this corpus as a query or a response.","type":"string","enum":["default","query","response"],"default":"default","title":"SearchSemantics"}},"title":"SearchCorpus"},{"type":"object","properties":{"corpus_key":{"description":"A user-provided key for a corpus.","type":"string","example":"my-corpus","pattern":"[a-zA-Z0-9_\\=\\-]+$","maxLength":50,"title":"CorpusKey"},"query":{"description":"Query for a particular corpus that will override the overall query if present.","type":"string","maxLength":5000,"example":"What are some important facts in my-corpus?"}}}],"required":["corpus_key"],"title":"KeyedSearchCorpus"},"minItems":1}}},{"type":"object","description":"Search parameters to retrieve knowledge for the query.","properties":{"offset":{"description":"Specifies how many results into the result to skip. This is useful for pagination.","type":"integer","format":"int32","default":0,"minimum":0},"limit":{"description":"The maximum number of results returned.","type":"integer","format":"int32","minimum":1,"default":10},"context_configuration":{"type":"object","description":"Configuration on the presentation of each document part in the result set. You can only use characters_before/after or sentences_before/after, but not both. If you specify both in the query, sentences_before/after takes precedence","properties":{"characters_before":{"description":"The number of characters that are shown before the matching document part. This is useful to show the context of the document part in the wider document. Ignored if `sentences_before` is set. Vectara will capture the full sentence that contains the captured characters, to not lose the meaning caused by a truncated word or sentence.","type":"integer","format":"int32"},"characters_after":{"description":"The number of characters that are shown after the matching document part. This is useful to show the context of the document part in the wider document. Ignored if `sentences_after` is set. Vectara will capture the full sentence that contains the captured characters, to not lose the meaning caused by a truncated word or sentence.","type":"integer","format":"int32"},"sentences_before":{"description":"The number of sentences that are shown before the matching document part. This is useful to show the context of the document part in the wider document.","type":"integer","format":"int32","default":0,"minimum":0,"example":2},"sentences_after":{"description":"The number of sentences that are shown after the matching document part. This is useful to show the context of the document part in the wider document.","type":"integer","format":"int32","default":0,"minimum":0,"example":2},"start_tag":{"description":"The tag that wraps the document part at the start. This is often used to provide a start HTML/XML tag or some other delimiter you can use in an application to understand where to provide highlighting in your UI and understand where the context before ends and the document part begins.","type":"string","example":"<em>"},"end_tag":{"description":"The tag that wraps the document part at the end. This is often used to provide a start HTML/XML tag or some other delimiter you can use in an application to understand where to provide highlighting in your UI and understand where the document part ends and the context after begins.","type":"string","example":"</em>"}},"example":{"sentences_before":2,"sentences_after":2,"start_tag":"<em>","end_tag":"</em>"},"title":"ContextConfiguration"},"reranker":{"type":"object","description":"Rerank results of the search. Rerankers are very powerful tools to improve the order of search results. By default the search will use the most powerful reranker available to the customer's plan. To disable reranking, set the reranker `type` to `\"none\"`.","discriminator":{"propertyName":"type","mapping":{"customer_reranker":{"description":"Reranker that is specific to the customer.","type":"object","properties":{"type":{"description":"When the type is `customer_reranker`, you can specify the `reranker_name` of a reranker. `reranker_id` is deprecated. The retrieval engine will then rerank results using that reranker.","type":"string","default":"customer_reranker"},"reranker_id":{"description":"The ID of the reranker. The multilingual reranker that may be specified is rnk_272725719. Do not specify the MMR reranker ID here, and instead, use the MMR reranker object type. **Deprecated**: Use `reranker_name` instead.","type":"string","pattern":"rnk_(?!272725718)\\d+","example":"rnk_272725719","deprecated":true},"reranker_name":{"description":"The name of the reranker. Do not specify the MMR reranker name here. Instead, use the MMR reranker object type.","type":"string","example":"Rerank_Multilingual_v1"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. When a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process. When a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm. 2. Applies the cutoff, removing any results with scores below the specified threshold. 3. Returns the remaining results, sorted by their new scores.\nNote: This cutoff is applied per reranking stage. In a chain of rerankers, each reranker can have its own cutoff, potentially further reducing the number of results at each stage. If both 'limit' and 'cutoff' are specified, the cutoff is applied first, followed by the limit.","format":"float"},"include_context":{"type":"boolean","default":true,"description":"If true, the reranker will use text with context (see \"context_configuration\") for scoring."}},"x-vectaraParents":["SearchReranker"],"title":"CustomerSpecificReranker"},"userfn":{"description":"A reranker that uses user-defined functions to reorder search results.","type":"object","properties":{"type":{"description":"When the type is `userfn`, you can define custom reranking functions using document-level metadata, part-level metadata, or scores generated from the request-level metadata.","type":"string","default":"userfn"},"user_function":{"description":"The user defined function.","type":"string","example":"get('$.score') * get('$.document_metadata.boost')"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. \nWhen a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process. When a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm. 2. Applies the cutoff, removing any results with scores below the specified threshold. 3. Returns the remaining results, sorted by their new scores.\nNote: This cutoff is applied per reranking stage. In a chain of rerankers, each reranker can have its own cutoff, potentially further reducing the number of results at each stage. If both 'limit' and 'cutoff' are specified, the cutoff is applied first, followed by the limit.","format":"float"}},"x-vectaraParents":["SearchReranker"],"title":"UserFunctionReranker"},"mmr":{"description":"A reranker that uses Maximal Marginal Relevance to balance relevance and diversity in search results.","type":"object","properties":{"type":{"description":"When the type is `mmr`, you can specify the `diversity_bias`, and the retrieval engine will use the MMR reranker.","type":"string","default":"mmr"},"diversity_bias":{"description":"The diversity bias. Higher values indicate more diversity.","type":"number","format":"float","example":0.3},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. \nWhen a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process. When a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm. 2. Applies the cutoff, removing any results with scores below the specified threshold. 3. Returns the remaining results, sorted by their new scores.\nNote: This cutoff is applied per reranking stage. In a chain of rerankers, each reranker can have its own cutoff, potentially further reducing the number of results at each stage. If both 'limit' and 'cutoff' are specified, the cutoff is applied first, followed by the limit.","format":"float"}},"x-vectaraParents":["SearchReranker"],"title":"MMRReranker"},"chain":{"description":"A reranker that applies multiple rerankers in sequence to produce the final search results.","type":"object","properties":{"type":{"description":"When the type is `chain`, you can then chain re-rankers together.","type":"string","default":"chain"},"rerankers":{"type":"array","description":"Specify an array of rerankers to apply to search results consecutively.","items":"circular(SearchReranker)","maxItems":50}},"required":["rerankers"],"x-vectaraParents":["SearchReranker"],"title":"ChainReranker"},"none":{"description":"A placeholder reranker that does not modify the original search results ordering.","type":"object","properties":{"type":{"description":"When the type is `none`, no reranking will be done.","type":"string","default":"none"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. When a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1}},"x-vectaraParents":["SearchReranker"],"title":"NoneReranker"}}},"oneOf":[{"description":"Reranker that is specific to the customer.","type":"object","properties":{"type":{"description":"When the type is `customer_reranker`, you can specify the `reranker_name` of a reranker. `reranker_id` is deprecated. The retrieval engine will then rerank results using that reranker.","type":"string","default":"customer_reranker"},"reranker_id":{"description":"The ID of the reranker. The multilingual reranker that may be specified is rnk_272725719. Do not specify the MMR reranker ID here, and instead, use the MMR reranker object type. **Deprecated**: Use `reranker_name` instead.","type":"string","pattern":"rnk_(?!272725718)\\d+","example":"rnk_272725719","deprecated":true},"reranker_name":{"description":"The name of the reranker. Do not specify the MMR reranker name here. Instead, use the MMR reranker object type.","type":"string","example":"Rerank_Multilingual_v1"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. When a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process. When a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm. 2. Applies the cutoff, removing any results with scores below the specified threshold. 3. Returns the remaining results, sorted by their new scores.\nNote: This cutoff is applied per reranking stage. In a chain of rerankers, each reranker can have its own cutoff, potentially further reducing the number of results at each stage. If both 'limit' and 'cutoff' are specified, the cutoff is applied first, followed by the limit.","format":"float"},"include_context":{"type":"boolean","default":true,"description":"If true, the reranker will use text with context (see \"context_configuration\") for scoring."}},"x-vectaraParents":["SearchReranker"],"title":"CustomerSpecificReranker"},{"description":"A reranker that uses user-defined functions to reorder search results.","type":"object","properties":{"type":{"description":"When the type is `userfn`, you can define custom reranking functions using document-level metadata, part-level metadata, or scores generated from the request-level metadata.","type":"string","default":"userfn"},"user_function":{"description":"The user defined function.","type":"string","example":"get('$.score') * get('$.document_metadata.boost')"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. \nWhen a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process. When a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm. 2. Applies the cutoff, removing any results with scores below the specified threshold. 3. Returns the remaining results, sorted by their new scores.\nNote: This cutoff is applied per reranking stage. In a chain of rerankers, each reranker can have its own cutoff, potentially further reducing the number of results at each stage. If both 'limit' and 'cutoff' are specified, the cutoff is applied first, followed by the limit.","format":"float"}},"x-vectaraParents":["SearchReranker"],"title":"UserFunctionReranker"},{"description":"A reranker that uses Maximal Marginal Relevance to balance relevance and diversity in search results.","type":"object","properties":{"type":{"description":"When the type is `mmr`, you can specify the `diversity_bias`, and the retrieval engine will use the MMR reranker.","type":"string","default":"mmr"},"diversity_bias":{"description":"The diversity bias. Higher values indicate more diversity.","type":"number","format":"float","example":0.3},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. \nWhen a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process. When a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm. 2. Applies the cutoff, removing any results with scores below the specified threshold. 3. Returns the remaining results, sorted by their new scores.\nNote: This cutoff is applied per reranking stage. In a chain of rerankers, each reranker can have its own cutoff, potentially further reducing the number of results at each stage. If both 'limit' and 'cutoff' are specified, the cutoff is applied first, followed by the limit.","format":"float"}},"x-vectaraParents":["SearchReranker"],"title":"MMRReranker"},{"description":"A reranker that applies multiple rerankers in sequence to produce the final search results.","type":"object","properties":{"type":{"description":"When the type is `chain`, you can then chain re-rankers together.","type":"string","default":"chain"},"rerankers":{"type":"array","description":"Specify an array of rerankers to apply to search results consecutively.","items":"circular(SearchReranker)","maxItems":50}},"required":["rerankers"],"x-vectaraParents":["SearchReranker"],"title":"ChainReranker"},{"description":"A placeholder reranker that does not modify the original search results ordering.","type":"object","properties":{"type":{"description":"When the type is `none`, no reranking will be done.","type":"string","default":"none"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. When a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\nNote: This limit is applied per reranking stage. In a chain of rerankers, each reranker can have its own limit, potentially reducing the number of results at each stage.","format":"int32","minimum":1}},"x-vectaraParents":["SearchReranker"],"title":"NoneReranker"}],"title":"SearchReranker"}},"example":{"limit":50},"title":"SearchParameters"}],"required":["corpora"],"title":"SearchCorporaParameters"},"generation":{"description":"The parameters to control generation.","type":"object","properties":{"enabled":{"description":"Whether generation is enabled for this query. This field is ignored if using chat.","type":"boolean","default":true},"generation_preset_name":{"description":"The preset values to use to feed the query results and other context to the model.  \n\nA `generation_preset` is an object with a bundle of properties that specifies: \n* The `prompt_template` that is rendered and then sent to the LLM. \n* The LLM used. * `model_parameter`s such as temperature.\n\nAll of these properties except the model can be overridden by setting them in this object. Even when a `prompt_template` is set, the `generation_preset_name` is used to set the model used. See `model_parameters.model` if you want to set the model explicitly.\n\nIf `generation_preset_name` is not set, the Vectara platform will use the default model and prompt.'\n","type":"string","minLength":1,"example":"mockingbird-2.0"},"prompt_name":{"description":"Use `generation_preset_name` instead of `prompt_name`.","type":"string","minLength":1,"example":"mockingbird-2.0","deprecated":true},"max_used_search_results":{"description":"The maximum number of search results to be available to the prompt.","type":"integer","format":"int32","minimum":0,"default":5},"prompt_template":{"description":"Vectara manages both system and user roles and prompts for the generative LLM out of the box by default. However, users can override the `prompt_template` via this variable. The `prompt_template` is in the form of an Apache Velocity template. For more details on how to configure the `prompt_template`, see the [long-form documentation](https://docs.vectara.com/docs/prompts/vectara-prompt-engine).","type":"string","example":"[\n  {\"role\": \"system\", \"content\": \"You are a helpful search assistant.\"},\n  #foreach ($qResult in $vectaraQueryResults)\n     {\"role\": \"user\", \"content\": \"Given the $vectaraIdxWord[$foreach.index] search result.\"},\n     {\"role\": \"assistant\", \"content\": \"${qResult.getText()}\" },\n  #end\n  {\"role\": \"user\", \"content\": \"Generate a summary for the query '${vectaraQuery}' based on the above results.\"}\n]\n"},"prompt_text":{"description":"This property is deprecated in favor of clearer naming. Use `prompt_template`. This property will be ignored if `prompt_template` is set.","type":"string","example":"[\n  {\"role\": \"system\", \"content\": \"You are a helpful search assistant.\"},\n  #foreach ($qResult in $vectaraQueryResults)\n     {\"role\": \"user\", \"content\": \"Given the $vectaraIdxWord[$foreach.index] search result.\"},\n     {\"role\": \"assistant\", \"content\": \"${qResult.getText()}\" },\n  #end\n  {\"role\": \"user\", \"content\": \"Generate a summary for the query '${vectaraQuery}' based on the above results.\"}\n]\n","deprecated":true},"max_response_characters":{"description":"Controls the length of the generated output. This is a rough estimate and not a hard limit: the end output can be longer or shorter than this value. This is generally implemented by including the `max_response_characters` in the prompt, and the LLM's instruction following capability dictates how closely the generated output is limited.","type":"integer","format":"int32","example":300,"minimum":0},"response_language":{"description":"Languages that the Vectara platform supports.","type":"string","enum":["auto","eng","deu","fra","zho","kor","ara","rus","tha","nld","ita","por","spa","jpn","pol","tur","vie","ind","ces","ukr","ell","heb","fas","hin","urd","swe","ben","msa","ron"],"default":"auto","title":"Language"},"model_parameters":{"title":"ModelParameters","description":"The parameters for the model. WARNING: This is an experimental feature, and breakable at any point with virtually no notice. It is meant for experimentation to converge on optimal parameters that can then be set in the prompt definitions.","type":"object","properties":{"llm_name":{"description":"The model (e.g., `gpt-4`) to use for summarization. If specified, it will override the model behind `generation_preset_name`.","type":"string","example":"gpt4"},"max_tokens":{"description":"The maximum number of tokens to be returned by the model.","type":"integer","format":"int32","minimum":1},"temperature":{"description":"The sampling temperature to use. Higher values make the output more random, while lower values make it more focused and deterministic.","type":"number","format":"float"},"frequency_penalty":{"description":"Higher values penalize new tokens based on their existing frequency in the text so far, decreasing the model's likelihood to repeat the same line verbatim.","type":"number","format":"float"},"presence_penalty":{"description":"Higher values penalize new tokens based on whether they appear in the text so far, increasing the model's likelihood to talk about new topics.","type":"number","format":"float"}}},"citations":{"description":"Style the generator should use when making citations.","type":"object","properties":{"style":{"description":"The citation style to be used in summary. Can be one of: * `numeric` - Citations formatted as simple numerals: \\[1\\], \\[2\\] ... * `none` - Citations removed from text. * `html` - Citation formatted as a URL like `<a href=\"url_pattern\">text_pattern</a>`. * `markdown` - Formatted as `[text_pattern](url_pattern)`.","type":"string","enum":["none","numeric","html","markdown"]},"url_pattern":{"description":"The URL pattern if the citation_style is set to `html` or `markdown`. The pattern can access metadata attributes in the document or part. e.g. `https://my.doc/foo/{doc.id}/{part.id}` The default `url_pattern` is an empty string.","type":"string","example":"https://vectara.com/documents/{doc.id}"},"text_pattern":{"description":"The text pattern if the citation_style is set to `html` or `markdown`. This pattern sets the href for HTML or the text within `[]` in markdown, and defaults to N being the index of result if it is not set. The default citation style looks like `[N](<url_pattern>)` for markdown. You can use metadata attributes in the `text_pattern`. For example, the pattern `{doc.title}` with citation style `markdown` would result in final citation output like `[Title](<url_pattern>)` when the document's metadata includes `{\"title\":\"Title\"}`.","type":"string","example":"{doc.title}"}},"title":"CitationParameters"},"enable_factual_consistency_score":{"description":"Enable returning the factual consistency score with query results.","type":"boolean","default":true}},"title":"GenerationParameters"},"save_history":{"description":"Indicates whether to save the query to query history.","type":"boolean"}},"required":["search"],"title":"CorporaSearchQueryConfiguration"}},"required":["type","query_configuration"],"x-vectaraParents":["AgentToolConfiguration"]},{"title":"InlineWebSearchToolConfiguration","description":"A web search tool configuration defined inline in the agent.","type":"object","properties":{"type":{"type":"string","description":"The type of tool configuration, which is always 'web_search' for inline web search tool configurations.","default":"web_search"},"argument_override":{"description":"Optional hardcoded arguments for the web search tool call such as limit etc. When specified, these values will be used instead of allowing the LLM to fill in those parameters.","type":"object","properties":{"query":{"description":"The search query to execute.","type":"string","example":"latest AI developments 2024"},"limit":{"description":"Maximum number of results to return.","type":"integer","minimum":1,"example":10},"provider":{"description":"Search provider to use.","type":"string","enum":["tavily"],"example":"tavily"}},"additionalProperties":false,"title":"WebSearchToolParameters"}},"required":["type"],"x-vectaraParents":["AgentToolConfiguration"]}],"example":[{"type":"web_search","argument_override":{"limit":5}}]},"example":{"customer_search":{"type":"corpora_search","argument_override":{"query":"customer support documentation"}}}},"model":{"title":"AgentModel","description":"Configuration for the model used in this step, including the model name and arbitrary parameters.","type":"object","properties":{"name":{"description":"The name of the model to use for this step.","type":"string","example":"gpt-4"},"parameters":{"description":"Arbitrary model-specific parameters that can be passed to the model.","type":"object","additionalProperties":true,"example":{"temperature":0.7,"max_tokens":1000,"top_p":0.9}},"retry_configuration":{"description":"Optional retry configuration for handling transient failures. When not provided, no retry is performed.","title":"RetryConfiguration","type":"object","properties":{"enabled":{"description":"Whether retry is enabled. Enabled by default to provide resilience against transient failures.","type":"boolean","default":true,"example":true},"max_retries":{"description":"Maximum number of retry attempts after initial failure.","type":"integer","minimum":0,"maximum":10,"default":3,"example":3},"initial_backoff_ms":{"description":"Initial backoff time in milliseconds before first retry.","type":"integer","minimum":100,"maximum":60000,"default":1000,"example":1000},"max_backoff_ms":{"description":"Maximum backoff time in milliseconds between retries.","type":"integer","minimum":1000,"maximum":300000,"default":30000,"example":30000},"backoff_factor":{"description":"Multiplication factor for exponential backoff between retries.","type":"number","format":"double","minimum":1,"maximum":10,"default":2,"example":2}}}},"required":["name"]},"first_step":{"title":"AgentStep","description":"A step in an agent's execution flow that defines how the agent processes and responds to input.","discriminator":{"propertyName":"type","mapping":{"conversational":{"title":"ConversationalAgentStep","description":"A step that receives instructions and responds through dialogue. This is a step that gets instructions and engages in conversation with users based on those instructions. This only type step supported, with no way to go next steps. A conversational step responds to an input following its instructions and uses the agent tools. The first response from the model will terminate processing the input.","type":"object","properties":{"type":{"description":"The type of step, which is always 'conversational' for this step type.","type":"string","default":"conversational","example":"conversational"},"instructions":{"description":"List of instructions that guide the agent's behavior in this step. If no instructions are given, the agent is instructed to be helpful and use tools.","type":"array","items":{"title":"AgentStepInstruction","description":"An instruction that can be used in an agent step, either by reference or defined inline.","discriminator":{"propertyName":"type","mapping":{"reference":{"title":"ReferenceInstruction","description":"An instruction specified by reference.","allOf":[{"description":"A reference to an instruction that can be used by an agent. If version is not specified, the latest version will be used. Note that when the instruction is updated, agents using it will need to be updated to reference the new version explicitly.","type":"object","properties":{"id":{"description":"The unique identifier for an instruction.","type":"string","pattern":"ins_[0-9a-zA-Z_-]+$","example":"ins_customer_support_init","title":"InstructionId"},"version":{"description":"The specific version of the instruction to use. If not specified, the latest version will be used.","type":"integer","minimum":1,"example":1}},"required":["id"],"title":"InstructionReference"},{"type":"object","properties":{"type":{"type":"string","description":"The type of instruction, used for discrimination.","default":"reference"}},"required":["type"]}],"x-vectaraParents":["AgentStepInstruction"]},"inline":{"title":"InlineInstruction","description":"An instruction defined inline in the request.","allOf":[{"description":"Request object for creating a new initial instruction.","type":"object","properties":{"type":{"description":"The type of instruction to create.","type":"string","default":"initial","example":"initial"},"name":{"description":"The human-readable name of an instruction.","type":"string","minLength":1,"maxLength":50,"example":"Customer Support Initial Instruction","title":"InstructionName"},"description":{"description":"A detailed description of what this instruction does.","type":"string","example":"Provides initial context and guidelines for customer support interactions"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are a helpful customer support agent for Acme Corp. Today's date is ${currentDate}. You have access to the following tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"},"metadata":{"description":"Arbitrary metadata associated with the instruction.","type":"object","additionalProperties":true,"default":{},"example":{"version":"1.0.0","author":"support-team"}},"enabled":{"description":"Whether the instruction should be enabled upon creation.","type":"boolean","default":true,"example":true}},"required":["type","name","template"],"x-vectaraParents":["CreateInstructionRequest"],"title":"CreateInitialInstructionRequest"},{"type":"object","properties":{"type":{"type":"string","description":"The type of instruction, used for discrimination.","default":"inline"}},"required":["type"]}],"x-vectaraParents":["AgentStepInstruction"]}}},"oneOf":[{"title":"ReferenceInstruction","description":"An instruction specified by reference.","allOf":[{"description":"A reference to an instruction that can be used by an agent. If version is not specified, the latest version will be used. Note that when the instruction is updated, agents using it will need to be updated to reference the new version explicitly.","type":"object","properties":{"id":{"description":"The unique identifier for an instruction.","type":"string","pattern":"ins_[0-9a-zA-Z_-]+$","example":"ins_customer_support_init","title":"InstructionId"},"version":{"description":"The specific version of the instruction to use. If not specified, the latest version will be used.","type":"integer","minimum":1,"example":1}},"required":["id"],"title":"InstructionReference"},{"type":"object","properties":{"type":{"type":"string","description":"The type of instruction, used for discrimination.","default":"reference"}},"required":["type"]}],"x-vectaraParents":["AgentStepInstruction"]},{"title":"InlineInstruction","description":"An instruction defined inline in the request.","allOf":[{"description":"Request object for creating a new initial instruction.","type":"object","properties":{"type":{"description":"The type of instruction to create.","type":"string","default":"initial","example":"initial"},"name":{"description":"The human-readable name of an instruction.","type":"string","minLength":1,"maxLength":50,"example":"Customer Support Initial Instruction","title":"InstructionName"},"description":{"description":"A detailed description of what this instruction does.","type":"string","example":"Provides initial context and guidelines for customer support interactions"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are a helpful customer support agent for Acme Corp. Today's date is ${currentDate}. You have access to the following tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"},"metadata":{"description":"Arbitrary metadata associated with the instruction.","type":"object","additionalProperties":true,"default":{},"example":{"version":"1.0.0","author":"support-team"}},"enabled":{"description":"Whether the instruction should be enabled upon creation.","type":"boolean","default":true,"example":true}},"required":["type","name","template"],"x-vectaraParents":["CreateInstructionRequest"],"title":"CreateInitialInstructionRequest"},{"type":"object","properties":{"type":{"type":"string","description":"The type of instruction, used for discrimination.","default":"inline"}},"required":["type"]}],"x-vectaraParents":["AgentStepInstruction"]}],"example":[{"type":"reference","name":"Customer Support Initial Instruction","version":1},{"type":"inline","name":"Temporary On-the-fly Guideline","description":"A special instruction for this specific step only.","template_type":"velocity","template":"Please prioritize issues tagged with 'urgent' for the next hour."}]}},"output_parser":{"title":"AgentOutputParser","description":"Configuration for how the agent's output should be parsed and formatted.\n\nThe output parser determines how the agent's responses are processed before being returned to the user.\n","discriminator":{"propertyName":"type","mapping":{"default":{"title":"DefaultOutputParser","description":"Uses native tool calling capabilities and returns output directly to the user. This parser leverages the underlying model's built-in tool calling functionality and passes responses through without additional processing.","type":"object","properties":{"type":{"description":"The type of output parser, which is always 'default' for this parser type.","type":"string","default":"default","example":"default"}},"required":["type"],"x-vectaraParents":["AgentOutputParser"]}}},"oneOf":[{"title":"DefaultOutputParser","description":"Uses native tool calling capabilities and returns output directly to the user. This parser leverages the underlying model's built-in tool calling functionality and passes responses through without additional processing.","type":"object","properties":{"type":{"description":"The type of output parser, which is always 'default' for this parser type.","type":"string","default":"default","example":"default"}},"required":["type"],"x-vectaraParents":["AgentOutputParser"]}]}},"required":["type","instructions","output_parser"],"x-vectaraParents":["AgentStep"]}}},"oneOf":[{"title":"ConversationalAgentStep","description":"A step that receives instructions and responds through dialogue. This is a step that gets instructions and engages in conversation with users based on those instructions. This only type step supported, with no way to go next steps. A conversational step responds to an input following its instructions and uses the agent tools. The first response from the model will terminate processing the input.","type":"object","properties":{"type":{"description":"The type of step, which is always 'conversational' for this step type.","type":"string","default":"conversational","example":"conversational"},"instructions":{"description":"List of instructions that guide the agent's behavior in this step. If no instructions are given, the agent is instructed to be helpful and use tools.","type":"array","items":{"title":"AgentStepInstruction","description":"An instruction that can be used in an agent step, either by reference or defined inline.","discriminator":{"propertyName":"type","mapping":{"reference":{"title":"ReferenceInstruction","description":"An instruction specified by reference.","allOf":[{"description":"A reference to an instruction that can be used by an agent. If version is not specified, the latest version will be used. Note that when the instruction is updated, agents using it will need to be updated to reference the new version explicitly.","type":"object","properties":{"id":{"description":"The unique identifier for an instruction.","type":"string","pattern":"ins_[0-9a-zA-Z_-]+$","example":"ins_customer_support_init","title":"InstructionId"},"version":{"description":"The specific version of the instruction to use. If not specified, the latest version will be used.","type":"integer","minimum":1,"example":1}},"required":["id"],"title":"InstructionReference"},{"type":"object","properties":{"type":{"type":"string","description":"The type of instruction, used for discrimination.","default":"reference"}},"required":["type"]}],"x-vectaraParents":["AgentStepInstruction"]},"inline":{"title":"InlineInstruction","description":"An instruction defined inline in the request.","allOf":[{"description":"Request object for creating a new initial instruction.","type":"object","properties":{"type":{"description":"The type of instruction to create.","type":"string","default":"initial","example":"initial"},"name":{"description":"The human-readable name of an instruction.","type":"string","minLength":1,"maxLength":50,"example":"Customer Support Initial Instruction","title":"InstructionName"},"description":{"description":"A detailed description of what this instruction does.","type":"string","example":"Provides initial context and guidelines for customer support interactions"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are a helpful customer support agent for Acme Corp. Today's date is ${currentDate}. You have access to the following tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"},"metadata":{"description":"Arbitrary metadata associated with the instruction.","type":"object","additionalProperties":true,"default":{},"example":{"version":"1.0.0","author":"support-team"}},"enabled":{"description":"Whether the instruction should be enabled upon creation.","type":"boolean","default":true,"example":true}},"required":["type","name","template"],"x-vectaraParents":["CreateInstructionRequest"],"title":"CreateInitialInstructionRequest"},{"type":"object","properties":{"type":{"type":"string","description":"The type of instruction, used for discrimination.","default":"inline"}},"required":["type"]}],"x-vectaraParents":["AgentStepInstruction"]}}},"oneOf":[{"title":"ReferenceInstruction","description":"An instruction specified by reference.","allOf":[{"description":"A reference to an instruction that can be used by an agent. If version is not specified, the latest version will be used. Note that when the instruction is updated, agents using it will need to be updated to reference the new version explicitly.","type":"object","properties":{"id":{"description":"The unique identifier for an instruction.","type":"string","pattern":"ins_[0-9a-zA-Z_-]+$","example":"ins_customer_support_init","title":"InstructionId"},"version":{"description":"The specific version of the instruction to use. If not specified, the latest version will be used.","type":"integer","minimum":1,"example":1}},"required":["id"],"title":"InstructionReference"},{"type":"object","properties":{"type":{"type":"string","description":"The type of instruction, used for discrimination.","default":"reference"}},"required":["type"]}],"x-vectaraParents":["AgentStepInstruction"]},{"title":"InlineInstruction","description":"An instruction defined inline in the request.","allOf":[{"description":"Request object for creating a new initial instruction.","type":"object","properties":{"type":{"description":"The type of instruction to create.","type":"string","default":"initial","example":"initial"},"name":{"description":"The human-readable name of an instruction.","type":"string","minLength":1,"maxLength":50,"example":"Customer Support Initial Instruction","title":"InstructionName"},"description":{"description":"A detailed description of what this instruction does.","type":"string","example":"Provides initial context and guidelines for customer support interactions"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are a helpful customer support agent for Acme Corp. Today's date is ${currentDate}. You have access to the following tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"},"metadata":{"description":"Arbitrary metadata associated with the instruction.","type":"object","additionalProperties":true,"default":{},"example":{"version":"1.0.0","author":"support-team"}},"enabled":{"description":"Whether the instruction should be enabled upon creation.","type":"boolean","default":true,"example":true}},"required":["type","name","template"],"x-vectaraParents":["CreateInstructionRequest"],"title":"CreateInitialInstructionRequest"},{"type":"object","properties":{"type":{"type":"string","description":"The type of instruction, used for discrimination.","default":"inline"}},"required":["type"]}],"x-vectaraParents":["AgentStepInstruction"]}],"example":[{"type":"reference","name":"Customer Support Initial Instruction","version":1},{"type":"inline","name":"Temporary On-the-fly Guideline","description":"A special instruction for this specific step only.","template_type":"velocity","template":"Please prioritize issues tagged with 'urgent' for the next hour."}]}},"output_parser":{"title":"AgentOutputParser","description":"Configuration for how the agent's output should be parsed and formatted.\n\nThe output parser determines how the agent's responses are processed before being returned to the user.\n","discriminator":{"propertyName":"type","mapping":{"default":{"title":"DefaultOutputParser","description":"Uses native tool calling capabilities and returns output directly to the user. This parser leverages the underlying model's built-in tool calling functionality and passes responses through without additional processing.","type":"object","properties":{"type":{"description":"The type of output parser, which is always 'default' for this parser type.","type":"string","default":"default","example":"default"}},"required":["type"],"x-vectaraParents":["AgentOutputParser"]}}},"oneOf":[{"title":"DefaultOutputParser","description":"Uses native tool calling capabilities and returns output directly to the user. This parser leverages the underlying model's built-in tool calling functionality and passes responses through without additional processing.","type":"object","properties":{"type":{"description":"The type of output parser, which is always 'default' for this parser type.","type":"string","default":"default","example":"default"}},"required":["type"],"x-vectaraParents":["AgentOutputParser"]}]}},"required":["type","instructions","output_parser"],"x-vectaraParents":["AgentStep"]}]},"metadata":{"description":"Arbitrary metadata associated with the agent for customization and configuration.","type":"object","additionalProperties":true,"example":{"department":"customer_service","version":"1.2.0","owner":"support-team"}},"enabled":{"description":"Whether the agent is currently enabled and available for use.","type":"boolean","default":true,"example":true},"created_at":{"description":"Timestamp when the agent was created.","type":"string","format":"date-time","example":"2024-01-15T10:30:00Z"},"updated_at":{"description":"Timestamp when the agent was last updated.","type":"string","format":"date-time","example":"2024-01-16T14:45:00Z"}},"required":["key","name","tool_configurations","model","first_step","enabled"],"title":"Agent"}}}},"400":{"description":"Agent creation request was malformed or contains invalid references.","content":{"application/json":{"schema":{"description":"Error returned when a request contains invalid parameters or violates schema validation.","type":"object","properties":{"field_errors":{"description":"The errors that relate to specific fields in the request.","type":"object","additionalProperties":{"type":"string"}},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"BadRequestError"}}}},"403":{"description":"Permissions do not allow creating agents.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}}}}
>
  
</StatusCodes>


      
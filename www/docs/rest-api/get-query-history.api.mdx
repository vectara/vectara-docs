---
id: get-query-history
title: "Get a query history"
description: "Retrieve a detailed history of previously executed query."
sidebar_label: "Get a query history"
hide_title: true
hide_table_of_contents: true
api: eJztPYty20aSvzKHc5UsL0nJTrJ7q8tmT+tHrFrb8crK5fZEFTkEhiQiEMBiAFKMSv9+/ZgBBiRASraT3VxQqXIoYB7dPT39HPTcermcae/k0vtbobK1eB3qPMnW3lXPC5T2szDNwyT2TrxzlWehWiohRaByGUYqEHNuLJKpSDO1DJNCR2uhbpRf5PD6HzjiwOt5SaoyieOcBTDSTOU0l52q56UykwuVqwwBufVCnG+uZKAyeBnDK5ofhtN5/yJcqKTIvU34LuZKnL4/E6swisRCXiOgE+gg1HSaZLnIE+EnizSCaUQObTMeT4Qx/alT5YfTEKDWyk/iQIskEznMJWAyxEH7c7WQ3smtl69TBCiMczUjCBdhHC6KhXfy9K7n4bhhpgDRqYy0uuvdD5/+W4A71D8fWgsa/1NwQ1QM8LSyozCABoRcKvN5I+hnL5A5EBLqYjnGc+mUZ4VqgEEDv8Uz7+7uChvrNIm10vj+2fEx/m97stoUiBcgm6s4x9YyTaPQJyY8+lFjl1tnyvpYpxVJMyBYFiAOsp3Fe0BtPyoCALe2BhVbCxkHwiKBkBkck8mPykdeTjPcI3nIGAJhGxFsoaYzoCVaj5doexje5UmskAcWSaYA1yxNMrkfqpYRETCtZObPDVQMQ0+s5iE8C7UFWGMH+qPQKsMXUl9Dy23we566kbgCuBgLcSZkFCUrIDdw+wRbiFTlGv9aJdn1nxFdhqAZOmcdoIuBtYUEMNN3U5JCu4lhujRPaF4CrjIX66QQKxnn1dwOwjLLJO6GMFcL3cyJWVpo2P45kBJwDgNg6HC6RiJcq7UAIYDkxP1uEbPClnvBCyn8AhhlAUSXvp8UcV7HtD7n8ySehrOCx6DxzcAOGY1Y8REnKTQAEykX1MZJ3W0yDaNyX2jYhICTr/ezIA85CkB2xRpRbKE/NRNVM+A0IYMgxDYyEisVzuZ543xVq/e1mU27uFhMSC4CXRYSJIsXJMUEGBXkehFFEn9awe/lYU4s/JzAeVEBDe+AkDKQuRwxJZrx4HdmQ+Ey0w6IgWmSFYt3XpmJxFewWnZUIXPoMwERpQeiEo1yJsMYBBMskB7G5XqBZpng8sG6xzxFkPgFQEsiDDca8jGgC1PhrOMN4McD8V0MUrGcHRROFMAMWuVI+TE3G1VAjYWRBAYGX8YIArdTwUC8Mpiv41zeoKjQISgwCWorGcZSfPjbG/HD65fnL4UfSaDLQHxQSlw6ADB7WTyIl68ez/M81SdHR/BYD5aw4MDRA5D19OAoAmLGR3aMPtO2z0MB/Y/4Vz9ZqmwZqtXhMJ5aARLGzA8wy2AY75RnMNWAGEP8SRw8n8ssSvJcHRxo8YOaHCBrROoGNFU0QiUMciSSzBGbDPIaeGBR4JIkzNDCdBQaqKo0KTGZ8YIirRWwbkC7jxoMxDGsmITNUfZjbgJqx0nO7AbrDnKiR/v0qWme4Fpv98H2zo7a3inTKJG5a1Icw295Y8wLh0bHg+NnX5FMN4JhG/mzOEBtDliu5gqQy9gQgv0VoMBp4HfLaigJzOsEWzZo5WrVYgTtEuaeyiJC2FkHVgYJ28n89sRpZ7f+ByLPhxKRu7vNd88JLA+Nq/0ap9AjEPpNegJVah86LIEAQakZpMF6t4pdrPvcjExx4MYMx7yU/Z9O+/973P/jaDj803DYv/rdI49W7I2KZ2DvnXx17Mg4GuCvANw+24PhQsES+gVuabMwJGRIGOEOywAP4lr8A1jQLFlInoZWrMI2LUU2Fa1deemS7KoCFYBUwQbxkSnPWAeDodu0GHVUPmypROC/zLpI13GyAv9opgjZ0l4bbK1pMp2CjNym1Adjtmsxx10u4zXyKbAWGACx2c78gKyK6zBFMQ9MzvtwWkQ0cypnYcxSqaJWZduXOxMeffHMczj52N2lKJJA+jaAiZrF7GDB+x3tUwspkKPI4ppQ2DF35Wg4cDzFycmKv8lHvmuYODq5ZYnqdozRN4Z5zLOpUBJWsabtrOdkyAvLs71sPoht6eOyjyYKMFHNpKlIUnVgNgexLDQsLWo97E8zkoJF8VyDB/TJxsriis+NAWBoY92CRkxWJBPtKxjvbBYnqBdgM42RGir2lcVkTMpWYbP/ZgXJe9KXKawmAwpAoODnjowQwoGyloHitoGDdm+IbItqJUq0QReUCWLrS9I0ExDXAlzBGMV6gIZ9IMj25GlqavXBLOxIuy+IpaoFlNNW8+s+60fddy2f+KXWjyD5bSzfJtPuW76y/b/C7vtMdKiR4V5M3EqFfwYPf0YqAJfno1zOmvGHF8a0yGSqGyCUObtSOWFq8UyAJnHpcg1jY1qht4sNxeuLt2+O/uftGxofGT3BcBpZooEidQm/0PVH18Y46PALnJcqEIUjFzEQBoYE+xosWeTFRNi55mDUR+ip4opAfxguE9+fkTE+jLd7OmthGFthsA9bbKM9UWAb6H3eytdq8Q2aRzDQp5MYBukIvEngI6KwGy3gGWrmi0eB5UzG17zNd1s+59SytMPMvjSxJ3FuxtEkAZZoVafJSmW8rZOITNlwgTQyFngWWAFCRq8ZFzD7y1qYLepGI0jhFFZNJBgIteNbHIRcypCiJdY5tcEi8IPTSKIXfZGIINTUhrtRUBFDCmyemZHGSIsxDjMeenESq6E3ZqJDbyDKAi3ghKhmjLj1Ow5iExHRoUlTXJUyvKSykUvrJtqSuASuDuuhMBeR/cEsfrs5wQ9zxSITX+ME4y2oxr2S8Xn2NYdl7PsRRunHHLS2zwbO6zAgMyFQYA2TuiYtp6z/Al49OHhhrHglcwQoq7NUoTnWDSQoJ2hk9Mo33qatw9Oj/RHvChHyOmDQMII5CulwlYlTrTGWVGU+ANUsvh49+wP899Ufnv4RIH3BxoxLvbdvz6uBYFrc8Rz3wBCCkkGv5OlaU15cWi0Y+MmTFyVVnzw5Ed/r7XUx4zUTrPK/EebHf/43C/Z/HA6Hwe9qsqOGFRHbTs1JFZfAnLhpNBAkCtZNIu+jEPVCGg3E2QPos1MW8t4avXXWdrR86rn+55bN0OY35ztdU8wjqNJBdQygUtKgjgBTSaPtQ1uy2kqUuUAlowDnEKQbyDawXHjOaYKpCgqy5SrVJ8P4qRW5GkNpsPppkZeAYGg848RRQvF9Gc2SLMznCyDWs4H4kHD8tVyaoOxaBn3hbQgLolYm8Ac9v8A5ETnumyepeGc79ow2e2dTM7DhC3e/TNYcMCOiw2DD+F2SqxPW3PTQoQBi71AN1OWMWAJDT3NwKZjqRuP0gJjkcZekRBk2l6BoEHe0RWn8HmgMTNyFQDCMfASFb3Nr1VoO45KIOfvxPDkx2Y7wArp/RZ5Mp01h/Z3sxEMwleEJTD9PooAiLXXG4jzHHsbaxVec78EUCgL6s3PZKc1qvD8zZaYWYCRBFzf4RGCZ8PJERTYLUbJOSZRtHoTxgB1wwJIPNTC35bctFq5xHQP10Wy3l+ss0i7bTYuMrM1m9mvjPnE2FRMwU8UBcfIBaZADHv+AfS5LrZ5D72Hs4DYNwezsmUUuCVTux+2YOpqPN32T0HgPk8Q5HengKKU1WdwY6HOjjQ2H++eOUsZQ8rQh4XC6oWihnea4M2h5yhxNwf3nzCNFQ9lw3LAaP5tZxGA6thBDYZN/FXNUULHZYs30fqSWKiqzVsAlaLdvPiXfgzl+pmJMrSKiGczgpPo3Ou2zhQyFDa1HFsBm/UzJ8k0K7w7oz1T++ODRgMA+OBRPhHlgMR+VgE4SsM8PDjsd2+nYTsd2OrbTsZ9Rx4Lvl70y8trVr4tFQ1yhUbm+ReEKDu5bmWEiL4LFBkUjKWwPm0BG9DMrHyIdgnAJyxHma+dI0GfXvYBCWxCinH80CaUe92x0DBezKbzQ5DTu059IwTsM8LhTNWvPihzYZiBehzNkOJLHmEzlYwR8iqNse69jDM5xhS869dmpz059duqzU5+fT32CQnC1JtFsv96Uhk8oQJxGVUhTsz4Ed82oT2ByoJpJiZN2/bm0JYHu6EuKqDMPZKpvwcuTGZ1k2xtIJ0I4sV33fKo9T9wkJNaYH6MGNdajM7xAtbVzONoyDp6ow5PuoBijNQNmTip7fpjR8a3H9RU85CNi5izVV8d3d/UjWRXQVw+OWSDiLktgtqeJI9JI+gq3eLkBLXcEieLDjYsksBYLSJlZw/Jz2qt+PP0T+QDhBTaIE0cs2NO3Abzbt/KEb2dqdKbG5zQ1HiyX3wEXVrsQ+8ODxi8JulxplyvtcqVdrrTTDr9a7dA5op0j+lt3RHfkSrsUaZci7VRrp1o71dqp1k61frYUaZcc7ZKjneLsFGenODvF2SnO/cnRLinaJUVbWaHLhna2RWdb/DLZUOfFRpftwj/vq6KXTXVrsLjc1nDP+YXbteeZmFtrdKxepAY/YM6SSFS99m/pqu2ICqjkO1Jk3MD6EPgBtibNMlWKv5LmQj7l+oB65a+67ZfVJjcMMklFxGGnYrwFACVlgT9MxsyYW5MiDiLF5Ugt/CzqLAfjphPiCeVFx9BokeYjkMogI3P8iNjkqWHdA6xDZt2zmGonWMjevHk7qEaBv7j0FT8aE9yjkuZjLTQW6ZIACMyDWBQZMiLw6CnWOqJkolYuxOrGV2leUcGWRzN1kQKAB/YhUCE3nL/gMgtY1I0JMhAvl9BqxcJpG1EuEsIGzDZxbe5Vl5/n44oO4wogQphqrm3iqwf0YIzFSeqVD12E1A1+ow+svaYVBptrFxSUXLXg2rImiAnu5LqjbD9H52lg+aiwACDfrE1g59tiVm4BMs9IgL4uFguZrfvAl/3l08GzwTFuOEPO5j1AWexWZDj9i6s+dkYZfzboGhPboOtGuGIj1ukjs/fuW89pwxJg/bj1Ab8h873qeri1PEqF/lVFWcuo2xDa1V/IGOS5ZlNdr4GqC9qslAkA8aZYsvB4uizDZddlqYYxbtykKMuWTJIb3FUGnIF4DaY77DfK1GdcodCtSzaMt3fVMpSsHZcyC5E2gxY5E2pbF4U4GA+foJxLQVEhg0eJjzEZ234gXtk6g1x5GUvwUWEwFudUJqINKKyYwFvjMkriWZ8mfFBZREPDI8t1/Hefw1SH+84pXKJYvB16uCZD70QMPV6toQcK3xbo5Rd/B3GBDpYUcxWlWC7CcJ7UOsQ6HLCJYfvhgP+OxTdQrT9+9I9zLtQFBH1kQKQ6c/xYH2JzsQECLmkDAN+GS2Ok2pHOgpsfwAa7fGTmG4SgGG6u6luihGpzmhLuhrke3RrAB+DgXMAOfnx4N/SEQU+h4Lon0CbjhoVTWB7Ui86Jg0e3Ll3uDmrWoZATrPNR1vTw7obx1TD23M1401j6DZjYFtSon5DCpZjKZcKVs7CqJp+BQe+BD/lsMqmpClMOZ9wAcKqdSlctSqxjwP+fDNiqyTJTenNUlSfbZs/nbOWyExORErWCvkpRg/QHf8sp8QV+XFLM5gJLVS8IJdAhaH0AR8gsYAfkhEZRse1vrTMUr6gwM6yMlQFYaDDJ2GoEMIer4kcMAzowIbIpymJ2ruqFxMct+I6N+rDGTZlHQGv0QJOZkRW+KeBsnU5fpnISRqhaghDWIzflJX2s6RatG4lDcS2utlQ/hLdDuzu12jbrSJa4RBKPrM0aNPwb88YY7o0mny7SFJ3fXTVbZZEn9CdHDQqEFFyqnvfTHJ9fJwi7pCcZVT6F6eDfOKKi9jn+TqmNTvH3j2lMTyJsWeDzZYjVg2A/wr++whGKa3yuImwzVxOcUeLzeYh9iwxb6hX2mih8stA0O6BdqyJrILeenyUIfTq4YWxT2MOGBPGd4xk2leN3XEG7R62f9cPp+buzd9+elDwKrAtmuspCshQicODIdWFem4A0uibzD8OLMZaQguVnP2wZZnlBzB0nwxi2T+ij20+eFVYNzGluZ2xbqgvEClhYM4WSIUlzyu65zitVKjShwmGM51ZVWWCONwIfAqEC3vXKWy2ObRQtdriy7EQ8VoPZoAc2PRg9X44PrUtLhdFJ3oU/sRuNoWMnOBw2VbPlIScKWAIEbJufsE+nAShfekYc5sm1aquDvm3Lc+vNGJcJUDMrPMyCx3SM49i2XA+AgJNQq1oaOm4mHemKCwpEsnAlszcDlksWdKNAhIJ2hcLV7RCahlMwbLXx2wPkGoQThLlfo2hb2vIORQQHw9ejVMUyyhuqGNfhpWbhT4pibIa6G9E3dYMg4CkrO7hlWop36ASspQzUbqB82FXaCn9ajQOUvtcqCudJEvCRsVTZioV4rDjCXDFw2AS4aHFfLLkKrq8+C5JlAe65WmPkDyyTZvxAt+3HDyTNNZoEsPQ8WYoXA9wLLwyxgePEdx801FTO15FylRxr6iIir5FjJcBMpCntKPtDYxpHbbmFwIwiNM9Me47YE5MubCoBZs9NcAfvo5ieDOMnYgwogmz0x6IvnltQBKOLqllSOXzM41BDGWmww4aXT4fDqx7+eAY/xGAw4LEwzF4biDKD5Qk9WCJuOM8XkduwPqEU35+/obUS46/BHMrU9E9gEmaojegU/tD7hqo0mz+/PpLfjHlgwPM6SFYxDv7KHXN86fa4euyMdtgmA412p+A/3rlAhEIdC9BTloXn8q7w5GA1XvMKIUqmAboYubNoI1409jGouiDTB5imQsh8C2KHQN0kfcwMNF3EYDdFWSWSCnRTiVnUMDgBu+GLNZ5CPJomydEt3hYQBndHt9QSfo0xXnbhRLrGDpY2KgpSNrf3sOzTJXbWDb+fQNQlAB6J+WqxWgqB4n7/ZIKiJ2jG0MpkOJDfSOViWVBhTBeazlw3Mr68IqvYDgXyhpUAUYk03jvYZlb4kBtVZX0QWE5dmFjjYJPMG5s5SpJrbbbD5burx187q/DN4ZhAtaDQWH93KpXuYI6xS+QxR37MWvU4AGtJM74tb5K4G7PhtQGjs/FWJOYYVxTEJrdbdjDK1uBzgYNu47Qis8tl4QOH0c2ZCdjV4DQSWOAeDr0L/nW316Zx0KmXQzUw1nMeoJDA+BxNwR/CL1/o5gedk+KmRNc2f76MTSlRtHksG5j+wulvjocQQWupCkcXTBJwimXspiPJQXXA/ra07OqAA+ZKLkqn7l43W1CGj9tbjYXGL42kqMw2cO1u8OyVNFou1chewnW/WzWwi+PNw5O2y6fsvHc9Mh2jKJzhSWq+LCxTqyxEM+ie0/IKC2egcjnMQANByVduaE5j1LMCyLvoFeClMbCv0HsWG3fEmJu5cMgNLG0J3K2qt/cg9EZ+394aYi6pctJ6JlJEJ+TNV+75PT7w861rbG7F0OZGDXjfeBkYBsxwb/AlcA2j42VwOVjS8daFcuaGM3DcNBWFRxnrXCXX4C7YmtwqGMmGyOHZh+9EgMEVuoHOHDKk5L89IsBIrcBCoJM0QHpfhcvaRRKlAKnuYYIh+zgkzZ/KJhPwPd1mVLtCLQ1ThTb0QLykNHHKbm9E1fBXSOY52rToJQVFVn7JSenklpFcDtlzv9f7JLM3UVQDbW+sqs7zg0sag78wz2SToHlh0dlEoOc8Mx+I2lH4BjaV091MRcg8uHXFzIMOhlyU4TFi42gl1xo/A+UJx5/Kzp/MruXBFWIN0/L+nFhSbrTzUpyFDKpS2FsX8pUX3DSfTnBv0/wAULoC5tzMT8/33JNn73lrYspqn9CCJb5fZNpWQecjhuU5j1TG9wm+PIQfGLR/PjfUVNWn8MV9UrEbiVdD7JLQD7hGMCY5uwwD+gSczwrVRmdnUFb3FO1Zupac0Fbhf77PzQaY7BGP2k0+orpdTumK4xqXusW2I2KR2WZ41sWWkxy74gfmCr87uoi2+vKrJaZW2g/GC6lfldFAuuYrBU1GY+t7s4fOun1/y2cCaL8V8hEwVEuZ812JzfdJ0LkCa+NsXCiiiVc//hLVIg6BwRw0eDrjR7oT7v6CkLqN6JN7I2wbcaGr/tyZGqnRvvK06i39WzDnq4ZbhIp52TbkHklSjcAlMx7Y/VT4is45NnTdIWpGpA+ahiNxwsm1JrKCVG/vq8MZmnW//7I/Qd+fFcDWYM1B8N9T/J0Cj+0T0GuApM/JEVZq5FiyxMGzcn6o60fwdokn9DfapzPeyBYGjlvmJxGqq73XXSVRsbC3QeGCkT1tVD9d7kk3uKQsRP4ToydVAQxKftiwCTR7OhBvC433oYgZeKx8mhbAPL5PpgEtqGR1H5ix2b8CwG7oAlOBzt+v+QrwO4NUM0aEhxVE+P3xAzYXXgvbuLe6bdlty25btmzL82TFySP74AUq47uN/Hmjbq6e7FPxzvAX0vCNqYwwMg7fiILSTSxkA198rTx9VWru+l4CFcqveuy145iSp+jK5rkqOs1hwu9VFNwIG/CKcuYyHsU83v4ghKEw5llI1zy7noTpYGtA2AO+7tFvHiE0VwkTEpj+4kBCj0/MuGfLjh989KR+8MQh/lnpGdgD+gg0r/9DfWtzua/xrNkvaxHqpXNcu4xr2zn5LKETnOuf7yp/cuCE/dR7HVqmD1zq3jJ/t/PpzrLq3OVWxWdlQ1vO5aImP3bOuCu60Q6CK8XNQn36tuaR7Lbe93VN9Z7uQI3p85DPuqGrGX71m5pPae1IHtN3NnTcwBzocr65acJ93+rQoA1FiZrH+whmqfJ8lmGmTffVX7QkG+tnUu/1MdZDWAdg+dXzzA7ZAoSZ2COtZbjIHkJGE5MpDjZGSXNzRtHkVDfyuu1Hix7OGK947ufVYn9ARCprAVOO8LwtL/Ce7yjV5psPyrwxWChq+ISUFOUwxrZyWD3J8ES2rbjKttUwprD1jqQqks1kVD8+hl9FycsvfvE7IswLiDajpUaOZqZlHEbXqoFcF2UiSsD7ihuqXCKlWJrKgv26tsNK0vGFBiB/MG8YecrQZFXacjN5vjvGZ2Ypw80bfIbfLz4ReLhsxGn0ER5l0eMT8ZzXYC7xKE2ZYy/PudiOJhsPJKKzSmYU6P+u7DRNCiooW8/K2zS+gavM9095jzgt6PtkmozfjfIET05rNaomL6d9VXanJnzE3zazEAUF5ehCPHoagkW4jnN5405SZArG+j7Gs83UUWUZfgZjlmLfkbYaLcmbaSIScsYehEwTPI9bs2vMGpLYMtxCss3Ma4YxynQr99zg1bDDNzXLY8hUDTPYkhctwu7CcQ5tprnU1fxVPL/G0xrqBqsvNO0ZPBJtEiWWEnuyKTWIWybd7c2/oiFeVqT7OJPTXRrWEbsqa3e5+99g7r5L2Xcp+y4G0aXsu5R9l7LvUvZdbrDLDXYp+25bdtvyN7gtu5R9l7L/9JR9l6nvMvW/ES/5N5Cp75LzXXJ+X3K+S8t3afldafkuCd8l4bskfJeE75LwXRKeNMJmqQa3ay0A4b7FN/Dqy+MvGo51YU0yjZEqUCp8b7DEAo3CXABVT+s7pQBMzU0ckcrr+6SDjn7UzCganIxFQz7i1NaaNNugLCTCJdNj89hPAq52uVBaY6X8vUrHNGyrPGfemnjLhOs7sLO0sR93uHuWuGa0nbmdsxjr1FDQI8PoBM0y8O6coM19Ls52IiWmrqetgY41YctSlKYCJaA3KWZcJ2JFVkyW1ByiBl59iYCVLPJl26kCs/TEISSFP4EJXpqlN+X+VvbOCkKWr41IisxX1Y0gVLPu4xN2QFGgHg40URX0DXKi4qGP5YF9C/zLLu67JH+F6FaLTIJoCqzZ18F1f5YlRdrnkpMsh8tqPLV2IBznSWAbzhTfqQZrT5KDTgSRBdYyds8zse2NOdDC3ernzlV1xDlR/PHbEohUYjl672j57AiHBj44uuU5sEoYHpLA3ccQFlnkVQXGZBqWxcXDhMbGa3RA5K6p9Wka/lWtTwsc//IKIf0O/3hGfzmNPyCTM8/YBpWelPRgU09yO1ubDZbbrLRHiQdO6/hRCGv8HCQSXy7CzIe1Dr+vowFDOXgc8ZRH1NIjtygl4HjpXaQqHqeHyOQIHOdm4S+z2Dd9eN/HVbqjvMs0cbeB5dHzlx8uxOn7M7HcRresl2u9FxTzcdDPkz6WLa7MNRT8GJdH6Qy+8umZuf8pt/cAD2NpSw2asqcwZa2e2SXmfkSRsqtD9e+A//OqqDy6eEmkanXlsU+RHpLCoYpisViGFBhckqq6RMTOwWkCUu4rT4/EyrjpISs1oxOE4U/BleDKQrKmqGVZ4c1SC+d8H8k1biNoH2HpObzBoipUy8MT5YGOlIrikw0wBbTMxARTJyrDmzEivJaE6c45K6Af4YiX2VRVansbFZ/x4hquG4XGtU2z2BMAPTFJgnWvVOKai/FqxhdIspDoDYnvYjtYOJvnsIIB+X5UsLwEKAVp2uOSb5ffqtw4DVePmawZXtkMtD2Cbd9nn+6QL+uCOdh5H8ZYtjoThDpSD5gaoabdJv7Cdd8vcF/0xNg3l2iDmKiuvYzpGJqDM6Lnlvwl6BCVMYNw9mJsw48aELFUw8l5FICaFvbk5AS0j8KfG1Id9v8K7zkLKRrB0o2OVuA+xq3POvWEBoVdyBdJME547dIxlaHFovB4io6VsLkGA69wKhljIFiPG8Joak/qBncKQiuDPiVTSHxSxiE10SZtS92eUbanHMJsaIF9CSwuWwYM7vN9VMjPDCoA6oznImdNv9oKmbsrcKyqP4tEFBFWJopZhlXwYW8SL2OHyydPqh4go3G+J0/27Vq8FSA+qpOcRWn/2aEJrAxjc8eFjadwIAPBZSeOLiQliQdz0+UnWPFXfzf9AEoo9JXXXN0yUjMZHVHTfjLta258RAo4SmYkbuuqawuHcDGzQ45WSRZgpcVBShapjKiafiWGPbIAAmjxKaOPItzKu+agw1w+2YZ4VSPOgHcuTaR//V/O6KRV0kTnC84EG62DEkDWvY5NvXJbmZ/gK5G3gkX/y9CYtVjp+iVgkKTQwN3WUdxy4zD6e0SF1uiWdyTJrTEvLj3SakaAw68Ta2KgvzYH4LHN7S3WIAbtfHeHj41Xe3mFNgzfv8Inp0NNkTRTm28HUo/PjRw6FHW3YJMsjRhY5R6vHSsKfrK9VSJwh5Vpjc5/GHgXRtJRaUMqey1BGIJBq6ZTNFc3K/eVSVsb6bKXuJmoGYVvMKYGm611XRh6U6GwjyE4aO0iSEHTXx4HN/z38Yj033KscQMfbnvq4zVczrstl6tmH3/78gL21v8BzYC6rg==
sidebar_class_name: "get api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Get a query history"}
>
</Heading>

<MethodEndpoint
  method={"get"}
  path={"/v2/queries/{query_id}"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Retrieve a detailed history of previously executed query.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false},{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}},{"name":"query_id","in":"path","description":"The ID of the query history","required":true,"schema":{"type":"string"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={undefined}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"The query history.","content":{"application/json":{"schema":{"description":"A complete record of a previously executed query, including the request parameters and response.","type":"object","properties":{"id":{"description":"The ID of the query history.","type":"string"},"query":{"description":"Query one or more corpora.","type":"object","properties":{"query":{"description":"The search query string, which is the question the user is asking.","type":"string","example":"Am I allowed to bring pets to work?"},"search":{"description":"The parameters to search one or more corpora.","allOf":[{"type":"object","properties":{"corpora":{"description":"The corpora that you want to search.","type":"array","items":{"description":"A corpus with its identifying key for use in search operations within a customer account.","allOf":[{"description":"Configuration for search parameters specific to a single corpus within a customer account, including filters and semantics.","type":"object","properties":{"custom_dimensions":{"description":"The custom dimensions as additional weights.","type":"object","additionalProperties":{"type":"number","format":"double","nullable":false},"title":"CustomDimensions"},"metadata_filter":{"description":"The filter string used to narrow the search based on metadata attributes. The query against this\ncorpus will be confined to document parts that match the `metadata_filter`. Only metadata fields\nset as `filter_attributes` on the corpus can be filtered. Filter syntax is similar to\na SQL WHERE clause. See [metadata filters documentation](https://docs.vectara.com/docs/learn/metadata-search-filtering/filter-overview)\nfor more information.\n","type":"string","example":"doc.title = 'Charlotte''s Web'"},"lexical_interpolation":{"description":"How much to weigh lexical scores compared to the embedding score. 0 means lexical search is not used at all, and 1 means only lexical search is used.","type":"number","format":"float","minimum":0,"maximum":1,"example":0.025},"semantics":{"description":"Indicates whether to consider a query against this corpus as a query or a response.","type":"string","enum":["default","query","response"],"default":"default","title":"SearchSemantics"}},"title":"SearchCorpus"},{"type":"object","properties":{"corpus_key":{"description":"A user-provided key for a corpus.","type":"string","example":"my-corpus","pattern":"[a-zA-Z0-9_\\=\\-]+$","maxLength":50,"title":"CorpusKey"},"query":{"description":"Query for a particular corpus that will override the overall query if present.","type":"string"}}}],"required":["corpus_key"],"title":"KeyedSearchCorpus"},"minItems":1}}},{"type":"object","description":"Search parameters to retrieve knowledge for the query.","properties":{"offset":{"description":"Specifies how many results into the result to skip. This is useful for pagination.","type":"integer","format":"int32","default":0,"minimum":0},"limit":{"description":"The maximum number of results returned.","type":"integer","format":"int32","minimum":1,"default":10},"context_configuration":{"type":"object","description":"Configuration on the presentation of each document part in the result set.","properties":{"characters_before":{"description":"The number of characters that are shown before the matching document part.\nThis is useful to show the context of the document part in the wider document.\nIgnored if `sentences_before` is set.\nVectara will capture the full sentence that contains the captured characters,\nto not lose the meaning caused by a truncated word or sentence.\n","type":"integer","format":"int32","default":0,"minimum":0,"example":30},"characters_after":{"description":"The number of characters that are shown after the matching document part. \nThis is useful to show the context of the document part in the wider document.\nIgnored if `sentences_after` is set.\nVectara will capture the full sentence that contains the captured characters,\nto not lose the meaning caused by a truncated word or sentence.\n","type":"integer","format":"int32","default":0,"minimum":0,"example":30},"sentences_before":{"description":"The number of sentences that are shown before the matching document part.\nThis is useful to show the context of the document part in the wider document.\n","type":"integer","format":"int32","default":0,"minimum":0,"example":3},"sentences_after":{"description":"The number of sentences that are shown after the matching document part. \nThis is useful to show the context of the document part in the wider document.\n","type":"integer","format":"int32","default":0,"minimum":0,"example":3},"start_tag":{"description":"The tag that wraps the document part at the start. This is often used to \nprovide a start HTML/XML tag or some other delimiter you can use in an \napplication to understand where to provide highlighting in your UI and \nunderstand where the context before ends and the document part begins.\n","type":"string","example":"<em>"},"end_tag":{"description":"The tag that wraps the document part at the end. This is often used to \nprovide a start HTML/XML tag or some other delimiter you can use in an \napplication to understand where to provide highlighting in your UI and \nunderstand where the context before ends and the document part begins.\n","type":"string","example":"</em>"}},"title":"ContextConfiguration"},"reranker":{"type":"object","description":"Rerank results of the search. Rerankers are very powerful tools to improve the order of search results.\nBy default the search will use the most powerful reranker available to the customer's plan.\nTo disable reranking, set the reranker `type` to `\"none\"`.\n","discriminator":{"propertyName":"type","mapping":{"customer_reranker":{"description":"Reranker that is specific to the customer.","type":"object","properties":{"type":{"description":"When the type is `customer_reranker`, you can specify the `reranker_name` of a reranker. `reranker_id` is deprecated.\nThe retrieval engine will then rerank results using that reranker.\n","type":"string","default":"customer_reranker"},"reranker_id":{"description":"The ID of the reranker. The multilingual reranker that may be specified is rnk_272725719.\nDo not specify the MMR reranker ID here, and instead, use the MMR reranker object type.\n**Deprecated**: Use `reranker_name` instead.\n","type":"string","pattern":"rnk_(?!272725718)\\d+","example":"rnk_272725719","deprecated":true},"reranker_name":{"description":"The name of the reranker. Do not specify the MMR reranker name here. Instead, use the MMR reranker object type.\n","type":"string","example":"Rerank_Multilingual_v1"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. \nWhen a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, \neach reranker can have its own limit, potentially reducing the number of \nresults at each stage.\n","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process.\nWhen a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Applies the cutoff, removing any results with scores below the specified threshold.\n3. Returns the remaining results, sorted by their new scores.\n\nNote: This cutoff is applied per reranking stage. In a chain of rerankers,\neach reranker can have its own cutoff, potentially further reducing the number of\nresults at each stage. If both 'limit' and 'cutoff' are specified, the cutoff\nis applied first, followed by the limit.\n","format":"float"}},"x-vectaraParents":["SearchReranker"],"title":"CustomerSpecificReranker"},"userfn":{"description":"A reranker that uses user-defined functions to reorder search results.","type":"object","properties":{"type":{"description":"When the type is `userfn`, you can define custom reranking functions using document-level metadata,\npart-level metadata, or scores generated from the request-level metadata.\n","type":"string","default":"userfn"},"user_function":{"description":"The user defined function.","type":"string","example":"get('$.score') * get('$.document_metadata.boost')"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. \nWhen a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, \neach reranker can have its own limit, potentially reducing the number of \nresults at each stage.\n","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process.\nWhen a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Applies the cutoff, removing any results with scores below the specified threshold.\n3. Returns the remaining results, sorted by their new scores.\n\nNote: This cutoff is applied per reranking stage. In a chain of rerankers,\neach reranker can have its own cutoff, potentially further reducing the number of\nresults at each stage. If both 'limit' and 'cutoff' are specified, the cutoff\nis applied first, followed by the limit.\n","format":"float"}},"x-vectaraParents":["SearchReranker"],"title":"UserFunctionReranker"},"mmr":{"description":"A reranker that uses Maximal Marginal Relevance to balance relevance and diversity in search results.","type":"object","properties":{"type":{"description":"When the type is `mmr`, you can specify the `diversity_bias`, and the\nretrieval engine will use the MMR reranker.\n","type":"string","default":"mmr"},"diversity_bias":{"description":"The diversity bias. Higher values indicate more diversity.","type":"number","format":"float","example":0.3},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. \nWhen a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, \neach reranker can have its own limit, potentially reducing the number of \nresults at each stage.\n","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process.\nWhen a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Applies the cutoff, removing any results with scores below the specified threshold.\n3. Returns the remaining results, sorted by their new scores.\n\nNote: This cutoff is applied per reranking stage. In a chain of rerankers,\neach reranker can have its own cutoff, potentially further reducing the number of\nresults at each stage. If both 'limit' and 'cutoff' are specified, the cutoff\nis applied first, followed by the limit.\n","format":"float"}},"x-vectaraParents":["SearchReranker"],"title":"MMRReranker"},"chain":{"description":"A reranker that applies multiple rerankers in sequence to produce the final search results.","type":"object","properties":{"type":{"description":"When the type is `chain`, you can then chain re-rankers together.\n","type":"string","default":"chain"},"rerankers":{"type":"array","description":"Specify an array of rerankers to apply to search results consecutively.\n","items":"circular(SearchReranker)","maxItems":50}},"required":["rerankers"],"x-vectaraParents":["SearchReranker"],"title":"ChainReranker"},"none":{"description":"A placeholder reranker that does not modify the original search results ordering.","type":"object","properties":{"type":{"description":"When the type is `none`, no reranking will be done.\n","type":"string","default":"none"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. \nWhen a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, \neach reranker can have its own limit, potentially reducing the number of \nresults at each stage.\n","format":"int32","minimum":1}},"x-vectaraParents":["SearchReranker"],"title":"NoneReranker"}}},"oneOf":[{"description":"Reranker that is specific to the customer.","type":"object","properties":{"type":{"description":"When the type is `customer_reranker`, you can specify the `reranker_name` of a reranker. `reranker_id` is deprecated.\nThe retrieval engine will then rerank results using that reranker.\n","type":"string","default":"customer_reranker"},"reranker_id":{"description":"The ID of the reranker. The multilingual reranker that may be specified is rnk_272725719.\nDo not specify the MMR reranker ID here, and instead, use the MMR reranker object type.\n**Deprecated**: Use `reranker_name` instead.\n","type":"string","pattern":"rnk_(?!272725718)\\d+","example":"rnk_272725719","deprecated":true},"reranker_name":{"description":"The name of the reranker. Do not specify the MMR reranker name here. Instead, use the MMR reranker object type.\n","type":"string","example":"Rerank_Multilingual_v1"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. \nWhen a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, \neach reranker can have its own limit, potentially reducing the number of \nresults at each stage.\n","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process.\nWhen a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Applies the cutoff, removing any results with scores below the specified threshold.\n3. Returns the remaining results, sorted by their new scores.\n\nNote: This cutoff is applied per reranking stage. In a chain of rerankers,\neach reranker can have its own cutoff, potentially further reducing the number of\nresults at each stage. If both 'limit' and 'cutoff' are specified, the cutoff\nis applied first, followed by the limit.\n","format":"float"}},"x-vectaraParents":["SearchReranker"],"title":"CustomerSpecificReranker"},{"description":"A reranker that uses user-defined functions to reorder search results.","type":"object","properties":{"type":{"description":"When the type is `userfn`, you can define custom reranking functions using document-level metadata,\npart-level metadata, or scores generated from the request-level metadata.\n","type":"string","default":"userfn"},"user_function":{"description":"The user defined function.","type":"string","example":"get('$.score') * get('$.document_metadata.boost')"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. \nWhen a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, \neach reranker can have its own limit, potentially reducing the number of \nresults at each stage.\n","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process.\nWhen a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Applies the cutoff, removing any results with scores below the specified threshold.\n3. Returns the remaining results, sorted by their new scores.\n\nNote: This cutoff is applied per reranking stage. In a chain of rerankers,\neach reranker can have its own cutoff, potentially further reducing the number of\nresults at each stage. If both 'limit' and 'cutoff' are specified, the cutoff\nis applied first, followed by the limit.\n","format":"float"}},"x-vectaraParents":["SearchReranker"],"title":"UserFunctionReranker"},{"description":"A reranker that uses Maximal Marginal Relevance to balance relevance and diversity in search results.","type":"object","properties":{"type":{"description":"When the type is `mmr`, you can specify the `diversity_bias`, and the\nretrieval engine will use the MMR reranker.\n","type":"string","default":"mmr"},"diversity_bias":{"description":"The diversity bias. Higher values indicate more diversity.","type":"number","format":"float","example":0.3},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. \nWhen a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, \neach reranker can have its own limit, potentially reducing the number of \nresults at each stage.\n","format":"int32","minimum":1},"cutoff":{"type":"number","description":"Specifies the minimum score threshold for results to be included after the reranking process.\nWhen a reranker is applied with a cutoff, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Applies the cutoff, removing any results with scores below the specified threshold.\n3. Returns the remaining results, sorted by their new scores.\n\nNote: This cutoff is applied per reranking stage. In a chain of rerankers,\neach reranker can have its own cutoff, potentially further reducing the number of\nresults at each stage. If both 'limit' and 'cutoff' are specified, the cutoff\nis applied first, followed by the limit.\n","format":"float"}},"x-vectaraParents":["SearchReranker"],"title":"MMRReranker"},{"description":"A reranker that applies multiple rerankers in sequence to produce the final search results.","type":"object","properties":{"type":{"description":"When the type is `chain`, you can then chain re-rankers together.\n","type":"string","default":"chain"},"rerankers":{"type":"array","description":"Specify an array of rerankers to apply to search results consecutively.\n","items":"circular(SearchReranker)","maxItems":50}},"required":["rerankers"],"x-vectaraParents":["SearchReranker"],"title":"ChainReranker"},{"description":"A placeholder reranker that does not modify the original search results ordering.","type":"object","properties":{"type":{"description":"When the type is `none`, no reranking will be done.\n","type":"string","default":"none"},"limit":{"type":"integer","description":"Specifies the maximum number of results to be returned after the reranking process. \nWhen a reranker is applied, it performs the following steps:\n1. Reranks all input results according to its algorithm.\n2. Sorts the reranked results based on their new scores.\n3. Returns the top N results, where N is the value specified by this limit.\n\nNote: This limit is applied per reranking stage. In a chain of rerankers, \neach reranker can have its own limit, potentially reducing the number of \nresults at each stage.\n","format":"int32","minimum":1}},"x-vectaraParents":["SearchReranker"],"title":"NoneReranker"}],"title":"SearchReranker"}},"title":"SearchParameters"}],"required":["corpora"],"title":"SearchCorporaParameters"},"generation":{"description":"The parameters to control generation.","type":"object","properties":{"generation_preset_name":{"description":"The preset values to use to feed the query results and other context to the model.\n\nA `generation_preset` is an object with a bundle of properties that specifies:\n  * The `prompt_template` that is rendered and then sent to the LLM.\n  * The LLM used.\n  * `model_parameter`s such as temperature.\n \nAll of these properties except the model can be overridden by setting them in this\nobject. Even when a `prompt_template` is set, the `generation_preset_name` is used to set \nthe model used. See `model_parameters.model` if you want to set the model explicitly.\n\nIf `generation_preset_name` is not set, the Vectara platform will use the default model and\nprompt.\n","type":"string","minLength":1,"example":"vectara-summary-ext-v1.2.0"},"prompt_name":{"description":"Use `generation_preset_name` instead of `prompt_name`.\n","type":"string","minLength":1,"example":"vectara-summary-ext-v1.2.0","deprecated":true},"max_used_search_results":{"description":"The maximum number of search results to be available to the prompt.","type":"integer","format":"int32","minimum":0,"default":5},"prompt_template":{"description":"Vectara manages both system and user roles and prompts for the generative\nLLM out of the box by default. However, users can override the\n`prompt_template` via this variable. The `prompt_template` is in the form of an\nApache Velocity template. For more details on how to configure the\n`prompt_template`, see the [long-form documentation](https://docs.vectara.com/docs/prompts/vectara-prompt-engine).\n","type":"string","example":"[\n  {\"role\": \"system\", \"content\": \"You are a helpful search assistant.\"},\n  #foreach ($qResult in $vectaraQueryResults)\n     {\"role\": \"user\", \"content\": \"Given the $vectaraIdxWord[$foreach.index] search result.\"},\n     {\"role\": \"assistant\", \"content\": \"${qResult.getText()}\" },\n  #end\n  {\"role\": \"user\", \"content\": \"Generate a summary for the query '${vectaraQuery}' based on the above results.\"}\n]\n"},"prompt_text":{"description":"This property is deprecated in favor of clearer naming. Use `prompt_template`. This property will be\nignored if `prompt_template` is set.\n","type":"string","example":"[\n  {\"role\": \"system\", \"content\": \"You are a helpful search assistant.\"},\n  #foreach ($qResult in $vectaraQueryResults)\n     {\"role\": \"user\", \"content\": \"Given the $vectaraIdxWord[$foreach.index] search result.\"},\n     {\"role\": \"assistant\", \"content\": \"${qResult.getText()}\" },\n  #end\n  {\"role\": \"user\", \"content\": \"Generate a summary for the query '${vectaraQuery}' based on the above results.\"}\n]\n","deprecated":true},"max_response_characters":{"description":"Controls the length of the generated output.\nThis is a rough estimate and not a hard limit: the end output can be longer or shorter\nthan this value. This is generally implemented by including the `max_response_characters` in the\nprompt, and the LLM's instruction following capability dictates how closely the generated output\nis limited.\n","type":"integer","format":"int32","example":300,"minimum":0},"response_language":{"description":"Languages that the Vectara platform supports.","type":"string","enum":["auto","eng","deu","fra","zho","kor","ara","rus","tha","nld","ita","por","spa","jpn","pol","tur","vie","ind","ces","ukr","ell","heb","fas","hin","urd","swe","ben","msa","ron"],"default":"auto","title":"Language"},"model_parameters":{"title":"ModelParameters","description":"The parameters for the model.\nWARNING: This is an experimental feature, and breakable at any point with virtually no\nnotice. It is meant for experimentation to converge on optimal parameters that can then\nbe set in the prompt definitions.\n","type":"object","properties":{"llm_name":{"description":"The model (e.g., `gpt-4`) to use for summarization. If specified, it will override the model behind\n`generation_preset_name`.\n","type":"string","example":"gpt4"},"max_tokens":{"description":"The maximum number of tokens to be returned by the model.","type":"integer","format":"int32","minimum":1},"temperature":{"description":"The sampling temperature to use. Higher values make the output more random, while lower\nvalues make it more focused and deterministic.\n","type":"number","format":"float"},"frequency_penalty":{"description":"Higher values penalize new tokens based on their existing frequency in the text so far,\ndecreasing the model's likelihood to repeat the same line verbatim.\n","type":"number","format":"float"},"presence_penalty":{"description":"Higher values penalize new tokens based on whether they appear in the text so far,\nincreasing the model's likelihood to talk about new topics.\n","type":"number","format":"float"}}},"citations":{"description":"Style the generator should use when making citations.","type":"object","properties":{"style":{"description":"The citation style to be used in summary.\nCan be one of:\n* `numeric` - Citations formatted as simple numerals: \\[1\\], \\[2\\] ...\n* `none` - Citations removed from text.\n* `html` - Citation formatted as a URL like `<a href=\"url_pattern\">text_pattern</a>`.\n* `markdown` - Formatted as `[text_pattern](url_pattern)`.\n","type":"string","enum":["none","numeric","html","markdown"]},"url_pattern":{"description":"The URL pattern if the citation_style is set to `html` or `markdown`.\nThe pattern can access metadata attributes in the document or part.\ne.g. `https://my.doc/foo/{doc.id}/{part.id}`\n\nThe default `url_pattern` is an empty string.\n","type":"string","example":"https://vectara.com/documents/{doc.id}"},"text_pattern":{"description":"The text pattern if the citation_style is set to `html` or `markdown`.\nThis pattern sets the href for HTML or the text within `[]` in markdown,\nand defaults to N being the index of result if it is not set.\n\nThe default citation style looks like `[N](<url_pattern>)` for markdown.\n\nYou can use metadata attributes in the `text_pattern`. For example,\nthe pattern `{doc.title}` with citation style `markdown` would result\nin final citation output like `[Title](<url_pattern>)` when\nthe document's metadata includes `{\"title\":\"Title\"}`.\n","type":"string","example":"{doc.title}"}},"title":"CitationParameters"},"enable_factual_consistency_score":{"description":"Enable returning the factual consistency score with query results.","type":"boolean","default":true}},"title":"GenerationParameters"},"stream_response":{"description":"Indicates whether the response should be streamed or not.","type":"boolean","default":false},"save_history":{"description":"Indicates whether to save the query to query history.","type":"boolean"},"intelligent_query_rewriting":{"description":"Indicates whether to enable intelligent query rewriting. When enabled, the platform will attempt to\nextract metadata filter and rewrite the query to improve search results.\n","type":"boolean","default":false}},"required":["query","search"],"title":"QueryRequest"},"chat_id":{"description":"The ID of the chat the query is a part of.","type":"string"},"latency_millis":{"description":"Time taken to complete the query, measured in milliseconds.","type":"integer"},"started_at":{"description":"ISO date time indicating when the query was first received.","type":"string","format":"date-time"},"spans":{"description":"Parts of the query pipeline. Each span explains what happened during that stage of the query pipeline.\n","type":"array","items":{"description":"Portion of the query history.","type":"object","discriminator":{"propertyName":"type","mapping":{"rephrase":{"description":"During the query pipeline, the query may be rephrased to better suit the corpus.","type":"object","properties":{"type":{"description":"This value is always `rephrase`.","type":"string"},"latency_millis":{"description":"Time taken in milliseconds.","type":"integer"},"started_at":{"description":"When the span started.","type":"string","format":"date-time"},"rephrased_query":{"description":"Query made to the corpora.","type":"string"}},"x-vectaraParents":["QueryHistorySpan"],"title":"RephraseSpan"},"search":{"description":"The search portion of the query pipeline. This occurs before any reranking span.\n","type":"object","properties":{"type":{"description":"This value is always `search`.","type":"string"},"latency_millis":{"description":"Time taken in milliseconds.","type":"integer"},"started_at":{"description":"Indicates when the span started.","type":"string","format":"date-time"},"search_results":{"description":"The search results before reranking.","type":"array","items":{"description":"An individual ranked search result from a query.","type":"object","properties":{"text":{"description":"The document part altered by the context configuration that matches the query.","type":"string"},"score":{"description":"The score of the individual result.","type":"number","format":"double"},"part_metadata":{"description":"The metadata for the document part.","type":"object","additionalProperties":true},"document_metadata":{"description":"The metadata for the document that contains the document part.","type":"object","additionalProperties":true},"document_id":{"description":"The ID of the document that contains the document part.","type":"string"},"table":{"description":"The table that the document part is from.","type":"object","properties":{"id":{"description":"The unique ID of the table within the document.","type":"string","example":"table_1"},"title":{"description":"The title of the table.","type":"string"},"data":{"description":"The data of the table.","type":"object","properties":{"headers":{"description":"The headers of the table.","type":"array","items":{"description":"The header of a table.","type":"array","items":{"description":"A cell in a table.","type":"object","properties":{"text_value":{"description":"A text value.","type":"string"},"int_value":{"description":"A signed 64-bit integer value.","type":"integer","format":"int64"},"float_value":{"description":"A floating-point value with double precision.","type":"number","format":"double"},"bool_value":{"description":"A boolean value.","type":"boolean"},"colspan":{"description":"The number of columns the cell spans. This field is optional; if not specified, default is 1. Must be greater than 0.","type":"integer","format":"int32"},"rowspan":{"description":"The number of rows the cell spans. This field is optional; if not specified, default is 1. Must be greater than 0.","type":"integer","format":"int32"}},"title":"Cell"},"title":"Header"}},"rows":{"description":"The rows in the data.","type":"array","items":{"description":"A row in a table.","type":"array","items":{"description":"A cell in a table.","type":"object","properties":{"text_value":{"description":"A text value.","type":"string"},"int_value":{"description":"A signed 64-bit integer value.","type":"integer","format":"int64"},"float_value":{"description":"A floating-point value with double precision.","type":"number","format":"double"},"bool_value":{"description":"A boolean value.","type":"boolean"},"colspan":{"description":"The number of columns the cell spans. This field is optional; if not specified, default is 1. Must be greater than 0.","type":"integer","format":"int32"},"rowspan":{"description":"The number of rows the cell spans. This field is optional; if not specified, default is 1. Must be greater than 0.","type":"integer","format":"int32"}},"title":"Cell"},"title":"Row"}}},"title":"Data"},"description":{"description":"The description of the table.","type":"string"}},"title":"Table"},"request_corpora_index":{"description":"A query request can search over multiple corpora at a time. This property \nis set to the index in the list of corpora in the original search request that this\nsearch result originated from.\n\nIf the query request is only over one corpus, this property is 0.\n","type":"integer","format":"int32","example":0,"minimum":0}},"title":"IndividualSearchResult"}}},"x-vectaraParents":["QueryHistorySpan"],"title":"SearchSpan"},"rerank":{"description":"The reranking of the search result.","type":"object","properties":{"type":{"description":"This value is always `rerank`.","type":"string"},"latency_millis":{"description":"Time taken in milliseconds.","type":"integer"},"started_at":{"description":"When the span started.","type":"string","format":"date-time"},"reranked_search_results":{"description":"The new search results after reranking.","type":"array","items":{"description":"An individual reranked search result from a query.","type":"object","properties":{"text":{"description":"The document part altered by the context configuration that matches the query.","type":"string"},"score":{"description":"The score of the individual result.","type":"number","format":"double"},"original_score":{"description":"The original score of the individual result before reranking.","type":"number","format":"double"}},"title":"RerankedSearchResult"}}},"x-vectaraParents":["QueryHistorySpan"],"title":"RerankSpan"},"generation":{"description":"The generation by an LLM.","type":"object","properties":{"type":{"description":"This value is always `generation`.","type":"string"},"latency_millis":{"description":"Time taken in milliseconds.","type":"integer"},"started_at":{"description":"When the span started.","type":"string","format":"date-time"},"prompt":{"description":"The text sent as a prompt to the LLM.","type":"string"},"generation":{"description":"The text generated from the LLM.","type":"string"}},"x-vectaraParents":["QueryHistorySpan"],"title":"GenerationSpan"},"fcs":{"description":"The factual consistency of the generation.","type":"object","properties":{"type":{"description":"This value is always `fcs`.","type":"string"},"latency_millis":{"description":"Time taken in milliseconds.","type":"integer"},"started_at":{"description":"When the span started.","type":"string","format":"date-time"},"score":{"description":"The probability that the summary is factually consistent with the results.","type":"number","format":"float"}},"x-vectaraParents":["QueryHistorySpan"],"title":"FactualConsistencyScoreSpan"},"rewritten_query":{"description":"Provides detailed information about a rewritten query generated for a specific corpus\nwhen intelligent query rewriting is enabled.\n","type":"object","properties":{"type":{"description":"Indicates the type of span. This value is always `rewritten_query`.","type":"string"},"corpus_key":{"description":"The corpus key that the query was made on.","type":"string"},"latency_millis":{"description":"Time taken in milliseconds.","type":"integer"},"started_at":{"description":"When the span started.","type":"string","format":"date-time"},"warnings":{"description":"Warnings that occurred during query rewriting.","items":{"description":"The warning for the rewritten query.\n *  `no_filter_attrs`: Corpus has no filter attributes.\n *  `extracted_empty_filter`: No filter found in the query to extract or the platform failed to extract it.\n *  `failed_to_parse_extracted_filter`: Failed to parse the extracted filter due to invalid syntax.\n *  `failure`: Unexpected error occurred.\n","type":"string","enum":["no_filter_attrs","extracted_empty_filter","failed_to_parse_extracted_filter","failure"],"title":"RewrittenQueryWarning"}},"filter_extraction":{"type":"object","description":"The result of query filter extraction.","properties":{"query":{"description":"The query rephrased from the input query and executed.","type":"string"},"metadata_filter":{"description":"The metadata filter extracted from the input query.","type":"string"}},"title":"FilterExtraction"}},"x-vectaraParents":["QueryHistorySpan"],"title":"RewrittenQuerySpan"}}},"oneOf":[{"description":"During the query pipeline, the query may be rephrased to better suit the corpus.","type":"object","properties":{"type":{"description":"This value is always `rephrase`.","type":"string"},"latency_millis":{"description":"Time taken in milliseconds.","type":"integer"},"started_at":{"description":"When the span started.","type":"string","format":"date-time"},"rephrased_query":{"description":"Query made to the corpora.","type":"string"}},"x-vectaraParents":["QueryHistorySpan"],"title":"RephraseSpan"},{"description":"The search portion of the query pipeline. This occurs before any reranking span.\n","type":"object","properties":{"type":{"description":"This value is always `search`.","type":"string"},"latency_millis":{"description":"Time taken in milliseconds.","type":"integer"},"started_at":{"description":"Indicates when the span started.","type":"string","format":"date-time"},"search_results":{"description":"The search results before reranking.","type":"array","items":{"description":"An individual ranked search result from a query.","type":"object","properties":{"text":{"description":"The document part altered by the context configuration that matches the query.","type":"string"},"score":{"description":"The score of the individual result.","type":"number","format":"double"},"part_metadata":{"description":"The metadata for the document part.","type":"object","additionalProperties":true},"document_metadata":{"description":"The metadata for the document that contains the document part.","type":"object","additionalProperties":true},"document_id":{"description":"The ID of the document that contains the document part.","type":"string"},"table":{"description":"The table that the document part is from.","type":"object","properties":{"id":{"description":"The unique ID of the table within the document.","type":"string","example":"table_1"},"title":{"description":"The title of the table.","type":"string"},"data":{"description":"The data of the table.","type":"object","properties":{"headers":{"description":"The headers of the table.","type":"array","items":{"description":"The header of a table.","type":"array","items":{"description":"A cell in a table.","type":"object","properties":{"text_value":{"description":"A text value.","type":"string"},"int_value":{"description":"A signed 64-bit integer value.","type":"integer","format":"int64"},"float_value":{"description":"A floating-point value with double precision.","type":"number","format":"double"},"bool_value":{"description":"A boolean value.","type":"boolean"},"colspan":{"description":"The number of columns the cell spans. This field is optional; if not specified, default is 1. Must be greater than 0.","type":"integer","format":"int32"},"rowspan":{"description":"The number of rows the cell spans. This field is optional; if not specified, default is 1. Must be greater than 0.","type":"integer","format":"int32"}},"title":"Cell"},"title":"Header"}},"rows":{"description":"The rows in the data.","type":"array","items":{"description":"A row in a table.","type":"array","items":{"description":"A cell in a table.","type":"object","properties":{"text_value":{"description":"A text value.","type":"string"},"int_value":{"description":"A signed 64-bit integer value.","type":"integer","format":"int64"},"float_value":{"description":"A floating-point value with double precision.","type":"number","format":"double"},"bool_value":{"description":"A boolean value.","type":"boolean"},"colspan":{"description":"The number of columns the cell spans. This field is optional; if not specified, default is 1. Must be greater than 0.","type":"integer","format":"int32"},"rowspan":{"description":"The number of rows the cell spans. This field is optional; if not specified, default is 1. Must be greater than 0.","type":"integer","format":"int32"}},"title":"Cell"},"title":"Row"}}},"title":"Data"},"description":{"description":"The description of the table.","type":"string"}},"title":"Table"},"request_corpora_index":{"description":"A query request can search over multiple corpora at a time. This property \nis set to the index in the list of corpora in the original search request that this\nsearch result originated from.\n\nIf the query request is only over one corpus, this property is 0.\n","type":"integer","format":"int32","example":0,"minimum":0}},"title":"IndividualSearchResult"}}},"x-vectaraParents":["QueryHistorySpan"],"title":"SearchSpan"},{"description":"The reranking of the search result.","type":"object","properties":{"type":{"description":"This value is always `rerank`.","type":"string"},"latency_millis":{"description":"Time taken in milliseconds.","type":"integer"},"started_at":{"description":"When the span started.","type":"string","format":"date-time"},"reranked_search_results":{"description":"The new search results after reranking.","type":"array","items":{"description":"An individual reranked search result from a query.","type":"object","properties":{"text":{"description":"The document part altered by the context configuration that matches the query.","type":"string"},"score":{"description":"The score of the individual result.","type":"number","format":"double"},"original_score":{"description":"The original score of the individual result before reranking.","type":"number","format":"double"}},"title":"RerankedSearchResult"}}},"x-vectaraParents":["QueryHistorySpan"],"title":"RerankSpan"},{"description":"The generation by an LLM.","type":"object","properties":{"type":{"description":"This value is always `generation`.","type":"string"},"latency_millis":{"description":"Time taken in milliseconds.","type":"integer"},"started_at":{"description":"When the span started.","type":"string","format":"date-time"},"prompt":{"description":"The text sent as a prompt to the LLM.","type":"string"},"generation":{"description":"The text generated from the LLM.","type":"string"}},"x-vectaraParents":["QueryHistorySpan"],"title":"GenerationSpan"},{"description":"The factual consistency of the generation.","type":"object","properties":{"type":{"description":"This value is always `fcs`.","type":"string"},"latency_millis":{"description":"Time taken in milliseconds.","type":"integer"},"started_at":{"description":"When the span started.","type":"string","format":"date-time"},"score":{"description":"The probability that the summary is factually consistent with the results.","type":"number","format":"float"}},"x-vectaraParents":["QueryHistorySpan"],"title":"FactualConsistencyScoreSpan"},{"description":"Provides detailed information about a rewritten query generated for a specific corpus\nwhen intelligent query rewriting is enabled.\n","type":"object","properties":{"type":{"description":"Indicates the type of span. This value is always `rewritten_query`.","type":"string"},"corpus_key":{"description":"The corpus key that the query was made on.","type":"string"},"latency_millis":{"description":"Time taken in milliseconds.","type":"integer"},"started_at":{"description":"When the span started.","type":"string","format":"date-time"},"warnings":{"description":"Warnings that occurred during query rewriting.","items":{"description":"The warning for the rewritten query.\n *  `no_filter_attrs`: Corpus has no filter attributes.\n *  `extracted_empty_filter`: No filter found in the query to extract or the platform failed to extract it.\n *  `failed_to_parse_extracted_filter`: Failed to parse the extracted filter due to invalid syntax.\n *  `failure`: Unexpected error occurred.\n","type":"string","enum":["no_filter_attrs","extracted_empty_filter","failed_to_parse_extracted_filter","failure"],"title":"RewrittenQueryWarning"}},"filter_extraction":{"type":"object","description":"The result of query filter extraction.","properties":{"query":{"description":"The query rephrased from the input query and executed.","type":"string"},"metadata_filter":{"description":"The metadata filter extracted from the input query.","type":"string"}},"title":"FilterExtraction"}},"x-vectaraParents":["QueryHistorySpan"],"title":"RewrittenQuerySpan"}],"title":"QueryHistorySpan"}}},"title":"QueryHistory"}}}},"403":{"description":"Permissions do not allow retrieving the query history.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}},"404":{"description":"Query history not found.","content":{"application/json":{"schema":{"description":"Error returned when a requested resource does not exist.","type":"object","properties":{"id":{"description":"The ID cannot be found.","type":"string"},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"NotFoundError"}}}}}}
>
  
</StatusCodes>


      
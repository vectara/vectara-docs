---
id: create-user
title: "Create a user in the current customer account"
description: "Create a user for the current customer account. For example, a company wants to onboard new team members efficiently and this endpoint lets you streamline the process by adding new users programmatically, assigning appropriate roles, and setting up access permissions."
sidebar_label: "Create a user in the current customer account"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create a user in the current customer account"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v2/users"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Create a user for the current customer account. For example, a company wants to onboard new team members efficiently and this endpoint lets you streamline the process by adding new users programmatically, assigning appropriate roles, and setting up access permissions.


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false},{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Request to create a new user account in the system.","type":"object","properties":{"email":{"description":"The email address for the user.","type":"string","format":"email"},"username":{"description":"The username for the user. The value defaults to the email.","type":"string"},"description":{"description":"The description of the user.","type":"string"},"api_roles":{"description":"The customer-level role names assigned to the user.","type":"array","items":{"description":"Roles that a user or an app client can take on.","type":"string","enum":["owner","administrator","billing_administrator","corpus_administrator","corpus_developer","agent_administrator","agent_viewer","agent_developer"],"title":"ApiRole"}},"corpus_roles":{"description":"Corpus-specific role assignments for the user.","type":"array","items":{"description":"Corpus-specific role assignment.","type":"object","properties":{"corpus_key":{"description":"The key of the corpus this role applies to.","type":"string"},"role":{"description":"The role assigned for this specific corpus.","type":"string","enum":["owner","administrator","viewer","editor"]}},"required":["corpus_key","role"],"title":"CorpusRole"}},"agent_roles":{"description":"Agent-specific role assignments for the user.","type":"array","items":{"description":"Agent-specific role assignment.","type":"object","properties":{"agent_key":{"description":"The ID of the agent this role applies to.","type":"string"},"role":{"description":"The role assigned for this specific agent.\n* `agent_administrator` - Full administrative access to the agent including deletion and configuration.\n* `agent_viewer` - Read-only access to view agent configuration, sessions, events, instructions, and tools.\n* `agent_developer` - Can modify agent configuration, create/manage sessions, update tools and instructions.\n* `agent_user` - Limited access to interact with the agent by creating sessions and sending inputs. Cannot view agent configuration or modify settings.\n","type":"string","enum":["agent_administrator","agent_viewer","agent_developer","agent_user"]}},"required":["agent_key","role"],"title":"AgentRole"}}},"required":["email"],"title":"CreateUserRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"description":"The response returns a `user` object that contains the assigned user ID, email, username, enabled status, description, creation timestamp, and assigned API roles.\n","content":{"application/json":{"schema":{"allOf":[{"description":"A user account with associated profile information and permissions.","type":"object","properties":{"id":{"description":"The Vectara ID for the user.","type":"string","pattern":"usr_.+"},"email":{"description":"The email address for the user.","type":"string","format":"email"},"username":{"description":"The username for the user.","type":"string"},"enabled":{"description":"Indicates whether the user is enabled or disabled.","type":"boolean"},"description":{"description":"The description of the user.","type":"string"},"created_at":{"description":"When the user was created.","type":"string","format":"date-time"},"updated_at":{"description":"When a user property was last updated.","type":"string","format":"date-time"},"api_roles":{"description":"The customer-level role names of the user.","type":"array","items":{"description":"Roles that a user or an app client can take on.","type":"string","enum":["owner","administrator","billing_administrator","corpus_administrator","corpus_developer","agent_administrator","agent_viewer","agent_developer"],"title":"ApiRole"}},"corpus_roles":{"description":"Corpus-specific role assignments for the user.","type":"array","items":{"description":"Corpus-specific role assignment.","type":"object","properties":{"corpus_key":{"description":"The key of the corpus this role applies to.","type":"string"},"role":{"description":"The role assigned for this specific corpus.","type":"string","enum":["owner","administrator","viewer","editor"]}},"required":["corpus_key","role"],"title":"CorpusRole"}},"agent_roles":{"description":"Agent-specific role assignments for the user.","type":"array","items":{"description":"Agent-specific role assignment.","type":"object","properties":{"agent_key":{"description":"The ID of the agent this role applies to.","type":"string"},"role":{"description":"The role assigned for this specific agent.\n* `agent_administrator` - Full administrative access to the agent including deletion and configuration.\n* `agent_viewer` - Read-only access to view agent configuration, sessions, events, instructions, and tools.\n* `agent_developer` - Can modify agent configuration, create/manage sessions, update tools and instructions.\n* `agent_user` - Limited access to interact with the agent by creating sessions and sending inputs. Cannot view agent configuration or modify settings.\n","type":"string","enum":["agent_administrator","agent_viewer","agent_developer","agent_user"]}},"required":["agent_key","role"],"title":"AgentRole"}},"api_policy":{"description":"What actions a principal can take on the Vectara platform.","type":"object","properties":{"name":{"description":"The name of the API role.","type":"string"},"allowed_operations":{"description":"Operations that are allowed by the API role. Each operation may only allow certain resources that are described by a resource path to resource value map. If the value is null, then the operation is allowed on any resource.","type":"object","additionalProperties":{"description":"Policy to allow operations if only using the specified resource.","type":"object","properties":{"allow_any_resource":{"description":"If any resource is allowed for the operation.","type":"boolean","default":true},"allowed_resources":{"description":"Object with keys of resource paths to a list of allowed resources. A resource path starts with either body, path, or implicit. A body or path resource is within the operation body, and an implicit resource is a resource implied by the request.","type":"object","additionalProperties":{"type":"array","items":{"type":"string"}}}},"required":["allow_any_resource"],"title":"ApiOperationPolicy"}}},"required":["name","allowed_operations"],"title":"ApiPolicy"}},"title":"User"},{"properties":{"one_time_code":{"type":"string","description":"A one time code for the newly created user to create a password. This is optional, and is only populated for some Vectara deployments."},"one_time_code_link":{"type":"string","description":"The link where to enter the `one_time_code`. This is optional, and is only populated for some Vectara deployments."}}}]}}}},"400":{"description":"User creation request was malformed.","content":{"application/json":{"schema":{"description":"Error returned when a request contains invalid parameters or violates schema validation.","type":"object","properties":{"field_errors":{"description":"The errors that relate to specific fields in the request.","type":"object","additionalProperties":{"type":"string"}},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"BadRequestError"}}}},"403":{"description":"Permissions do not allow retrieving a user.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}}}}
>
  
</StatusCodes>


      
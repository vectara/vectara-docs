---
id: create-user
title: "Create a user in the current customer account."
description: "Create a user for the current customer account. For example, a company wants to onboard new team members efficiently and this endpoint lets you streamline the process by adding new users programmatically, assigning appropriate roles, and setting up access permissions."
sidebar_label: "Create a user in the current customer account."
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create a user in the current customer account."}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v2/users"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Create a user for the current customer account. For example, a company wants to onboard new team members efficiently and this endpoint lets you streamline the process by adding new users programmatically, assigning appropriate roles, and setting up access permissions.


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false},{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Request to create a new user account in the system.","type":"object","properties":{"email":{"description":"The email address for the user.","type":"string","format":"email"},"username":{"description":"The username for the user. The value defaults to the email.","type":"string"},"description":{"description":"The description of the user.","type":"string"},"api_roles":{"description":"The customer-level role names assigned to the user.","type":"array","items":{"description":"Roles that a user or an app client can take on.","type":"string","enum":["owner","administrator","billing_administrator","corpus_administrator","corpus_developer","agent_administrator","agent_viewer","agent_developer"],"title":"ApiRole"}},"corpus_roles":{"description":"Corpus-specific role assignments for the user.","type":"array","items":{"description":"Corpus-specific role assignment.","type":"object","properties":{"corpus_key":{"description":"The key of the corpus this role applies to.","type":"string"},"role":{"description":"The role assigned for this specific corpus.","type":"string","enum":["owner","administrator","viewer","editor"]}},"required":["corpus_key","role"],"title":"CorpusRole"}},"agent_roles":{"description":"Agent-specific role assignments for the user.","type":"array","items":{"description":"Agent-specific role assignment.","type":"object","properties":{"agent_key":{"description":"The ID of the agent this role applies to.","type":"string"},"role":{"description":"The role assigned for this specific agent.\n* `agent_administrator` - Full administrative access to the agent including deletion and configuration.\n* `agent_viewer` - Read-only access to view agent configuration, sessions, events, instructions, and tools.\n* `agent_developer` - Can modify agent configuration, create/manage sessions, update tools and instructions.\n* `agent_user` - Limited access to interact with the agent by creating sessions and sending inputs. Cannot view agent configuration or modify settings.\n","type":"string","enum":["agent_administrator","agent_viewer","agent_developer","agent_user"]}},"required":["agent_key","role"],"title":"AgentRole"}}},"required":["email"],"title":"CreateUserRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"description":"The response returns a `user` object that contains the assigned user ID, email, username, enabled status, description, creation timestamp, and assigned API roles.\n","content":{"application/json":{"schema":{"allOf":[{"description":"A user account with associated profile information and permissions.","type":"object","properties":{"id":{"description":"The Vectara ID for the user.","type":"string","pattern":"usr_.+"},"email":{"description":"The email address for the user.","type":"string","format":"email"},"username":{"description":"The username for the user.","type":"string"},"enabled":{"description":"Indicates whether the user is enabled or disabled.","type":"boolean"},"description":{"description":"The description of the user.","type":"string"},"created_at":{"description":"When the user was created.","type":"string","format":"date-time"},"updated_at":{"description":"When a user property was last updated.","type":"string","format":"date-time"},"api_roles":{"description":"The customer-level role names of the user.","type":"array","items":{"description":"Roles that a user or an app client can take on.","type":"string","enum":["owner","administrator","billing_administrator","corpus_administrator","corpus_developer","agent_administrator","agent_viewer","agent_developer"],"title":"ApiRole"}},"corpus_roles":{"description":"Corpus-specific role assignments for the user.","type":"array","items":{"description":"Corpus-specific role assignment.","type":"object","properties":{"corpus_key":{"description":"The key of the corpus this role applies to.","type":"string"},"role":{"description":"The role assigned for this specific corpus.","type":"string","enum":["owner","administrator","viewer","editor"]}},"required":["corpus_key","role"],"title":"CorpusRole"}},"agent_roles":{"description":"Agent-specific role assignments for the user.","type":"array","items":{"description":"Agent-specific role assignment.","type":"object","properties":{"agent_key":{"description":"The ID of the agent this role applies to.","type":"string"},"role":{"description":"The role assigned for this specific agent.\n* `agent_administrator` - Full administrative access to the agent including deletion and configuration.\n* `agent_viewer` - Read-only access to view agent configuration, sessions, events, instructions, and tools.\n* `agent_developer` - Can modify agent configuration, create/manage sessions, update tools and instructions.\n* `agent_user` - Limited access to interact with the agent by creating sessions and sending inputs. Cannot view agent configuration or modify settings.\n","type":"string","enum":["agent_administrator","agent_viewer","agent_developer","agent_user"]}},"required":["agent_key","role"],"title":"AgentRole"}},"api_policy":{"description":"What actions a principal can take on the Vectara platform.","type":"object","properties":{"name":{"description":"The name of the API role.","type":"string"},"allowed_operations":{"description":"Operations that are allowed by the API role. Each operation may only allow certain resources that are described by a resource path to resource value map. If the value is null, then the operation is allowed on any resource.","type":"object","additionalProperties":{"description":"Policy to allow operations if only using the specified resource.","type":"object","properties":{"allow_any_resource":{"description":"If any resource is allowed for the operation.","type":"boolean","default":true},"allowed_resources":{"description":"Object with keys of resource paths to a list of allowed resources. A resource path starts with either body, path, or implicit. A body or path resource is within the operation body, and an implicit resource is a resource implied by the request.","type":"object","additionalProperties":{"type":"array","items":{"type":"string"}}}},"required":["allow_any_resource"],"title":"ApiOperationPolicy"}}},"required":["name","allowed_operations"],"title":"ApiPolicy"}},"title":"User"},{"properties":{"one_time_code":{"type":"string","description":"A one time code for the newly created user to create a password. This is optional, and is only populated for some Vectara deployments."},"one_time_code_link":{"type":"string","description":"The link where to enter the `one_time_code`. This is optional, and is only populated for some Vectara deployments."}}}]}}}},"400":{"description":"User creation request was malformed.","content":{"application/json":{"schema":{"description":"Error returned when a request contains invalid parameters or violates schema validation.","type":"object","properties":{"field_errors":{"description":"The errors that relate to specific fields in the request.","type":"object","additionalProperties":{"type":"string"}},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"BadRequestError"}}}},"403":{"description":"Permissions do not allow retrieving a user.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}}}}
>
  
</StatusCodes>


      
---
id: create-instruction
title: "Create instruction"
description: "Create a new instruction that can guide agent behavior."
sidebar_label: "Create instruction"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create instruction"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v2/instructions"}
  context={"endpoint"}
>
  
</MethodEndpoint>



The Create Instruction API enables you to create reusable sets of behavioral 
      guidelines that shape how AI agents reason, respond, and interact with users 
      and tools. Instructions are fundamental to ensuring that agents operate within 
      enterprise policies, follow best practices, and maintain a consistent tone and 
      personality across all interactions.

      You specify the following parameters in the request body:

      - `name` (string, required): A human-readable name for the instruction.
      - `description` (string, optional): A detailed description of the instruction's purpose and intended use.
      - `template` (string, required): The instruction content in Apache Velocity Template Language, which allows for dynamic variable substitution.
      - `enabled` (boolean, optional): Whether the instruction should be enabled upon creation (defaults to `true`).
      - `metadata` (object, optional): Arbitrary metadata for tracking, versioning, or categorization.

      ## Example request

      ```json
      {
        "name": "Customer Support Tone and Style Guide",
        "description": "Ensures that the agent responds to customer inquiries with a helpful, friendly, and professional tone.",
        "template": "You are a customer support agent. Always be polite and empathetic. Address the customer by their name. Do not use technical jargon.",
        "enabled": true,
        "metadata": {
          "owner": "customer-support-team",
          "version": "1.0.0"
        }
      }
      ```
      ## Example response

      ```json
      {
        "id": "ins_12345",
        "name": "Customer Support Tone and Style Guide",
        "description": "Ensures that the agent responds to customer inquiries with a helpful, friendly, and professional tone.",
        "template": "You are a customer support agent. Always be polite and empathetic. Address the customer by their name. Do not use technical jargon.",
        "enabled": true,
        "version": 1,
        "metadata": {
          "owner": "customer-support-team",
          "version": "1.0.0"
        },
        "created_at": "2024-01-15T10:30:00Z",
        "updated_at": "2024-01-15T10:30:00Z"
      }
      ```

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false},{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"description":"Request to create an instruction. Currently only initial instructions are supported.","discriminator":{"propertyName":"type","mapping":{"initial":{"description":"Request object for creating a new initial instruction.","type":"object","properties":{"type":{"description":"The type of instruction to create.","type":"string","default":"initial","example":"initial"},"name":{"description":"The human-readable name of an instruction.","type":"string","minLength":1,"maxLength":50,"example":"Customer Support Initial Instruction","title":"InstructionName"},"description":{"description":"A detailed description of what this instruction does.","type":"string","example":"Provides initial context and guidelines for customer support interactions"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are a helpful customer support agent for Acme Corp. Today's date is ${currentDate}. You have access to the following tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"},"metadata":{"description":"Arbitrary metadata associated with the instruction.","type":"object","additionalProperties":true,"default":{},"example":{"version":"1.0.0","author":"support-team"}},"enabled":{"description":"Whether the instruction should be enabled upon creation.","type":"boolean","default":true,"example":true}},"required":["type","name","template"],"x-vectaraParents":["CreateInstructionRequest"],"title":"CreateInitialInstructionRequest"}}},"oneOf":[{"description":"Request object for creating a new initial instruction.","type":"object","properties":{"type":{"description":"The type of instruction to create.","type":"string","default":"initial","example":"initial"},"name":{"description":"The human-readable name of an instruction.","type":"string","minLength":1,"maxLength":50,"example":"Customer Support Initial Instruction","title":"InstructionName"},"description":{"description":"A detailed description of what this instruction does.","type":"string","example":"Provides initial context and guidelines for customer support interactions"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are a helpful customer support agent for Acme Corp. Today's date is ${currentDate}. You have access to the following tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"},"metadata":{"description":"Arbitrary metadata associated with the instruction.","type":"object","additionalProperties":true,"default":{},"example":{"version":"1.0.0","author":"support-team"}},"enabled":{"description":"Whether the instruction should be enabled upon creation.","type":"boolean","default":true,"example":true}},"required":["type","name","template"],"x-vectaraParents":["CreateInstructionRequest"],"title":"CreateInitialInstructionRequest"}],"title":"CreateInstructionRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"description":"The instruction has been created successfully.","content":{"application/json":{"schema":{"description":"An instruction that guides agent behavior.","discriminator":{"propertyName":"type","mapping":{"initial":{"description":"An initial instruction that provides guidance to the agent before user messages.","type":"object","properties":{"id":{"description":"The unique identifier for an instruction.","type":"string","pattern":"ins_[0-9a-zA-Z_-]+$","example":"ins_customer_support_init","title":"InstructionId"},"type":{"description":"The type of instruction.","type":"string","default":"initial","example":"initial"},"name":{"description":"The human-readable name of an instruction.","type":"string","minLength":1,"maxLength":50,"example":"Customer Support Initial Instruction","title":"InstructionName"},"description":{"description":"A detailed description of what this instruction does.","type":"string"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are a helpful customer support agent for Acme Corp. Today's date is ${currentDate}. You have access to the following tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"},"version":{"description":"The version identifier for this instruction. This is automatically incremented when the instruction is updated.","type":"integer","minimum":1,"example":1},"metadata":{"description":"Arbitrary metadata associated with the instruction.","type":"object","additionalProperties":true},"enabled":{"description":"Whether the instruction is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the instruction was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the instruction was last updated.","type":"string","format":"date-time"}},"required":["id","type","name","template_type","template","version","enabled"],"x-vectaraParents":["Instruction"],"title":"InitialInstruction"}}},"oneOf":[{"description":"An initial instruction that provides guidance to the agent before user messages.","type":"object","properties":{"id":{"description":"The unique identifier for an instruction.","type":"string","pattern":"ins_[0-9a-zA-Z_-]+$","example":"ins_customer_support_init","title":"InstructionId"},"type":{"description":"The type of instruction.","type":"string","default":"initial","example":"initial"},"name":{"description":"The human-readable name of an instruction.","type":"string","minLength":1,"maxLength":50,"example":"Customer Support Initial Instruction","title":"InstructionName"},"description":{"description":"A detailed description of what this instruction does.","type":"string"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are a helpful customer support agent for Acme Corp. Today's date is ${currentDate}. You have access to the following tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"},"version":{"description":"The version identifier for this instruction. This is automatically incremented when the instruction is updated.","type":"integer","minimum":1,"example":1},"metadata":{"description":"Arbitrary metadata associated with the instruction.","type":"object","additionalProperties":true},"enabled":{"description":"Whether the instruction is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the instruction was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the instruction was last updated.","type":"string","format":"date-time"}},"required":["id","type","name","template_type","template","version","enabled"],"x-vectaraParents":["Instruction"],"title":"InitialInstruction"}],"title":"Instruction"}}}},"400":{"description":"Instruction creation request was malformed or contains invalid content.","content":{"application/json":{"schema":{"description":"Error returned when a request contains invalid parameters or violates schema validation.","type":"object","properties":{"field_errors":{"description":"The errors that relate to specific fields in the request.","type":"object","additionalProperties":{"type":"string"}},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"BadRequestError"}}}},"403":{"description":"Permissions do not allow creating instructions.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}}}}
>
  
</StatusCodes>


      
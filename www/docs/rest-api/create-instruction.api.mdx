---
id: create-instruction
title: "Create instruction"
description: "Create a new instruction that can guide agent behavior."
sidebar_label: "Create instruction"
hide_title: true
hide_table_of_contents: true
api: eJztWutvG7kR/1cGTIDG6Upy3PZD9amOExyMay9u4mvROoYzWo60PHPJDcmVrAr634shd7WrR+w0D1zROsAlp91Zcp6/eZArEXDmxfhKnBsfXJ0HZY0X15mQ5HOnKv4txuLMEQYCBEMLUB0phAID5GhgVitJgDMyASZU4FxZNxSZsBU5ZNJzKcYij+v09hKZqNBhSYEc87ESivcrCCU5kQmDJYmxeEsfa/JhcKlKsnUQu/xdFgSnF+ewUFpDibfM6oR8AJpOrQsQLOS2rDQFglAQuLQeKBN/+opyNVUkwVNujfRgHQRVEtg6sBQ+L6hEMV6JsKyYIWUCzSKHpTKqrEsxfrHOBK+rHEkxnqL2tM4+T57BX5TWyn8/scq4/tfItr5O0pEPL61cMnknbHA1ZSK3JpAJ/AqrSqs82n30i2dZVr19toVsdBGFadzM9H1sCGe1c2SCXoI1egnKqKBQ92k8oCPwdVVZF0iyWFLxJqUyGKzjXSvHvhiWPyUTRGEzUWJVKTNjgmbdT3NoJ79QHmBqXeJUmdkmJPZYYh4ahabv2NUTC4p8p+7dzdjm/AbsdDvSWvX0FvbBMe/sNlOsdYjGS0Jkgu6QXaP3bN3636E9i7pEM3CEEieagAmZhR1bHNi7VObPZGahEOMXrM+79tcfjvtMnNU+2JIcvEtWgvNGZ9toEFSI5L2n0WDrndjYFeEUJAVUmiT0XrAEC4aoUCi/pU5pyR+SpmP4wtm5kuQ3xo3+fRcAjUxwp5Uhn9yhFa5xQeAYctjA6ToTgcpKY6Cbe4yeSNipyMyUIag9ybh839MPMm04SK/EnLTNVVgmAG9dYvO0L13vYavyy4bHS169x/Nhdrd8s6GEBgKg9izGNgZtiJJ09yv/H7aOIY1QkK6mtd5Xcco1rJ7TvCQ4s64awqWVuPyNB8kbKQ9PV3kCj1cYaD0EXrfAOQHmOXnPUcVcTq3WdhF5tlb7MTyZWkeYF8+e8gMG1Pg//ujpiv8dcnisn6jps6cN4bBA/xPdhaMMnpCR/B/rsKSAEsMB2Dt1ExUcuiW0NIDe21xhIAkLFYrI2QOIglIqfof6ooctCY83HrBa91S7EnNyPvHwYng8POZV6lAwSIpGt4NAWIo1f2YYDeQ++38vKBTkdnkEX9haS5iwmeOnUFfWNHi5JcPEWk1o+uiV+N6wyj/XW1n1qoXtiGM9F73OxN1gTnlAhxfIBo9VzdluvdFAOdO3bt/SxCA/QLpmFqyhN9NYnzymhsfU8JgaHlPDY2p4TA3rA7SH8kdk1FfW+ATvJ8cvHo6cAj1MiBoFcW9aR8ec1lovWVlf2G+dmv0OPmKWP9C+35+m1AHrsxi1UR9rAiXJBI5wF2Px4XxRYQjkTMxL/ubqePBHHPzrdPDPm8H1b5/u5C1/04b9TeOaN4zGh/PEuXzMcA9muHXWxf8hJTUvd826u/oQLuMTD1gHW2JQOerYtueOSjIRwwoye/igPNQVo7Ps8XZoGNHT7ItfFUi/BAWVh3wzz2iBkOsGnKPS0f1Yq7WnhwFxnTUTNXmD4YDRVEk+YFkd1vcCfYsth1x7al3Jqwo2yYAnRuwhjYW+dD+NPhyw8r2b7sC8kh3It/7a2eH6m05+Ilbu1e8JM6u2CGTwRJNTWzG0KMrpn+3ooCTvcZZiDrWOnYTIlctrje5ZL9qPRLb6lq3BVzUEj4Xp/2Nherio2vaFfnW1/kR91c9s1/3UtltM3d9gP0bgYwQ+RuD3jsDrg7Vn07r8/vh435g9sk0Htzl/4kxfouZkTpLPm9jCqAzXiXPUSrYm/4o25rVz1oGjUDvTVpS44WBvw+6UkfmZK8u685BWh0iz24V+IvynirS8Id7eH3by9C5hlKPovcG2Pp1DXMC3h3QNx59feK52y/ZYAid4671F55DjVAUq0/PGwA3tfvm/3pzw3XyqsTt/xfDWP2rcHABPGuQJNgYf/C354ybwJE3qWepHFhyCC2fN7EATsu5c8SXKpomOxt644+/2mbsgVyrv41GgtGBsAOTg7Kaxu2j4pd0zzMiQQ52sDG1fn7oJNM3j3PJpuJFt4nnYrfom3Fd8+7bp7yYs0aJYRlOkHW0eMatfVf/HLtDH0nMeUxrU4MnNyaVdhv+FXtL5xppxcErODLy8HcycratBc+Det77YIispFFa2dKkfiooIZKI/xaLklpZi/InVMzFHXe/twof/e5/1d+u+a3ZlGE4EYiwq60MaiRRiLEbzk9GODMkuib3aab5lEELlx6MRVmrYpIOhsnFZT3ntOHEz9WmlfqTlac0rX10zn2/4x0n81SN+xzGQPLIl6GojjA92bywkul6ebAzMrZ22i7hWrhWZcOYozhFQJ9e0t2R+3hajDkVPjlHachQp470FW0XmkuX7QnUgGB9yCBy6hXE3wEoN2Ea8AEf+2+6Gw+tuKroZRbTFWvP9Z051dpDqm50d7NWHW+XZpgz736iKtsc8nz2n7g1omoGJMlPbx8IWgd6+fncZL9vM9726pdk0HIzzRg6CHZCRwIrmWmf7+O8HMqfn/Ims8+Cb4hbBK3YrVlbt4+2e4XvDmmR0vPJqZqCu2nEp5rmtTbh+1oZEbo23mjZRkduyfTbib+vqKPpR4GpormgBnuYxW12xaG8pVxX5bj1pc7+1GD9g/Bi4RHqU8lqTFuBjTU5F+XsVFUQY88P3hsG/1RXvd6FxyUBpJGgKHpa2BrqryKkygjsvHfVORlZWmeBh6mzJdA4mzi48uSG8I81nq0nnkYy1F6VTgTPiNIaSNRnPGHUt2y6iraK54rNVqqQggYDPYGLlMtvkb59FoXySM7dliUb6IbxpqjQ1KwJ4vuNmp8BO2jFT4Ywy0OqW4OoHCjF6an/9LCnT8T0vrNRoRmGQx1dHWdREiaaOk1GeibokNGvtR1oyxxFK4SWhIweXDHoZfNjMvJX8kHWmRrPspGXB+vVu5IyF+JC2P3/1oe2NPZmNtnjrthh9b8bjsbGB3pudDO0hLCxUTpXNWLWwfKVsysPegvE81VHjuNwtLZOvJFlOhscZLAqVFwmPUtk1SdGAWnduMIS/1uSWrTrS9a5NY8tz+kG8Csb+uGQBNtcMfdxBE5wbSXfdAk3oxm8jSwunQgtdPLKmjsnean2x2hpvyyYwVxjV132d8hsDQZvgYObQhCG8pei1TH71/Hn3hacI6c+fPxSZmtCZ0baqU14cnBwBTmwdoLAL1mcqU5uLgTFnDnsD07E4aYAzkCv9m+k7cnOVUy/99jfXNEM9iqQDOx34RDyKlZS2swio2zXIHv+qnLVL3iyskyW622EVi07U4ZLuQge0IlZyEt3t16x+ozlo79sjdol57AGoRMU7TInkBPPbP/VWj+UB12Mlxt6gTf/ptqL6dLJfdV3GV1yhbZI7FwmjSqMycQ7v4rg6lYdXIiatrQLxOhMFl5DjK7FaTdDTz06v1/w4Bg3XelyAOsUBmOrAtkCKUzjlm7wZb7LeI9j3vnt7UPxUWO9fC24r6lh9/woy3HfR9vMF6e4Db8mTaM8S14PLNAdqKfaa2O6L0zynKtxL2+88Lt68uxSZmDTXfEsr+RuHC5HFv8ci3utObsb3gPnZSmg0s5q7yrFIa/KffwPYkng4
sidebar_class_name: "post api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create instruction"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v2/instructions"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Create a new instruction that can guide agent behavior.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false},{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"description":"Request to create an instruction. Currently only initial instructions are supported.","discriminator":{"propertyName":"type","mapping":{"initial":{"description":"Request object for creating a new initial instruction.","type":"object","properties":{"type":{"description":"The type of instruction to create.","type":"string","default":"initial","example":"initial"},"name":{"description":"The human-readable name of an instruction.","type":"string","minLength":1,"maxLength":50,"example":"Customer Support Initial Instruction","title":"InstructionName"},"description":{"description":"A detailed description of what this instruction does.","type":"string","example":"Provides initial context and guidelines for customer support interactions"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are a helpful customer support agent for Acme Corp. Today's date is ${currentDate}. You have access to the following tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"},"metadata":{"description":"Arbitrary metadata associated with the instruction.","type":"object","additionalProperties":true,"default":{},"example":{"version":"1.0.0","author":"support-team"}},"enabled":{"description":"Whether the instruction should be enabled upon creation.","type":"boolean","default":true,"example":true}},"required":["type","name","template"],"x-vectaraParents":["CreateInstructionRequest"],"title":"CreateInitialInstructionRequest"}}},"oneOf":[{"description":"Request object for creating a new initial instruction.","type":"object","properties":{"type":{"description":"The type of instruction to create.","type":"string","default":"initial","example":"initial"},"name":{"description":"The human-readable name of an instruction.","type":"string","minLength":1,"maxLength":50,"example":"Customer Support Initial Instruction","title":"InstructionName"},"description":{"description":"A detailed description of what this instruction does.","type":"string","example":"Provides initial context and guidelines for customer support interactions"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are a helpful customer support agent for Acme Corp. Today's date is ${currentDate}. You have access to the following tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"},"metadata":{"description":"Arbitrary metadata associated with the instruction.","type":"object","additionalProperties":true,"default":{},"example":{"version":"1.0.0","author":"support-team"}},"enabled":{"description":"Whether the instruction should be enabled upon creation.","type":"boolean","default":true,"example":true}},"required":["type","name","template"],"x-vectaraParents":["CreateInstructionRequest"],"title":"CreateInitialInstructionRequest"}],"title":"CreateInstructionRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"description":"The instruction has been created successfully.","content":{"application/json":{"schema":{"description":"An instruction that guides agent behavior.","type":"object","properties":{"id":{"description":"The unique identifier for an instruction.","type":"string","pattern":"ins_[0-9a-zA-Z_-]+$","example":"ins_customer_support_init","title":"InstructionId"},"name":{"description":"The human-readable name of an instruction.","type":"string","minLength":1,"maxLength":50,"example":"Customer Support Initial Instruction","title":"InstructionName"},"description":{"description":"A detailed description of what this instruction does.","type":"string"},"version":{"description":"The version identifier for this instruction. This is automatically incremented when the instruction is updated.","type":"integer","minimum":1,"example":1},"metadata":{"description":"Arbitrary metadata associated with the instruction.","type":"object","additionalProperties":true},"enabled":{"description":"Whether the instruction is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the instruction was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the instruction was last updated.","type":"string","format":"date-time"}},"required":["id","name","version","enabled"],"discriminator":{"propertyName":"type","mapping":{"initial":{"description":"An initial instruction that provides guidance to the agent before user messages.","allOf":["circular(Instruction)",{"type":"object","properties":{"type":{"description":"The type of instruction.","type":"string","default":"initial","example":"initial"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are a helpful customer support agent for Acme Corp. Today's date is ${currentDate}. You have access to the following tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"}},"required":["type","template_type","template"]}],"x-vectaraParents":["Instruction"],"title":"InitialInstruction"}}},"oneOf":[{"description":"An initial instruction that provides guidance to the agent before user messages.","allOf":["circular(Instruction)",{"type":"object","properties":{"type":{"description":"The type of instruction.","type":"string","default":"initial","example":"initial"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are a helpful customer support agent for Acme Corp. Today's date is ${currentDate}. You have access to the following tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"}},"required":["type","template_type","template"]}],"x-vectaraParents":["Instruction"],"title":"InitialInstruction"}],"title":"Instruction"}}}},"400":{"description":"Instruction creation request was malformed or contains invalid content.","content":{"application/json":{"schema":{"description":"Error returned when a request contains invalid parameters or violates schema validation.","type":"object","properties":{"field_errors":{"description":"The errors that relate to specific fields in the request.","type":"object","additionalProperties":{"type":"string"}},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"BadRequestError"}}}},"403":{"description":"Permissions do not allow creating instructions.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}}}}
>
  
</StatusCodes>


      
---
id: create-instruction
title: "Create instruction"
description: "Create a new instruction that can guide agent behavior."
sidebar_label: "Create instruction"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create instruction"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v2/instructions"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Create a new instruction that can guide agent behavior.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false},{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"description":"Request to create an instruction. Currently only initial instructions are supported.","discriminator":{"propertyName":"type","mapping":{"initial":{"description":"Request object for creating a new initial instruction.","type":"object","properties":{"type":{"description":"The type of instruction to create.","type":"string","default":"initial","example":"initial"},"name":{"description":"The human-readable name of the instruction.","type":"string","example":"Customer Support Initial Instruction"},"description":{"description":"A detailed description of what this instruction does.","type":"string","example":"Provides initial context and guidelines for customer support interactions"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are a helpful customer support agent for Acme Corp. Today's date is ${currentDate}. You have access to the following tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"},"metadata":{"description":"Arbitrary metadata associated with the instruction.","type":"object","additionalProperties":true,"default":{},"example":{"version":"1.0.0","author":"support-team"}},"enabled":{"description":"Whether the instruction should be enabled upon creation.","type":"boolean","default":true,"example":true}},"required":["type","name","template"],"x-vectaraParents":["CreateInstructionRequest"],"title":"CreateInitialInstructionRequest"}}},"oneOf":[{"description":"Request object for creating a new initial instruction.","type":"object","properties":{"type":{"description":"The type of instruction to create.","type":"string","default":"initial","example":"initial"},"name":{"description":"The human-readable name of the instruction.","type":"string","example":"Customer Support Initial Instruction"},"description":{"description":"A detailed description of what this instruction does.","type":"string","example":"Provides initial context and guidelines for customer support interactions"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are a helpful customer support agent for Acme Corp. Today's date is ${currentDate}. You have access to the following tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"},"metadata":{"description":"Arbitrary metadata associated with the instruction.","type":"object","additionalProperties":true,"default":{},"example":{"version":"1.0.0","author":"support-team"}},"enabled":{"description":"Whether the instruction should be enabled upon creation.","type":"boolean","default":true,"example":true}},"required":["type","name","template"],"x-vectaraParents":["CreateInstructionRequest"],"title":"CreateInitialInstructionRequest"}],"title":"CreateInstructionRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"description":"The instruction has been created successfully.","content":{"application/json":{"schema":{"description":"An instruction that guides agent behavior.","type":"object","properties":{"id":{"description":"The unique identifier for an instruction.","type":"string","pattern":"ins_[0-9a-zA-Z_-]+$","example":"ins_customer_support_init","title":"InstructionId"},"name":{"description":"The human-readable name of the instruction.","type":"string"},"description":{"description":"A detailed description of what this instruction does.","type":"string"},"version":{"description":"The version identifier for this instruction. This is automatically incremented when the instruction is updated.","type":"integer","minimum":1,"example":1},"metadata":{"description":"Arbitrary metadata associated with the instruction.","type":"object","additionalProperties":true},"enabled":{"description":"Whether the instruction is currently enabled and available for use.","type":"boolean","default":true},"created_at":{"description":"Timestamp when the instruction was created.","type":"string","format":"date-time"},"updated_at":{"description":"Timestamp when the instruction was last updated.","type":"string","format":"date-time"}},"required":["id","name","version","enabled"],"discriminator":{"propertyName":"type","mapping":{"initial":{"description":"An initial instruction that provides guidance to the agent before user messages.","allOf":["circular(Instruction)",{"type":"object","properties":{"type":{"description":"The type of instruction.","type":"string","default":"initial","example":"initial"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are a helpful customer support agent for Acme Corp. Today's date is ${currentDate}. You have access to the following tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"}},"required":["type","template_type","template"]}],"x-vectaraParents":["Instruction"],"title":"InitialInstruction"}}},"oneOf":[{"description":"An initial instruction that provides guidance to the agent before user messages.","allOf":["circular(Instruction)",{"type":"object","properties":{"type":{"description":"The type of instruction.","type":"string","default":"initial","example":"initial"},"template_type":{"description":"The templating engine used for instructions.","type":"string","enum":["velocity"],"default":"velocity","example":"velocity","title":"TemplateType"},"template":{"description":"The instruction template content using the specified template engine.","type":"string","example":"You are a helpful customer support agent for Acme Corp. Today's date is ${currentDate}. You have access to the following tools: #foreach($tool in $tools)${tool.name}#if($foreach.hasNext), #end#end"}},"required":["type","template_type","template"]}],"x-vectaraParents":["Instruction"],"title":"InitialInstruction"}],"title":"Instruction"}}}},"400":{"description":"Instruction creation request was malformed or contains invalid content.","content":{"application/json":{"schema":{"description":"Error returned when a request contains invalid parameters or violates schema validation.","type":"object","properties":{"field_errors":{"description":"The errors that relate to specific fields in the request.","type":"object","additionalProperties":{"type":"string"}},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"BadRequestError"}}}},"403":{"description":"Permissions do not allow creating instructions.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}}}}
>
  
</StatusCodes>


      
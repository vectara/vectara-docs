---
id: update-api-key
title: "Update an API key"
description: "Update an API key such as the roles attached to the key."
sidebar_label: "Update an API key"
hide_title: true
hide_table_of_contents: true
api: eJzFWNtuI7kR/RWin3YMXRwnT3qKd3awMYJgHI82QWAZHqqbkrjuJjsk27Ig6N9zqthXq8czi9lF5mGs7i7WjadOFXlMgtz6ZHGfXN/eiL+rg08eJkmmfOp0GbQ1ySL5pcxkUEIaQTJP6iB8le6E9CLslHA2V17IEGS6U5kIlt9CapZMElsqJ0nNTQZFFSu6LjXs4GMpnSxUUI7sHxNNtnZKZsrho8EnPN+p/1bKh+lSF8pWIXnt2xK2yKu9znNRyCe4KdZYINRmY10gd1JblDnMRG+jPqENP/pSpXqj4bdXqTWZF9aJAFsCxigAj6AKmSyOSTiU5JA2QW3Zw0IbXVRFsvjTaZKQXu0UotzI3KvT5Nvimf4Dfmv/x4VVsP7viY1CqZ2XpX7Exj7qDCIcXinDbtT5m5+E3bAvNWbIYJek4Co14oAPTpttcjo9RGGE9KPNDiSBCIIygX7Kssx1yrCa/+rJ5PFclV3/qlLCS+kIhEErT1+VkeucPDi+cvrGZKQTUN7vFPx2lONMexKnxMWFvSKggGpba4sakAZ+45UOuWqLJmK93nR8PzFUfGmNj/5cXV6e+7Icpu13Cl2PRP3FrRpuCNVqQKHSEvl0eJxdJKcG0mMqd1UhzdQB+5w0EvyqDSgETp0KBLFxtUQ9lQeqddyFGiJ+JpqvfmerPEOp4KkMVNSVU6O2vgwE8lP7luvws5Yd2/FJWxTEg+fa7mx+FrpYmWu45p7hSmsmBbKsyQ8CO4YSLwRCcwdB9to4ISA0/qTWldbJmejUSJOtjDaZeqGnRmGja23DTrRfIfst2slLKADKZN66uQPrS3ASswxtKyQK7T2i9U1HwCbKgJJ5FfbKjOBKGWKZ+6SOg1gp/nqEl4+NywTA2hNqT02N1dVFia83orQojxH0/Hsng5BpiG6KEtZTXSIuylIgfrWROf+FykFbEmUuA6Wut+dfKKsvV8Fr2BNCRrGIhNq9yh7bbunPFX5sv0EfBeOUqNeJ9WFoQ3xALxatNjSQQ8QWL1iZFN5L1BCYyFYuVT2V0eg6KpWthCCiJ0ZsXzzLvFIrU8hyJm5ijPyK6sVUeT6hVzGnnSPatz7jSZpDq2+AjjbTMss0LZT57SDnw9Tc8qaTd6y8s+eF3sTAK0/AH7bGt00PN5kVA5Io83rVKHH0I+oHu6HO28/ECJVQF93IKg+xO/Zg0W7TCCrYXYwJ2B3UmCe4DfbMc1oEZoBA3xqHWpVc5cNd9igA0ADrVJpb4RpNeMJfJ9QLdUFdSAdeTN/oJa/tB08K9GsERE3EQCi8Rs/KDJLW00ICHcBrpvptWKnlpHOShk4dVOHHRo7TYIq7H9vyIfW0FRnxl5xpYGYYre6honb9a2arvfrL5Z9HQN/j3cwKY0ON/q0KIYK9a2L+dxwjCuW93I6BkTiv+doQCXmy38XtU85RV0jRk92gm57vTZ2GWttY33iRNP7y4EaDCaicGgewylZmSbMZwMvj1yefZn5mHqSegAmCJw1Uz07lZdsXfFWWNIBnal1RZBDfI6li76zZjpB7b08/kGO8pXiJc8/OZnGCTndxwNrhcf58Na8nCj8/dgP3qe6MzWGpcjmdLkIo/WJOK2bP0cOZtgmNzzz66HBg6Qin64pM3D/QRP+RHq74qSf8iTAQt7YR6OAg+cXrYT/KobeCTJhs6kxBcAM4sq4URWzCe2w6/micj1itfVLml2EYUNWLYx5NzlmSzyvAIa2NKewH1ZV5c7gcPX29TPF9+qRisRHy77pTxocGUr1TQs3E2mxsH5cNGu4+fFpyjT2fJ6adJJx91hkdkQ0GyWwa7BR/2gGDewNPTFQqPytzfUNLsioFB8e2tTLAHVGhovwClmQSJLgy/7EVo/Xe660RVcnK8IzdsJUJDz80mUXte5oMmuTi8DinNVX5jsl4ZbhbP2u1Rx0BZainewrsDt0SSe80ZTb1AzX0ggCIcZ9F39WdI2aTB00wBwVBUTdH/jgseI5i2Zu7yOZtLg9bhwAygQOuFwdEqV5AQTi7mrrZceaRx9Li0OrFxtkCJiCJZuUAO+Vm4pPKqTnGvLMg5Y9jpDkX7RanXNqtCWbjNK+yZkagfhRpnBqbLWNbERFNflI3sfYcF/uZj/EiJTj7ZDiTfDSNMr3d4SwCEBDdKJrNWodK0NsE7RkT6P3PKoj3GL4rpDum1dFVAXI7B6lPU/70bsL5gI0KfH+AekUEKDj0+g6HvOa6FD8qDHVOLKmCJuJzWvlgC+VAKJ+j17ztNLb0YuaO3l3ORO8olM/RhZufPoMfATVMUwikyRoZj1pij16ZxWKBvqTo5yv+BFPsLY3hhcQxJJIhDy9U8UQSsTkt2gbGzsaYVuZqdjkB92q6hKIxOHazdawPOp20wJiJf/JBp7ncYnkmdqoU8lZmU54Q+UBEoXRtmm1A6Q2dQjoVdUELWstu7UGdtM+RA+NhNLoKR/vTaC84FWEsBzsEbMoaM936SJ5EEQ17iq2TJsxQm4xlWnB/cdGtAJuTvYuLr1Ut5k5n5sOUR9KdXoEX1rYKcGWHoQJ53SpDgUQkMCXHOYxaUmQ82J5dUgvEaOI/bj7RQY4G5Zbf+w7kaivzOYtO7Wbqo/Acy1+mud0y3Q6b3FkMutg2Kh/31mXA0tOs5PFA5mGpXkJHw3TMeplmkPge7Y85lfJbNmjIwjmTm0ghNVnYKJWtZfr015527j+l9QF13B0iz29aX3eV3j3Y91zL1s0ywP05GpHmiwzOx7EeRO4TbmnNKIKfi97tH0aGHZwnseNxLb1CHz+d6DWXEY0VAIZ0moqSJ5D6Jq25H30jrB/uah56J752OzX0v5kADGWN2wue8JOvk/p3lydMQM1o8Nt8+6Nvm0fjiv6fX4S3IdI893+I4a2r5W8PpLsBH8QTZd9Hr6dLUtdJnB1fuhXX4OAyvCn70Ju+b6+X7/8G6XV9y1zYjBY5uafravzPCIoTAE+t/O6Y5NJsKzqZLJKolP79DxNW37Q=
sidebar_class_name: "patch api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import ApiTabs from "@theme/ApiTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import SecuritySchemes from "@theme/ApiExplorer/SecuritySchemes";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import Heading from "@theme/Heading";
import TabItem from "@theme/TabItem";

<h1 className={"openapi__heading"}>Update an API key</h1>

<MethodEndpoint
  method={"patch"}
  path={"/v2/api_keys/{api_key_id}"}
></MethodEndpoint>

Update an API key such as the roles attached to the key.

## Request

<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Path Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"api_key_id","in":"path","description":"The ID of the API key.","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details><details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Header Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}}}></ParamsItem></ul></div></details><MimeTabs className={"openapi-tabs__mime"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"enabled"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"description":"Indicates whether to disable or enable an API key.","type":"boolean"}}></SchemaItem></ul></details></TabItem></MimeTabs><div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>

The API key.

</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"id"} required={false} schemaName={"string"} qualifierMessage={"**Possible values:** Value must match regular expression `aky_.*`"} schema={{"description":"The ID of the API key.","type":"string","pattern":"aky_.*"}}></SchemaItem><SchemaItem collapsible={false} name={"name"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"The human-readable name of the API key.","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"secret_key"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"The key used in API requests. The key should be kept secure.","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"enabled"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"description":"If this API key is enabled.","type":"boolean"}}></SchemaItem><SchemaItem collapsible={false} name={"api_key_role"} required={false} schemaName={"ApiKeyRole (string)"} qualifierMessage={"**Possible values:** [`serving`, `serving_and_indexing`, `personal`]"} schema={{"description":"Role of the API key. \nA serving API key can only perform query type requests on its corpora. A serving and\nindexing key can perform both indexing and query type requests on its corpora.\nA personal API key has all the same permissions as the creator of the API key.\n","type":"string","enum":["serving","serving_and_indexing","personal"],"title":"ApiKeyRole"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>api_policy</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

What actions a principal can take on the Vectara platform.

</div><SchemaItem collapsible={false} name={"name"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"The name of the API role.","type":"string"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>allowed_operations</strong><span className={"openapi-schema__name"}> object</span><span className={"openapi-schema__divider"}></span><span className={"openapi-schema__required"}>required</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Operations that are allowed by the API role. Each operation may only allow
certain resources that are described by a resource path to resource value
map. If the value is null, then the operation is allowed on any resource.

</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>property name*</strong><span className={"openapi-schema__name"}> ApiOperationPolicy</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Policy to allow operations if only using the specified resource.

</div><SchemaItem collapsible={false} name={"allow_any_resource"} required={true} schemaName={"boolean"} qualifierMessage={undefined} schema={{"description":"If any resource is allowed for the operation.","type":"boolean","default":true}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>allowed_resources</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Object with keys of resource paths to a list of allowed resources.
A resource path starts with either body, path, or implicit.
A body or path resource is within the operation body, and an implicit
resource is a resource implied by the request.

</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>property name*</strong><span className={"openapi-schema__name"}> string[]</span></span></summary><div style={{"marginLeft":"1rem"}}><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem","paddingBottom":".5rem"}}>Array [</div></li><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

string

</div><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem"}}>]</div></li></div></details></SchemaItem></div></details></SchemaItem></div></details></SchemaItem></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"id\": \"string\",\n  \"name\": \"string\",\n  \"secret_key\": \"string\",\n  \"enabled\": true,\n  \"api_key_role\": \"serving\",\n  \"api_policy\": {\n    \"name\": \"string\",\n    \"allowed_operations\": {}\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"403"} value={"403"}><div>

Permissions do not allow getting this API keys.

</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"messages"} required={false} schemaName={"message (string)[]"} qualifierMessage={undefined} schema={{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}}}></SchemaItem><SchemaItem collapsible={false} name={"request_id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"messages\": [\n    \"Internal server error.\"\n  ],\n  \"request_id\": \"string\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>


---
id: create-api-key
title: "Create an API key"
description: "An API key is to authenticate when calling Vectara APIs."
sidebar_label: "Create an API key"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import ApiTabs from "@theme/ApiTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import SecuritySchemes from "@theme/ApiExplorer/SecuritySchemes";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import TabItem from "@theme/TabItem";

<h1 className={"openapi__heading"}>Create an API key</h1>

<MethodEndpoint method={"post"} path={"/v2/api_keys"}></MethodEndpoint>



An API key is to authenticate when calling Vectara APIs.

## Request

<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Header Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}}}></ParamsItem></ul></div></details><MimeTabs className={"openapi-tabs__mime"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"name"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"The human-readable name of the API key.","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"api_key_role"} required={true} schemaName={"ApiKeyRole"} qualifierMessage={"**Possible values:** [`serving`, `serving_and_indexing`, `personal`]"} schema={{"description":"Role of the API key. \nA serving API key can only perform query type requests on its corpora. A serving and\nindexing key can perform both indexing and query type requests on its corpora.\nA personal API key has all the same permissions as the creator of the API key.\n","type":"string","enum":["serving","serving_and_indexing","personal"],"title":"ApiKeyRole"}}></SchemaItem><SchemaItem collapsible={false} name={"corpus_keys"} required={false} schemaName={"CorpusKey[]"} qualifierMessage={"**Possible values:** `<= 50 characters`, Value must match regular expression `[a-zA-Z0-9_\\=\\-]+$`"} schema={{"description":"Corpora this API key has roles on if it is not a Personal API key.\nThis property should be null or missing if this `api_key_role` is\n`personal`.\n","type":"array","items":{"description":"A user-provided key for a corpus.","type":"string","example":"my-corpus","pattern":"[a-zA-Z0-9_\\=\\-]+$","maxLength":50,"title":"CorpusKey"}}}></SchemaItem></ul></details></TabItem></MimeTabs><div><div><ApiTabs><TabItem label={"201"} value={"201"}><div>

An API key object, used to query the Vectara API with the assigned roles.

</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"id"} required={false} schemaName={"string"} qualifierMessage={"**Possible values:** Value must match regular expression `aky_.*`"} schema={{"description":"The ID of the API key.","type":"string","pattern":"aky_.*"}}></SchemaItem><SchemaItem collapsible={false} name={"name"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"The human-readable name of the API key.","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"secret_key"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"The key used in API requests. The key should be kept secure.","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"enabled"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"description":"If this API key is enabled.","type":"boolean"}}></SchemaItem><SchemaItem collapsible={false} name={"api_key_role"} required={false} schemaName={"ApiKeyRole"} qualifierMessage={"**Possible values:** [`serving`, `serving_and_indexing`, `personal`]"} schema={{"description":"Role of the API key. \nA serving API key can only perform query type requests on its corpora. A serving and\nindexing key can perform both indexing and query type requests on its corpora.\nA personal API key has all the same permissions as the creator of the API key.\n","type":"string","enum":["serving","serving_and_indexing","personal"],"title":"ApiKeyRole"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>api_policy</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

What actions a principal can take on the Vectara platform.

</div><SchemaItem collapsible={false} name={"name"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"The name of the API role.","type":"string"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>allowed_operations</strong><span className={"openapi-schema__name"}> object</span><span className={"openapi-schema__divider"}></span><span className={"openapi-schema__required"}>required</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Operations that are allowed by the API role. Each operation may only allow
certain resources that are described by a resource path to resource value
map. If the value is null, then the operation is allowed on any resource.


</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>property name*</strong><span className={"openapi-schema__name"}> ApiOperationPolicy</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Policy to allow operations if only using the specified resource.


</div><SchemaItem collapsible={false} name={"allow_any_resource"} required={true} schemaName={"boolean"} qualifierMessage={undefined} schema={{"description":"If any resource is allowed for the operation.","type":"boolean","default":true}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>allowed_resources</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Object with keys of resource paths to a list of allowed resources.
A resource path starts with either body, path, or implicit.
A body or path resource is within the operation body, and an implicit
resource is a resource implied by the request.


</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>property name*</strong><span className={"openapi-schema__name"}> string[]</span></span></summary><div style={{"marginLeft":"1rem"}}><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem","paddingBottom":".5rem"}}>Array [</div></li><div style={{"marginTop":".5rem","marginBottom":".5rem","marginLeft":"1rem"}}>

string

</div><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem"}}>]</div></li></div></details></SchemaItem></div></details></SchemaItem></div></details></SchemaItem></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"id\": \"string\",\n  \"name\": \"string\",\n  \"secret_key\": \"string\",\n  \"enabled\": true,\n  \"api_key_role\": \"serving\",\n  \"api_policy\": {\n    \"name\": \"string\",\n    \"allowed_operations\": {}\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"400"} value={"400"}><div>

API key creation request was malformed.

</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>field_errors</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

The errors that relate to specific fields in the request.

</div><SchemaItem name={"property name*"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}} collapsible={false} discriminator={false}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={false} name={"messages"} required={false} schemaName={"message[]"} qualifierMessage={undefined} schema={{"type":"array","items":{"title":"message","type":"string"}}}></SchemaItem><SchemaItem collapsible={false} name={"request_id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"field_errors\": {},\n  \"messages\": [\n    \"string\"\n  ],\n  \"request_id\": \"string\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"403"} value={"403"}><div>

Permissions do not allow creating the API key.

</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"messages"} required={false} schemaName={"message[]"} qualifierMessage={undefined} schema={{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}}}></SchemaItem><SchemaItem collapsible={false} name={"request_id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"messages\": [\n    \"Internal server error.\"\n  ],\n  \"request_id\": \"string\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      
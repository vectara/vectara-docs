"use strict";(self.webpackChunkwww=self.webpackChunkwww||[]).push([[9974,2917],{3905:(e,t,r)=>{r.d(t,{Zo:()=>l,kt:()=>f});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var c=n.createContext({}),p=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},l=function(e){var t=p(e.components);return n.createElement(c.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),d=p(r),m=a,f=d["".concat(c,".").concat(m)]||d[m]||u[m]||o;return r?n.createElement(f,i(i({ref:t},l),{},{components:r})):n.createElement(f,i({ref:t},l))}));function f(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=m;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[d]="string"==typeof e?e:a,i[1]=s;for(var p=2;p<o;p++)i[p]=r[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},78473:(e,t,r)=>{r.r(t),r.d(t,{Config:()=>d,assets:()=>p,contentTitle:()=>s,default:()=>m,frontMatter:()=>i,metadata:()=>c,toc:()=>l});var n=r(87462),a=(r(67294),r(3905)),o=r(53487);const i={},s=void 0,c={unversionedId:"definitions",id:"definitions",title:"definitions",description:"",source:"@site/docs/definitions.md",sourceDirName:".",slug:"/definitions",permalink:"/docs/definitions",draft:!1,editUrl:"https://github.com/vectara/vectara-docs/tree/master/www/docs/definitions.md",tags:[],version:"current",frontMatter:{}},p={},l=[];function d(e){return o.g[e.v]}const u={toc:l,Config:d};function m(e){let{components:t,...r}=e;return(0,a.kt)("wrapper",(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}))}m.isMDXComponent=!0},75220:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>c,toc:()=>l});var n=r(87462),a=(r(67294),r(3905)),o=r(78473);const i={id:"filter-overview",title:"Overview"},s=void 0,c={unversionedId:"search-apis/sql/filter-overview",id:"search-apis/sql/filter-overview",title:"Overview",description:"Filter expressions are attached to queries, or, more formally, to its corpus",source:"@site/docs/search-apis/sql/overview.md",sourceDirName:"search-apis/sql",slug:"/search-apis/sql/filter-overview",permalink:"/docs/search-apis/sql/filter-overview",draft:!1,editUrl:"https://github.com/vectara/vectara-docs/tree/master/www/docs/search-apis/sql/overview.md",tags:[],version:"current",frontMatter:{id:"filter-overview",title:"Overview"},sidebar:"someSidebar",previous:{title:"Reranking",permalink:"/docs/search-apis/reranking"},next:{title:"Functions and Operators",permalink:"/docs/search-apis/sql/func-opr"}},p={},l=[],d={toc:l};function u(e){let{components:t,...r}=e;return(0,a.kt)("wrapper",(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Filter expressions are attached to queries, or, more formally, to its corpus\nkeys, and serve to restrict the search to only the part of the corpus that\nmatches the expression. In both form and function, they are a simpler version\nof a where clause's ",(0,a.kt)("em",{parentName:"p"},"search condition")," in ",(0,a.kt)("a",{parentName:"p",href:"http://www.contrib.andrew.cmu.edu/~shadow/sql/sql1992.txt"},"ANSI SQL, see \xa77.6"),"."),(0,a.kt)("p",null,"An expression operates on the metadata attached to documents that are indexed\nin ",(0,a.kt)(o.Config,{v:"names.product",mdxType:"Config"}),". Because this metadata can be associated to\neither the entire document, or to specific parts within it, the ",(0,a.kt)("em",{parentName:"p"},"scope")," must\nbe explicitly specified for every metadata reference in the expression. Valid\nscopes are ",(0,a.kt)("inlineCode",{parentName:"p"},"doc.")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"part."),", for document and part-level metadata,\nrespectively."),(0,a.kt)("p",null,"The expression below selects customer reviews in German with better than a\n3-star rating. Note that while there is a single rating for the entire document,\nthe detected language is set at the part level. "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"doc.rating > 3.0 and part.lang = 'deu'\n")),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"lang")," metadata tag used in this example is detected and set automatically\nby the platform at indexing time. It's set at the part level for accuracy,\nbecause a single document may contain content in multiple languages."),(0,a.kt)("p",null,"More complicated expressions are possible, such as the one below, which\nchecks for documents with a publication date in 2021."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"1609459200 < doc.pub_epoch and doc.pub_epoch < 1640995200\n")),(0,a.kt)("p",null,"Here, ",(0,a.kt)("inlineCode",{parentName:"p"},"pub_epoch")," stores the date in ",(0,a.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Unix_time"},"epoch time"),"."),(0,a.kt)("p",null,"You can find a full list of supported syntax on the ",(0,a.kt)("a",{parentName:"p",href:"/docs/search-apis/sql/func-opr"},"Functions and Operators"),"\npage."))}u.isMDXComponent=!0},53487:e=>{e.exports=JSON.parse('{"g":{"domains.rest.serving":"api.vectara.io","domains.rest.admin":"api.vectara.io","domains.rest.indexing":"api.vectara.io","domains.grpc.serving":"serving.vectara.io","domains.grpc.admin":"admin.vectara.io","domains.grpc.indexing":"indexing.vectara.io","domains.oauth":"vectara-prod-${CUSTOMER_ID}.auth.us-west-2.amazoncognito.com","package.protobuf":"com.vectara","package.java":"com.vectara","package.php":"Com\\\\Vectara","names.company":"Vectara","names.product":"Vectara"}}')}}]);
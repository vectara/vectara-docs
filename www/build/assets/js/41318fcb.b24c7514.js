"use strict";(self.webpackChunkwww=self.webpackChunkwww||[]).push([[5465,2917],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>y});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=c(n),m=r,y=d["".concat(l,".").concat(m)]||d[m]||p[m]||i;return n?a.createElement(y,o(o({ref:t},u),{},{components:n})):a.createElement(y,o({ref:t},u))}));function y(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:r,o[1]=s;for(var c=2;c<i;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},85162:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(67294),r=n(86010);const i="tabItem_Ymn6";function o(e){let{children:t,hidden:n,className:o}=e;return a.createElement("div",{role:"tabpanel",className:(0,r.Z)(i,o),hidden:n},t)}},65488:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(87462),r=n(67294),i=n(86010),o=n(72389),s=n(67392),l=n(7094),c=n(12466);const u="tabList__CuJ",d="tabItem_LNqP";function p(e){const{lazy:t,block:n,defaultValue:o,values:p,groupId:m,className:y}=e,b=r.Children.map(e.children,(e=>{if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),v=p??b.map((e=>{let{props:{value:t,label:n,attributes:a}}=e;return{value:t,label:n,attributes:a}})),h=(0,s.l)(v,((e,t)=>e.value===t.value));if(h.length>0)throw new Error(`Docusaurus error: Duplicate values "${h.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const f=null===o?o:o??b.find((e=>e.props.default))?.props.value??b[0].props.value;if(null!==f&&!v.some((e=>e.value===f)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${f}" but none of its children has the corresponding value. Available values are: ${v.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:k,setTabGroupChoices:g}=(0,l.U)(),[w,_]=(0,r.useState)(f),O=[],{blockElementScrollPositionUntilNextRender:T}=(0,c.o5)();if(null!=m){const e=k[m];null!=e&&e!==w&&v.some((t=>t.value===e))&&_(e)}const E=e=>{const t=e.currentTarget,n=O.indexOf(t),a=v[n].value;a!==w&&(T(t),_(a),null!=m&&g(m,String(a)))},I=e=>{let t=null;switch(e.key){case"Enter":E(e);break;case"ArrowRight":{const n=O.indexOf(e.currentTarget)+1;t=O[n]??O[0];break}case"ArrowLeft":{const n=O.indexOf(e.currentTarget)-1;t=O[n]??O[O.length-1];break}}t?.focus()};return r.createElement("div",{className:(0,i.Z)("tabs-container",u)},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":n},y)},v.map((e=>{let{value:t,label:n,attributes:o}=e;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:w===t?0:-1,"aria-selected":w===t,key:t,ref:e=>O.push(e),onKeyDown:I,onClick:E},o,{className:(0,i.Z)("tabs__item",d,o?.className,{"tabs__item--active":w===t})}),n??t)}))),t?(0,r.cloneElement)(b.filter((e=>e.props.value===w))[0],{className:"margin-top--md"}):r.createElement("div",{className:"margin-top--md"},b.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==w})))))}function m(e){const t=(0,o.Z)();return r.createElement(p,(0,a.Z)({key:String(t)},e))}},89855:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>u,default:()=>b,frontMatter:()=>c,metadata:()=>d,toc:()=>m});var a=n(87462),r=(n(67294),n(3905)),i=n(65488),o=n(85162),s=n(78473),l=n(53487);const c={id:"api-keys",title:"API Keys",sidebar_label:"Overview"},u=void 0,d={unversionedId:"api-keys",id:"api-keys",title:"API Keys",description:"API keys provide controlled unauthenticated access to your corpora in the  platform. Rapidly build prototypes by embedding API keys in clients such as web pages and mobile apps.",source:"@site/docs/create_api_keys.md",sourceDirName:".",slug:"/api-keys",permalink:"/docs/api-keys",draft:!1,editUrl:"https://github.com/vectara/vectara-docs/tree/master/www/docs/create_api_keys.md",tags:[],version:"current",frontMatter:{id:"api-keys",title:"API Keys",sidebar_label:"Overview"},sidebar:"someSidebar",previous:{title:"Python",permalink:"/docs/getting-started-samples/rest_util.py"},next:{title:"C#",permalink:"/docs/getting-started-samples/RestApiKeyQueries.cs"}},p={},m=[{value:"Creating a Key",id:"creating-a-key",level:2},{value:"Using a Key",id:"using-a-key",level:2},{value:"Disable and Enable",id:"disable-and-enable",level:2},{value:"Delete",id:"delete",level:2}],y={toc:m};function b(e){let{components:t,...c}=e;return(0,r.kt)("wrapper",(0,a.Z)({},y,c,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"API keys provide controlled unauthenticated access to your corpora in the ",(0,r.kt)(s.Config,{v:"names.product",mdxType:"Config"})," platform. Rapidly build prototypes by embedding API keys in clients such as web pages and mobile apps. "),(0,r.kt)("h2",{id:"creating-a-key"},"Creating a Key"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Navigate to the API keys page. Click on the ",(0,r.kt)("strong",{parentName:"p"},"API Keys")," menu item in the dsidebar navigation. ")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Click on ",(0,r.kt)("strong",{parentName:"p"},"Create Key")," button and a dialog will display to create an API key"))),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"Enter the name for the key to distinguish it "),(0,r.kt)("li",{parentName:"ol"}),(0,r.kt)("li",{parentName:"ol"},"Enter or select one or more corpora "),(0,r.kt)("li",{parentName:"ol"},"Click ",(0,r.kt)("strong",{parentName:"li"},"Create")," to create & save the new key. ")),(0,r.kt)("p",null,"You can now start using the key."),(0,r.kt)("h2",{id:"using-a-key"},"Using a Key"),(0,r.kt)("p",null,"To use an API key, pass it using the ",(0,r.kt)("inlineCode",{parentName:"p"},"x-api-key")," header request, in lieu of the\nstandard JWT token over bearer authentication method covered in\n",(0,r.kt)("a",{parentName:"p",href:"/docs/authentication"},"authentication"),"."),(0,r.kt)(i.Z,{defaultValue:"js",values:[{label:"JavaScript",value:"js"},{label:"Python",value:"py"},{label:"cURL",value:"curl"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"py",mdxType:"TabItem"},(0,r.kt)("pre",null,`\napi_key_header = {\n    "customer-id": CUSTOMER_ID,\n    "x-api-key": API_KEY\n}\n \ndata_dict = {\n    "query": [\n        {\n            "query": "What is the meaning of life?",\n            "num_results": 10,\n            "corpus_key": [\n                {\n                    "customer_id": CUSTOMER_ID,\n                    "corpus_id": CORPUS_ID\n                }\n            ]\n        }\n    ]\n}\npayload = json.dumps(data_dict)\nresponse = requests.post(\n    "https://${l.g["domains.rest.serving"]}/v1/query",\n    data=payload,\n    verify=True,\n    headers=api_key_header)\n`)),(0,r.kt)(o.Z,{value:"js",mdxType:"TabItem"},(0,r.kt)("pre",null,`\nfetch("https://${l.g["domains.rest.serving"]}:443/v1/query", {\n  headers: {\n    "Content-Type": "application/json",\n    "x-api-key": api_key,\n    "customer-id": customer_id,\n  },\n  body: JSON.stringify({\n    query: [\n      {\n        query: "What is the meaning of life?",\n        num_results: 10,\n        corpus_key: [{ customer_id: customer_id, corpus_id: corpus_id }],\n      },\n    ],\n  }),\n  method: "post",\n})\n  .then((res) => res.json())\n  .then((data) => console.log(data))\n  .catch((error) => console.log(error));\n`)),(0,r.kt)(o.Z,{value:"curl",mdxType:"TabItem"},(0,r.kt)("pre",null,`\ncurl -X POST \\\n  -H "x-api-key: \${API_KEY}" \\\n  -H "customer-id: \${CUSTOMER_ID}" \\\n  https://${l.g["domains.rest.serving"]}:443/v1/query \\\n  -d @- <<END;\n  {\n    "query": [\n      { "query": "What is the meaning of life?",\n        "num_results": 10,\n        "corpus_key": [{"customer_id": \${CUSTOMER_ID}, "corpus_id": \${CORPUS_ID}}]\n      }\n    ]\n  }\nEND\n`))),(0,r.kt)("h2",{id:"disable-and-enable"},"Disable and Enable"),(0,r.kt)("p",null,"To temporarily disable access to an API key, begin by visiting the API Keys\nscreen. Select disable by clicking on the action menu (three dots) of the key\nyou want to disable."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"API Key Disable",src:n(84740).Z,width:"1359",height:"753"})),(0,r.kt)("p",null,"It will take around a minute for query requests using this key to be blocked."),(0,r.kt)("p",null,"Once disabled, a key can be reenabled through the action menu. It will take a\nminute or two before it can serve query traffic again."),(0,r.kt)("h2",{id:"delete"},"Delete"),(0,r.kt)("p",null,"A key may be permanently deleted through its action menu. Proceed with caution,\nonce deleted, there is no way to undelete it, and all external systems that\nissue queries using the key will be blocked."))}b.isMDXComponent=!0},78473:(e,t,n)=>{n.r(t),n.d(t,{Config:()=>d,assets:()=>c,contentTitle:()=>s,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>u});var a=n(87462),r=(n(67294),n(3905)),i=n(53487);const o={},s=void 0,l={unversionedId:"definitions",id:"definitions",title:"definitions",description:"",source:"@site/docs/definitions.md",sourceDirName:".",slug:"/definitions",permalink:"/docs/definitions",draft:!1,editUrl:"https://github.com/vectara/vectara-docs/tree/master/www/docs/definitions.md",tags:[],version:"current",frontMatter:{}},c={},u=[];function d(e){return i.g[e.v]}const p={toc:u,Config:d};function m(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}))}m.isMDXComponent=!0},84740:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/api_key_disable-12da45842e126db6874ad3fb070c8383.png"},53487:e=>{e.exports=JSON.parse('{"g":{"domains.rest.serving":"api.vectara.io","domains.rest.admin":"api.vectara.io","domains.rest.indexing":"api.vectara.io","domains.grpc.serving":"serving.vectara.io","domains.grpc.admin":"admin.vectara.io","domains.grpc.indexing":"indexing.vectara.io","domains.oauth":"vectara-prod-${CUSTOMER_ID}.auth.us-west-2.amazoncognito.com","package.protobuf":"com.vectara","package.java":"com.vectara","package.php":"Com\\\\Vectara","names.company":"Vectara","names.product":"Vectara"}}')}}]);
"use strict";(self.webpackChunkwww=self.webpackChunkwww||[]).push([[3578,2917],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>h});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,s=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),d=c(n),m=a,h=d["".concat(l,".").concat(m)]||d[m]||p[m]||s;return n?r.createElement(h,o(o({ref:t},u),{},{components:n})):r.createElement(h,o({ref:t},u))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var s=n.length,o=new Array(s);o[0]=m;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[d]="string"==typeof e?e:a,o[1]=i;for(var c=2;c<s;c++)o[c]=n[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},85162:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(67294),a=n(86010);const s="tabItem_Ymn6";function o(e){let{children:t,hidden:n,className:o}=e;return r.createElement("div",{role:"tabpanel",className:(0,a.Z)(s,o),hidden:n},t)}},65488:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(87462),a=n(67294),s=n(86010),o=n(72389),i=n(67392),l=n(7094),c=n(12466);const u="tabList__CuJ",d="tabItem_LNqP";function p(e){const{lazy:t,block:n,defaultValue:o,values:p,groupId:m,className:h}=e,f=a.Children.map(e.children,(e=>{if((0,a.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),g=p??f.map((e=>{let{props:{value:t,label:n,attributes:r}}=e;return{value:t,label:n,attributes:r}})),v=(0,i.l)(g,((e,t)=>e.value===t.value));if(v.length>0)throw new Error(`Docusaurus error: Duplicate values "${v.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const y=null===o?o:o??f.find((e=>e.props.default))?.props.value??f[0].props.value;if(null!==y&&!g.some((e=>e.value===y)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${y}" but none of its children has the corresponding value. Available values are: ${g.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:b,setTabGroupChoices:w}=(0,l.U)(),[k,C]=(0,a.useState)(y),x=[],{blockElementScrollPositionUntilNextRender:T}=(0,c.o5)();if(null!=m){const e=b[m];null!=e&&e!==k&&g.some((t=>t.value===e))&&C(e)}const O=e=>{const t=e.currentTarget,n=x.indexOf(t),r=g[n].value;r!==k&&(T(t),C(r),null!=m&&w(m,String(r)))},N=e=>{let t=null;switch(e.key){case"Enter":O(e);break;case"ArrowRight":{const n=x.indexOf(e.currentTarget)+1;t=x[n]??x[0];break}case"ArrowLeft":{const n=x.indexOf(e.currentTarget)-1;t=x[n]??x[x.length-1];break}}t?.focus()};return a.createElement("div",{className:(0,s.Z)("tabs-container",u)},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.Z)("tabs",{"tabs--block":n},h)},g.map((e=>{let{value:t,label:n,attributes:o}=e;return a.createElement("li",(0,r.Z)({role:"tab",tabIndex:k===t?0:-1,"aria-selected":k===t,key:t,ref:e=>x.push(e),onKeyDown:N,onClick:O},o,{className:(0,s.Z)("tabs__item",d,o?.className,{"tabs__item--active":k===t})}),n??t)}))),t?(0,a.cloneElement)(f.filter((e=>e.props.value===k))[0],{className:"margin-top--md"}):a.createElement("div",{className:"margin-top--md"},f.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==k})))))}function m(e){const t=(0,o.Z)();return a.createElement(p,(0,r.Z)({key:String(t)},e))}},78473:(e,t,n)=>{n.r(t),n.d(t,{Config:()=>d,assets:()=>c,contentTitle:()=>i,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>u});var r=n(87462),a=(n(67294),n(3905)),s=n(53487);const o={},i=void 0,l={unversionedId:"definitions",id:"definitions",title:"definitions",description:"",source:"@site/docs/definitions.md",sourceDirName:".",slug:"/definitions",permalink:"/docs/definitions",draft:!1,editUrl:"https://github.com/vectara/vectara-docs/tree/master/www/docs/definitions.md",tags:[],version:"current",frontMatter:{}},c={},u=[];function d(e){return s.g[e.v]}const p={toc:u,Config:d};function m(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}))}m.isMDXComponent=!0},73978:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>l,toc:()=>u});var r=n(87462),a=(n(67294),n(3905)),s=(n(65488),n(85162),n(78473));const o={id:"intepreting-scores",title:"Interpreting Scores",sidebar_label:"Scores"},i=void 0,l={unversionedId:"search-apis/interpreting-responses/intepreting-scores",id:"search-apis/interpreting-responses/intepreting-scores",title:"Interpreting Scores",description:"Overview",source:"@site/docs/search-apis/interpreting-responses/scores.md",sourceDirName:"search-apis/interpreting-responses",slug:"/search-apis/interpreting-responses/intepreting-scores",permalink:"/docs/search-apis/interpreting-responses/intepreting-scores",draft:!1,editUrl:"https://github.com/vectara/vectara-docs/tree/master/www/docs/search-apis/interpreting-responses/scores.md",tags:[],version:"current",frontMatter:{id:"intepreting-scores",title:"Interpreting Scores",sidebar_label:"Scores"},sidebar:"someSidebar",previous:{title:"Metadata",permalink:"/docs/search-apis/interpreting-responses/metadata"},next:{title:"Highlighting",permalink:"/docs/search-apis/interpreting-responses/highlighting"}},c={},u=[{value:"Overview",id:"overview",level:2},{value:"Comparison With Keyword Systems",id:"comparison-with-keyword-systems",level:2},{value:"Limiting number of results",id:"limiting-number-of-results",level:3},{value:"Comparing results across time and corpora",id:"comparing-results-across-time-and-corpora",level:3},{value:"Multilingual",id:"multilingual",level:3},{value:"Standard Results Response",id:"standard-results-response",level:2},{value:"Reranked Results Response",id:"reranked-results-response",level:2}],d={toc:u};function p(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"overview"},"Overview"),(0,a.kt)("p",null,"Like all search systems, ",(0,a.kt)(s.Config,{v:"names.product",mdxType:"Config"})," scores documents on how\nrelevant they are to the query.  And like all search systems, ",(0,a.kt)(s.Config,{v:"names.product",mdxType:"Config"}),"\nit's important to understand the scoring system and how it changes based on\nthe controls and query parameters you've provided."),(0,a.kt)("p",null,"Out of the box scores in ",(0,a.kt)(s.Config,{v:"names.product",mdxType:"Config"}),":"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Can be either positive or negative"),(0,a.kt)("li",{parentName:"ol"},"Are larger/more positive as relevance is increased"),(0,a.kt)("li",{parentName:"ol"},"Are between -1 and 1 when not ",(0,a.kt)("a",{parentName:"li",href:"/docs/search-apis/reranking"},"reranked")),(0,a.kt)("li",{parentName:"ol"},"Can be any real number -- positive or negative -- when\n",(0,a.kt)("a",{parentName:"li",href:"/docs/search-apis/reranking"},"reranked"),".  However, scores when reranked are\n",(0,a.kt)("em",{parentName:"li"},"typically")," between about -10 and 10")),(0,a.kt)("p",null,'See the sections below on "standard" and "reranked" results for details on\nhow they differ and how to use them best.'),(0,a.kt)("p",null,"Also, note that ",(0,a.kt)(s.Config,{v:"names.product",mdxType:"Config"})," provides an important control:\n",(0,a.kt)("a",{parentName:"p",href:"/docs/custom-dimensions"},"custom dimensions"),", which allow you to boost or bury\nresults based on metadata.  These can affect scores and if you're interested\nin understanding more on how, please read the documentation\n",(0,a.kt)("a",{parentName:"p",href:"/docs/custom-dimensions"},"here"),"."),(0,a.kt)("h2",{id:"comparison-with-keyword-systems"},"Comparison With Keyword Systems"),(0,a.kt)("p",null,"If you've used a keyword-based system (BM25, TF/IDF, etc) and are used to the\nscoring mechanics, it's worth discussing the differences so you can understand\nwhat to expect with ",(0,a.kt)(s.Config,{v:"names.product",mdxType:"Config"}),"."),(0,a.kt)("h3",{id:"limiting-number-of-results"},"Limiting number of results"),(0,a.kt)("p",null,"Unlike keyword systems which ",(0,a.kt)("em",{parentName:"p"},"only")," match documents that ",(0,a.kt)("em",{parentName:"p"},"exactly")," match\nthe term(s) that have been searched, ",(0,a.kt)(s.Config,{v:"names.product",mdxType:"Config"}),"\nattempts to produce scores for the majority of documents in a corpus -- even\nthose that have low relevance to the given query.  For some use cases, it's\ndesirable to have as many pages of results as possible, but for others, you\nmay wish to apply logic to limit the number of results that are shown in the\nwebsite or application."),(0,a.kt)("p",null,"In general, you can safely stop showing results with scores below 0.1 in all\ncases and below around 2 when using the reranker for most use cases.  A more\nrobust strategy for limiting results is to look for a sudden drop in scores.\nFor example, if the scores are ","[0.7, 0.6, 0.55, 0.5, 0.2, 0.14]",", the large drop\nfrom 0.5 to 0.2 means results have gotten significantly worse, and can be used\nas a signal to stop returning results."),(0,a.kt)("h3",{id:"comparing-results-across-time-and-corpora"},"Comparing results across time and corpora"),(0,a.kt)("p",null,"One of the advantages of ",(0,a.kt)(s.Config,{v:"names.product",mdxType:"Config"}),"'s scoring system is that\nresults are comparable across both different points in time and completely\ndifferent corpora, even after you've indexed additional/different documents.\nThis means you can split up your data across any corpora and not worry about\nhow that splitting may affect scoring.  This is because, unlike most keyword\nsystems, ",(0,a.kt)(s.Config,{v:"names.product",mdxType:"Config"})," does not rely on how ",(0,a.kt)("strong",{parentName:"p"},"relatively")," rare\na term or set of terms is, but rather the absolute semantic significance of a\ndocument to a query."),(0,a.kt)("h3",{id:"multilingual"},"Multilingual"),(0,a.kt)("p",null,"Most keyword-derived search systems will instruct you to separate content for\ndifferent languages into different corpora or indices because some terms are\nextremely common in one language but extremely rare in a different language.\nSplitting the indices helps ensure accurate term statistics. ",(0,a.kt)(s.Config,{v:"names.product",mdxType:"Config"}),"\nis different here, because it provides the ",(0,a.kt)("em",{parentName:"p"},"absolute")," semantic significance\nscores.  That is, ",(0,a.kt)(s.Config,{v:"names.product",mdxType:"Config"}),' isn\'t sensitive to situations\nlike that where indexing a set of Spanish documents containing the word "hay"\n(a common word in Spanish) decreases the relevance of an English document in\nthe same corpus that talks about the grain "hay" because ',(0,a.kt)(s.Config,{v:"names.product",mdxType:"Config"}),"\ntakes the language and context into account by default."),(0,a.kt)("h2",{id:"standard-results-response"},"Standard Results Response"),(0,a.kt)("p",null,"By default, results from ",(0,a.kt)(s.Config,{v:"names.product",mdxType:"Config"})," will be scored on a scale\nfrom -1 to 1, with 1 being a perfect match and -1 having absolutely nothing to\ndo with the query.  In practice, the vast majority will be scored between 0\nand 1."),(0,a.kt)("p",null,"As with most search systems, there is no hard rule around when to cut off\nresults as no longer very relevant.  However, as a general rule, scores less\nthan 0.1 tend to be of low quality and can typically be safely removed/ignored."),(0,a.kt)("h2",{id:"reranked-results-response"},"Reranked Results Response"),(0,a.kt)("p",null,"Scores from ",(0,a.kt)(s.Config,{v:"names.product",mdxType:"Config"})," after reranking will be scored on a\nscale from -infinity to +infinity.  Internally, the numbers returned from the\nreranker are derived from a logarithmic scoring system, which means that in\npractice, scores much higher than 10 or much lower than -10 should be rare."),(0,a.kt)("p",null,"As with standard results, there's no hard rule around when to cut off results,\nbut scores above around 2.5 or so tend to be pretty good, though we advise\nusers to test with their own data and some sample queries."),(0,a.kt)("p",null,"Note that the reranker is ",(0,a.kt)("em",{parentName:"p"},"currently")," English-only, so if you get very low\nscores, you might want to check that your content is in English and disable\nthe reranker where that isn't the case."))}p.isMDXComponent=!0},53487:e=>{e.exports=JSON.parse('{"g":{"domains.rest.serving":"api.vectara.io","domains.rest.admin":"api.vectara.io","domains.rest.indexing":"api.vectara.io","domains.grpc.serving":"serving.vectara.io","domains.grpc.admin":"admin.vectara.io","domains.grpc.indexing":"indexing.vectara.io","domains.oauth":"vectara-prod-${CUSTOMER_ID}.auth.us-west-2.amazoncognito.com","package.protobuf":"com.vectara","package.java":"com.vectara","package.php":"Com\\\\Vectara","names.company":"Vectara","names.product":"Vectara"}}')}}]);